import{_ as a,c as i,o as n,aP as l}from"./chunks/framework.Dxm0NwP8.js";const o=JSON.parse('{"title":"Vue shallowRef ï¼šæµ…å±‚å“åº”å¼ä¼˜åŒ–æ–¹æ¡ˆ","description":"","frontmatter":{},"headers":[],"relativePath":"column/Vue/å“åº”å¼APIè¿›é˜¶/shallowRef.md","filePath":"column/Vue/å“åº”å¼APIè¿›é˜¶/shallowRef.md"}'),e={name:"column/Vue/å“åº”å¼APIè¿›é˜¶/shallowRef.md"};function t(h,s,p,r,k,d){return n(),i("div",null,s[0]||(s[0]=[l(`<h1 id="vue-shallowref-æµ…å±‚å“åº”å¼ä¼˜åŒ–æ–¹æ¡ˆ" tabindex="-1">Vue shallowRef ï¼šæµ…å±‚å“åº”å¼ä¼˜åŒ–æ–¹æ¡ˆ <a class="header-anchor" href="#vue-shallowref-æµ…å±‚å“åº”å¼ä¼˜åŒ–æ–¹æ¡ˆ" aria-label="Permalink to &quot;Vue shallowRef ï¼šæµ…å±‚å“åº”å¼ä¼˜åŒ–æ–¹æ¡ˆ&quot;">â€‹</a></h1><h2 id="ä¸€ã€æ ¸å¿ƒæ¦‚å¿µä¸åŸºæœ¬ç”¨æ³•" tabindex="-1">ä¸€ã€æ ¸å¿ƒæ¦‚å¿µä¸åŸºæœ¬ç”¨æ³• <a class="header-anchor" href="#ä¸€ã€æ ¸å¿ƒæ¦‚å¿µä¸åŸºæœ¬ç”¨æ³•" aria-label="Permalink to &quot;ä¸€ã€æ ¸å¿ƒæ¦‚å¿µä¸åŸºæœ¬ç”¨æ³•&quot;">â€‹</a></h2><p><code>shallowRef</code> æ˜¯ Vue 3 æä¾›çš„ä¸€ç§å“åº”å¼ APIï¼Œç”¨äºåˆ›å»ºä¸€ä¸ª<strong>ä»…å¯¹ <code>.value</code> è®¿é—®è¿›è¡Œå“åº”å¼è¿½è¸ª</strong>çš„ ref å¯¹è±¡ã€‚ä¸å¸¸è§„ <code>ref</code> ä¸åŒï¼Œå®ƒä¸ä¼šå¯¹å…¶å†…éƒ¨å€¼è¿›è¡Œæ·±åº¦å“åº”å¼è½¬æ¢ã€‚</p><h3 id="åŸºç¡€ç¤ºä¾‹" tabindex="-1">åŸºç¡€ç¤ºä¾‹ <a class="header-anchor" href="#åŸºç¡€ç¤ºä¾‹" aria-label="Permalink to &quot;åŸºç¡€ç¤ºä¾‹&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { shallowRef } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shallowRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å“åº”å¼å˜åŒ–ï¼ˆè§¦å‘æ›´æ–°ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">state.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// éå“åº”å¼å˜åŒ–ï¼ˆä¸ä¼šè§¦å‘æ›´æ–°ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">state.value.count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="äºŒã€ä¸-ref-çš„å…³é”®å·®å¼‚" tabindex="-1">äºŒã€ä¸ ref çš„å…³é”®å·®å¼‚ <a class="header-anchor" href="#äºŒã€ä¸-ref-çš„å…³é”®å·®å¼‚" aria-label="Permalink to &quot;äºŒã€ä¸ ref çš„å…³é”®å·®å¼‚&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>ç‰¹æ€§</th><th>ref</th><th>shallowRef</th></tr></thead><tbody><tr><td><strong>å“åº”å¼æ·±åº¦</strong></td><td>æ·±åº¦å“åº”</td><td>ä»…æµ…å±‚å“åº”</td></tr><tr><td><strong>æ€§èƒ½å¼€é”€</strong></td><td>è¾ƒé«˜ï¼ˆé€’å½’è½¬æ¢ï¼‰</td><td>è¾ƒä½</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>éœ€è¦æ·±åº¦å“åº”çš„å°å¯¹è±¡</td><td>å¤§å‹å¯¹è±¡/ä¸éœ€è¦æ·±åº¦å“åº”çš„åœºæ™¯</td></tr><tr><td><strong>æ¨¡æ¿è‡ªåŠ¨è§£åŒ…</strong></td><td>æ”¯æŒ</td><td>æ”¯æŒ</td></tr></tbody></table><h2 id="ä¸‰ã€å…¸å‹ä½¿ç”¨åœºæ™¯" tabindex="-1">ä¸‰ã€å…¸å‹ä½¿ç”¨åœºæ™¯ <a class="header-anchor" href="#ä¸‰ã€å…¸å‹ä½¿ç”¨åœºæ™¯" aria-label="Permalink to &quot;ä¸‰ã€å…¸å‹ä½¿ç”¨åœºæ™¯&quot;">â€‹</a></h2><h3 id="_1-å¤§å‹å¯¹è±¡æ€§èƒ½ä¼˜åŒ–" tabindex="-1">1. å¤§å‹å¯¹è±¡æ€§èƒ½ä¼˜åŒ– <a class="header-anchor" href="#_1-å¤§å‹å¯¹è±¡æ€§èƒ½ä¼˜åŒ–" aria-label="Permalink to &quot;1. å¤§å‹å¯¹è±¡æ€§èƒ½ä¼˜åŒ–&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> largeObj</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shallowRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /* åŒ…å«æ•°åƒä¸ªå±æ€§çš„åºå¤§å¯¹è±¡ */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åªæœ‰æ›¿æ¢æ•´ä¸ªå¯¹è±¡æ‰ä¼šè§¦å‘æ›´æ–°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> updateData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  largeObj.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">largeObj.value, key: newValue };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_2-ç¬¬ä¸‰æ–¹åº“å®ä¾‹ç®¡ç†" tabindex="-1">2. ç¬¬ä¸‰æ–¹åº“å®ä¾‹ç®¡ç† <a class="header-anchor" href="#_2-ç¬¬ä¸‰æ–¹åº“å®ä¾‹ç®¡ç†" aria-label="Permalink to &quot;2. ç¬¬ä¸‰æ–¹åº“å®ä¾‹ç®¡ç†&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> mapInstance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shallowRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onMounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Leaflet åœ°å›¾å®ä¾‹ä¸éœ€è¦æ·±åº¦å“åº”</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  mapInstance.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> L</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;map&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_3-ä¸-watch-é…åˆä½¿ç”¨" tabindex="-1">3. ä¸ watch é…åˆä½¿ç”¨ <a class="header-anchor" href="#_3-ä¸-watch-é…åˆä½¿ç”¨" aria-label="Permalink to &quot;3. ä¸ watch é…åˆä½¿ç”¨&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shallowRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ items: [] });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åªæœ‰ state.value è¢«æ›¿æ¢æ—¶æ‰ä¼šè§¦å‘</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">watch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  state,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">newVal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ•´ä¸ªstateè¢«æ›¿æ¢:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, newVal);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { deep: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="å››ã€è¿›é˜¶ç”¨æ³•ä¸æŠ€å·§" tabindex="-1">å››ã€è¿›é˜¶ç”¨æ³•ä¸æŠ€å·§ <a class="header-anchor" href="#å››ã€è¿›é˜¶ç”¨æ³•ä¸æŠ€å·§" aria-label="Permalink to &quot;å››ã€è¿›é˜¶ç”¨æ³•ä¸æŠ€å·§&quot;">â€‹</a></h2><h3 id="_1-å¼ºåˆ¶è§¦å‘æ›´æ–°" tabindex="-1">1. å¼ºåˆ¶è§¦å‘æ›´æ–° <a class="header-anchor" href="#_1-å¼ºåˆ¶è§¦å‘æ›´æ–°" aria-label="Permalink to &quot;1. å¼ºåˆ¶è§¦å‘æ›´æ–°&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shallowRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¿®æ”¹å†…éƒ¨å€¼åæ‰‹åŠ¨è§¦å‘</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> increment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  state.value.count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  triggerRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(state); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‰‹åŠ¨è§¦å‘æ›´æ–°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_2-ä¸-reactive-ç»“åˆ" tabindex="-1">2. ä¸ reactive ç»“åˆ <a class="header-anchor" href="#_2-ä¸-reactive-ç»“åˆ" aria-label="Permalink to &quot;2. ä¸ reactive ç»“åˆ&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> shallow</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shallowRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> reactiveObj</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reactive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ shallow });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é€šè¿‡ reactive è®¿é—®ä¼šè‡ªåŠ¨è§£åŒ…</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(reactiveObj.shallow); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç›´æ¥è·å– { count: 0 }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-ç±»å‹å®šä¹‰-typescript" tabindex="-1">3. ç±»å‹å®šä¹‰ (TypeScript) <a class="header-anchor" href="#_3-ç±»å‹å®šä¹‰-typescript" aria-label="Permalink to &quot;3. ç±»å‹å®šä¹‰ (TypeScript)&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ShallowRef } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ShallowRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;{ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shallowRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="äº”ã€æ€§èƒ½å¯¹æ¯”æµ‹è¯•" tabindex="-1">äº”ã€æ€§èƒ½å¯¹æ¯”æµ‹è¯• <a class="header-anchor" href="#äº”ã€æ€§èƒ½å¯¹æ¯”æµ‹è¯•" aria-label="Permalink to &quot;äº”ã€æ€§èƒ½å¯¹æ¯”æµ‹è¯•&quot;">â€‹</a></h2><h3 id="æµ‹è¯•åœºæ™¯-10-000-ä¸ªå±æ€§çš„å¯¹è±¡" tabindex="-1">æµ‹è¯•åœºæ™¯ï¼š10,000 ä¸ªå±æ€§çš„å¯¹è±¡ <a class="header-anchor" href="#æµ‹è¯•åœºæ™¯-10-000-ä¸ªå±æ€§çš„å¯¹è±¡" aria-label="Permalink to &quot;æµ‹è¯•åœºæ™¯ï¼š10,000 ä¸ªå±æ€§çš„å¯¹è±¡&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>æ“ä½œ</th><th>ref (ms)</th><th>shallowRef (ms)</th></tr></thead><tbody><tr><td>åˆå§‹åˆ›å»º</td><td>120</td><td>15</td></tr><tr><td>ä¿®æ”¹åµŒå¥—å±æ€§</td><td>5</td><td>0.1</td></tr><tr><td>æ›¿æ¢æ•´ä¸ªå¯¹è±¡</td><td>1.2</td><td>1.1</td></tr><tr><td>å†…å­˜å ç”¨</td><td>é«˜</td><td>ä½</td></tr></tbody></table><h2 id="å…­ã€æœ€ä½³å®è·µæŒ‡å—" tabindex="-1">å…­ã€æœ€ä½³å®è·µæŒ‡å— <a class="header-anchor" href="#å…­ã€æœ€ä½³å®è·µæŒ‡å—" aria-label="Permalink to &quot;å…­ã€æœ€ä½³å®è·µæŒ‡å—&quot;">â€‹</a></h2><ol><li><strong>ä¼˜å…ˆç”¨äºå¤§å‹å¯¹è±¡</strong>ï¼šå½“å¯¹è±¡å±æ€§è¶…è¿‡ 100 ä¸ªæ—¶è€ƒè™‘ä½¿ç”¨</li><li><strong>é¿å…ä¸ v-model ç›´æ¥ä½¿ç”¨</strong>ï¼šéœ€è¦æ·±åº¦å“åº”æ—¶æ”¹ç”¨ ref</li><li><strong>æ˜ç¡®ä¿®æ”¹æ–¹å¼</strong>ï¼šå›¢é˜Ÿå†…çº¦å®šæ˜¯æ›¿æ¢æ•´ä¸ªå¯¹è±¡è¿˜æ˜¯ç”¨ triggerRef</li><li><strong>æ–‡æ¡£æ³¨é‡Š</strong>ï¼šå¯¹ä½¿ç”¨ shallowRef çš„å˜é‡æ·»åŠ è¯´æ˜æ³¨é‡Š</li></ol><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨shallowRefä¼˜åŒ–æ€§èƒ½ï¼Œæ³¨æ„ï¼šä¿®æ”¹å†…éƒ¨å±æ€§éœ€æ‰‹åŠ¨triggerRef</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shallowRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(defaultConfig);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="ä¸ƒã€å¸¸è§é—®é¢˜è§£ç­”" tabindex="-1">ä¸ƒã€å¸¸è§é—®é¢˜è§£ç­” <a class="header-anchor" href="#ä¸ƒã€å¸¸è§é—®é¢˜è§£ç­”" aria-label="Permalink to &quot;ä¸ƒã€å¸¸è§é—®é¢˜è§£ç­”&quot;">â€‹</a></h2><h3 id="q1-ä»€ä¹ˆæ—¶å€™è¯¥ç”¨-shallowref-æ›¿ä»£-ref" tabindex="-1">Q1: ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ shallowRef æ›¿ä»£ refï¼Ÿ <a class="header-anchor" href="#q1-ä»€ä¹ˆæ—¶å€™è¯¥ç”¨-shallowref-æ›¿ä»£-ref" aria-label="Permalink to &quot;Q1: ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ shallowRef æ›¿ä»£ refï¼Ÿ&quot;">â€‹</a></h3><ul><li>å¤„ç†å¤§å‹å¯¹è±¡ï¼ˆå±æ€§è¶…è¿‡ 100 ä¸ªï¼‰</li><li>ç®¡ç†ç¬¬ä¸‰æ–¹åº“å®ä¾‹</li><li>ä¸éœ€è¦è·Ÿè¸ªåµŒå¥—å±æ€§å˜åŒ–æ—¶</li><li>æ€§èƒ½æ•æ„Ÿåœºæ™¯</li></ul><h3 id="q2-å¦‚ä½•æ£€æµ‹-shallowref-çš„å˜åŒ–" tabindex="-1">Q2: å¦‚ä½•æ£€æµ‹ shallowRef çš„å˜åŒ–ï¼Ÿ <a class="header-anchor" href="#q2-å¦‚ä½•æ£€æµ‹-shallowref-çš„å˜åŒ–" aria-label="Permalink to &quot;Q2: å¦‚ä½•æ£€æµ‹ shallowRef çš„å˜åŒ–ï¼Ÿ&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">watch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> shallowRef.value, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç›´æ¥ç›‘å¬.value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">newVal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* å¤„ç†å˜åŒ– */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { deep: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¿…é¡»æ˜¾å¼ç¦ç”¨deep</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="q3-shallowref-ä¼šå®Œå…¨é˜»æ­¢å“åº”å¼å—" tabindex="-1">Q3: shallowRef ä¼šå®Œå…¨é˜»æ­¢å“åº”å¼å—ï¼Ÿ <a class="header-anchor" href="#q3-shallowref-ä¼šå®Œå…¨é˜»æ­¢å“åº”å¼å—" aria-label="Permalink to &quot;Q3: shallowRef ä¼šå®Œå…¨é˜»æ­¢å“åº”å¼å—ï¼Ÿ&quot;">â€‹</a></h3><p>ä¸ä¼šï¼Œåªæ˜¯å“åº”å¼å±‚çº§ä¸åŒï¼š</p><ul><li><code>ref</code>ï¼šæ·±å±‚å“åº”ï¼ˆé€’å½’è½¬æ¢ï¼‰</li><li><code>shallowRef</code>ï¼šæµ…å±‚å“åº”ï¼ˆä»….valueï¼‰</li><li><code>markRaw</code>ï¼šå®Œå…¨éå“åº”å¼</li></ul><h2 id="å…«ã€ä¸ç›¸ä¼¼-api-å¯¹æ¯”" tabindex="-1">å…«ã€ä¸ç›¸ä¼¼ API å¯¹æ¯” <a class="header-anchor" href="#å…«ã€ä¸ç›¸ä¼¼-api-å¯¹æ¯”" aria-label="Permalink to &quot;å…«ã€ä¸ç›¸ä¼¼ API å¯¹æ¯”&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>API</th><th>å“åº”å¼å±‚çº§</th><th>æ˜¯å¦é€’å½’</th><th>å…¸å‹ç”¨ä¾‹</th></tr></thead><tbody><tr><td>ref</td><td>æ·±å±‚</td><td>æ˜¯</td><td>æ™®é€šå“åº”å¼æ•°æ®</td></tr><tr><td>shallowRef</td><td>æµ…å±‚(.value)</td><td>å¦</td><td>å¤§å‹å¯¹è±¡/å¤–éƒ¨åº“å®ä¾‹</td></tr><tr><td>reactive</td><td>æ·±å±‚</td><td>æ˜¯</td><td>å“åº”å¼å¯¹è±¡</td></tr><tr><td>shallowReactive</td><td>æµ…å±‚(ä¸€çº§å±æ€§)</td><td>å¦</td><td>éœ€è¦éƒ¨åˆ†å“åº”å¼çš„å¯¹è±¡</td></tr></tbody></table><h2 id="ä¹ã€æ€»ç»“" tabindex="-1">ä¹ã€æ€»ç»“ <a class="header-anchor" href="#ä¹ã€æ€»ç»“" aria-label="Permalink to &quot;ä¹ã€æ€»ç»“&quot;">â€‹</a></h2><p><code>shallowRef</code> æ˜¯ Vue å“åº”å¼ç³»ç»Ÿä¸­é‡è¦çš„æ€§èƒ½ä¼˜åŒ–å·¥å…·ï¼š</p><ul><li>ğŸš€ <strong>æ˜¾è‘—å‡å°‘</strong> å¤§å‹å¯¹è±¡çš„å“åº”å¼å¼€é”€</li><li>ğŸ› ï¸ <strong>ç²¾ç¡®æ§åˆ¶</strong> å“åº”å¼è¿½è¸ªèŒƒå›´</li><li>âš¡ <strong>æå‡æ€§èƒ½</strong> é€‚ç”¨äºç‰¹å®šåœºæ™¯</li><li>ğŸ”„ <strong>çµæ´»é…åˆ</strong> å¯ä¸ triggerRef ç»„åˆä½¿ç”¨</li></ul>`,40)]))}const E=a(e,[["render",t]]);export{o as __pageData,E as default};
