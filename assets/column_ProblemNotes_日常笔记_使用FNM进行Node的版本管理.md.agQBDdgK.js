import{_ as n,C as e,c as l,o as p,j as a,G as t,aQ as r,a as h}from"./chunks/framework.DEi4YP2n.js";const d="/assets/fnm-1.CqDGgIfj.png",o="/assets/fnm-1.1.DX2kx2Co.png",c="/assets/fnm-2.C9B3dAxh.png",k="/assets/fnm-3.o3lQ_zbE.png",m="/assets/fnm-4.BEO2Po_N.png",b="/assets/fnm-5.DTzZZiy2.png",N=JSON.parse('{"title":"使用 FNM (Fast Node Manager) 管理多个 Node.js 版本","description":"","frontmatter":{},"headers":[],"relativePath":"column/ProblemNotes/日常笔记/使用FNM进行Node的版本管理.md","filePath":"column/ProblemNotes/日常笔记/使用FNM进行Node的版本管理.md","lastUpdated":1762761043000}'),g={name:"column/ProblemNotes/日常笔记/使用FNM进行Node的版本管理.md"};function u(F,s,y,E,v,f){const i=e("ArticleMetadata");return p(),l("div",null,[s[0]||(s[0]=a("h1",{id:"使用-fnm-fast-node-manager-管理多个-node-js-版本",tabindex:"-1"},[h("使用 FNM (Fast Node Manager) 管理多个 Node.js 版本 "),a("a",{class:"header-anchor",href:"#使用-fnm-fast-node-manager-管理多个-node-js-版本","aria-label":'Permalink to "使用 FNM (Fast Node Manager) 管理多个 Node.js 版本"'},"​")],-1)),t(i),s[1]||(s[1]=r('<nav class="table-of-contents"><ul><li><a href="#🔑-一、为什么选择-fnm">🔑 一、为什么选择 FNM？</a></li><li><a href="#🛠️-二、如何安装-fnm">🛠️ 二、如何安装 FNM？</a><ul><li><a href="#_1-安装-fnm-macos-linux">1. 安装 FNM（macOS / Linux）</a></li><li><a href="#_2-安装-fnm-windows">2. 安装 FNM（Windows）</a></li></ul></li><li><a href="#🧑‍💻-三、使用-fnm-管理-node-js-版本">🧑‍💻 三、使用 FNM 管理 Node.js 版本</a><ul><li><a href="#_1-安装-node-js-版本">1. 安装 Node.js 版本</a></li><li><a href="#_2-切换-node-js-版本">2. 切换 Node.js 版本</a></li><li><a href="#_3-设置默认-node-js-版本">3. 设置默认 Node.js 版本</a></li></ul></li><li><a href="#🔄-四、管理和查看已安装的版本">🔄 四、管理和查看已安装的版本</a><ul><li><a href="#_1-列出已安装的-node-js-版本">1. 列出已安装的 Node.js 版本</a></li><li><a href="#_2-卸载-node-js-版本">2. 卸载 Node.js 版本</a></li></ul></li><li><a href="#🧰-五、fnm-高级功能">🧰 五、FNM 高级功能</a><ul><li><a href="#_1-使用-nvmrc-文件自动切换-node-版本">1. 使用 .nvmrc 文件自动切换 Node 版本</a></li><li><a href="#_2-查看可用的-node-js-版本">2. 查看可用的 Node.js 版本</a></li></ul></li><li><a href="#六、常用命令总结">六、常用命令总结</a></li></ul></nav><p>在现代前端和后端开发中，管理不同的 Node.js 版本是一个常见且必不可少的需求。尤其是在不同项目之间切换时，可能需要不同版本的 Node.js 来保证项目运行环境的一致性。我们可以使用 <strong>fnm (Fast Node Manager)</strong> 来管理和切换 Node.js 版本。</p><p><strong>fnm</strong> 是一个轻量级的 Node.js 版本管理工具，它不仅非常快速，而且安装、使用都非常简单。</p><h2 id="🔑-一、为什么选择-fnm" tabindex="-1">🔑 一、为什么选择 FNM？ <a class="header-anchor" href="#🔑-一、为什么选择-fnm" aria-label="Permalink to &quot;🔑 一、为什么选择 FNM？&quot;">​</a></h2><p>在过去，Node.js 版本管理工具如 <strong>nvm</strong> 已经广泛使用。但 <strong>fnm</strong> 以其以下优势脱颖而出：</p><ul><li><strong>超快性能</strong>：fnm 使用 Rust 编写，性能比 nvm 快。</li><li><strong>轻量级</strong>：占用更少的磁盘空间。</li><li><strong>简易安装与配置</strong>：跨平台支持，配置简单。</li><li><strong>兼容性好</strong>：支持类 Unix 系统（macOS, Linux）及 Windows 通过 WSL。</li></ul><p><strong>mvn 的缺点具有以下：</strong></p><ol><li>不太稳定，有时候会出现一些问题。</li><li>不能安装老版本的 Node.js，例如 v12 及 以下的版本（需要手动下载文件放到 nvm 的安装目录下）。</li><li>不能根据项目自动切换 Node.js 版本，需要 <code>nvm use</code> 手动切换。</li></ol><h2 id="🛠️-二、如何安装-fnm" tabindex="-1">🛠️ 二、如何安装 FNM？ <a class="header-anchor" href="#🛠️-二、如何安装-fnm" aria-label="Permalink to &quot;🛠️ 二、如何安装 FNM？&quot;">​</a></h2><h3 id="_1-安装-fnm-macos-linux" tabindex="-1">1. 安装 FNM（macOS / Linux） <a class="header-anchor" href="#_1-安装-fnm-macos-linux" aria-label="Permalink to &quot;1. 安装 FNM（macOS / Linux）&quot;">​</a></h3><p>在 <strong>macOS</strong> 或 <strong>Linux</strong> 上，安装 fnm 非常简单，支持 Homebrew 或直接使用安装脚本。</p><h4 id="通过-homebrew-安装-macos-linux" tabindex="-1">通过 Homebrew 安装（macOS / Linux） <a class="header-anchor" href="#通过-homebrew-安装-macos-linux" aria-label="Permalink to &quot;通过 Homebrew 安装（macOS / Linux）&quot;">​</a></h4><p>如果你已经安装了 Homebrew，可以通过以下命令安装 fnm：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fnm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="通过安装脚本安装-macos-linux" tabindex="-1">通过安装脚本安装（macOS / Linux） <a class="header-anchor" href="#通过安装脚本安装-macos-linux" aria-label="Permalink to &quot;通过安装脚本安装（macOS / Linux）&quot;">​</a></h4><p>如果没有 Homebrew，可以使用官方安装脚本：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://fnm.vercel.app/install</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bash</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这将会自动安装 fnm，并将相关路径添加到你的 shell 配置文件中（如 <code>.bashrc</code>、<code>.zshrc</code> 等）。</p><h3 id="_2-安装-fnm-windows" tabindex="-1">2. 安装 FNM（Windows） <a class="header-anchor" href="#_2-安装-fnm-windows" aria-label="Permalink to &quot;2. 安装 FNM（Windows）&quot;">​</a></h3><p><strong>先下载</strong></p><p><a href="https://github.com/Schniz/fnm/releases" target="_blank" rel="noreferrer">github 下载地址</a></p><p><img src="'+d+'" alt="" loading="lazy"></p><p>下载的是一个 zip 压缩包，解压之后我放在了<code>D:\\Software\\fnm</code>目录下,如下图：</p><p><img src="'+o+'" alt="" loading="lazy"></p><blockquote><p>后面使用 <code>fnm install </code>安装的版本都会存放到 <code>D:\\Software\\fnm\\node-versions</code> 里面。</p></blockquote><p><strong>配置环境变量</strong></p><p>右键点击此电脑，选择属性，然后点击左侧的“高级系统设置”，新建 <code>FNM_DIR</code>和 <code>FNM_NODE_DIST_MIRROR</code> 。</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>FNM_DIR 的值为：刚才解压的目录</span></span>\n<span class="line"><span>FNM_NODE_DIST_MIRROR 的值为：`https://npmmirror.com/mirrors/node/`</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>如下图：</strong></p><p><img src="'+c+'" alt="" loading="lazy"></p><p><strong>然后编辑系统变量 Path，把 FNM_DIR 加入 Path 中</strong></p><p><img src="'+k+'" alt="" loading="lazy"></p><p><strong>最终验证 fnm 命令</strong></p><p>打开新的终端窗口，输入 <code>fnm --version</code> 验证安装是否成功。如果显示版本号，说明安装成功。如下:</p><p><img src="'+m+`" alt="" width="80%" loading="lazy"></p><h2 id="🧑‍💻-三、使用-fnm-管理-node-js-版本" tabindex="-1">🧑‍💻 三、使用 FNM 管理 Node.js 版本 <a class="header-anchor" href="#🧑‍💻-三、使用-fnm-管理-node-js-版本" aria-label="Permalink to &quot;🧑‍💻 三、使用 FNM 管理 Node.js 版本&quot;">​</a></h2><p>安装完成后，你就可以开始使用 <code>fnm</code> 来管理多个<code> Node.js</code> 版本了。</p><h3 id="_1-安装-node-js-版本" tabindex="-1">1. 安装 Node.js 版本 <a class="header-anchor" href="#_1-安装-node-js-版本" aria-label="Permalink to &quot;1. 安装 Node.js 版本&quot;">​</a></h3><p>使用 fnm 安装 Node.js 版本非常简单，只需执行以下命令：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 14</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这里的 <code>14</code> 和 <code>16</code> 代表你想要安装的 Node.js 版本。你可以安装任何官方支持的版本（包括最新的 LTS 版本、稳定版本等）。</p><h3 id="_2-切换-node-js-版本" tabindex="-1">2. 切换 Node.js 版本 <a class="header-anchor" href="#_2-切换-node-js-版本" aria-label="Permalink to &quot;2. 切换 Node.js 版本&quot;">​</a></h3><p>安装好多个版本后，使用以下命令切换到你需要的版本：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 14</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这将使当前终端会话使用指定的 Node.js 版本。如果需要查看当前使用的版本，可以运行：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> current</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-设置默认-node-js-版本" tabindex="-1">3. 设置默认 Node.js 版本 <a class="header-anchor" href="#_3-设置默认-node-js-版本" aria-label="Permalink to &quot;3. 设置默认 Node.js 版本&quot;">​</a></h3><p>如果你想要设置一个默认版本，可以使用：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这将使 <code>Node.js 16.x</code> 成为默认版本，新的终端会话将会自动使用该版本。</p><h2 id="🔄-四、管理和查看已安装的版本" tabindex="-1">🔄 四、管理和查看已安装的版本 <a class="header-anchor" href="#🔄-四、管理和查看已安装的版本" aria-label="Permalink to &quot;🔄 四、管理和查看已安装的版本&quot;">​</a></h2><h3 id="_1-列出已安装的-node-js-版本" tabindex="-1">1. 列出已安装的 Node.js 版本 <a class="header-anchor" href="#_1-列出已安装的-node-js-版本" aria-label="Permalink to &quot;1. 列出已安装的 Node.js 版本&quot;">​</a></h3><p>你可以使用以下命令查看已安装的所有 Node.js 版本：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## 运行如下：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">C:\\Users\\xinjie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v12.22.12 default</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v14.21.3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v18.20.8</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v20.19.5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> system</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这将列出所有你通过 <code>fnm</code> 安装的版本。</p><h3 id="_2-卸载-node-js-版本" tabindex="-1">2. 卸载 Node.js 版本 <a class="header-anchor" href="#_2-卸载-node-js-版本" aria-label="Permalink to &quot;2. 卸载 Node.js 版本&quot;">​</a></h3><p>如果你不再需要某个 <code>Node.js </code>版本，可以轻松卸载：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uninstall</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 14</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这样可以释放磁盘空间，删除不再使用的版本。</p><h2 id="🧰-五、fnm-高级功能" tabindex="-1">🧰 五、FNM 高级功能 <a class="header-anchor" href="#🧰-五、fnm-高级功能" aria-label="Permalink to &quot;🧰 五、FNM 高级功能&quot;">​</a></h2><h3 id="_1-使用-nvmrc-文件自动切换-node-版本" tabindex="-1">1. 使用 <code>.nvmrc</code> 文件自动切换 Node 版本 <a class="header-anchor" href="#_1-使用-nvmrc-文件自动切换-node-版本" aria-label="Permalink to &quot;1. 使用 \`.nvmrc\` 文件自动切换 Node 版本&quot;">​</a></h3><p>如果你在多个项目之间切换，可以在每个项目根目录下创建 <code>.nvmrc</code> 文件，指定该项目使用的 Node.js 版本。例如，文件内容可以是：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>16</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>.nvmrc 只是一个 “告诉 nvm 该用哪个 Node 版本” 的纯文本文件，里面只有一行内容: 版本号</p></blockquote><p><strong>随后在：</strong></p><ol><li>地址栏输入 <code>%USERPROFILE%\\Documents</code> ，确认会自动跳转到用户文档目录。</li><li>新建<code>WindowsPowerShell</code>目录。(注意：如果已经有了该目录，直接跳过这一步)。</li><li>然后在<code>WindowsPowerShell</code>目录下 新建一个名为 <code>Microsoft.PowerShell_profile.ps1</code> 的文件。</li><li><code>Microsoft.PowerShell_profile.ps1</code> 使用记事本打开，内容如下：</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># --- PowerShell 启动配置，fnm 自动切换 Node，只在有 .nvmrc 时触发 ---</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置 UTF-8 编码，避免中文乱码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Console]::OutputEncoding = [System.Text.Encoding]::UTF8</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 65001</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $null </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">2&gt;&amp;1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># fnm 初始化（必保留）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --use-on-cd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Out-String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Invoke-Expression</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 记录上次 Node 版本，避免重复提示</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$global:LastNodeVersion = $null</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># prompt 包装函数，每次显示命令行提示时触发</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> global:prompt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 检测当前目录或父目录是否有 .nvmrc</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    $nvmrc </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Get-ChildItem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Get-Location) -Recurse -Depth 1 -Filter </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;.nvmrc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -ErrorAction SilentlyContinue </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Select-Object</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -First</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ($nvmrc) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # 读取版本</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        $version </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Get-Content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $nvmrc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.FullName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Select-Object</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -First</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ($version) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # 仅在版本变化时执行</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ($version -ne $global:LastNodeVersion) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $version </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Out-Null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                $global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:LastNodeVersion</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $version</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 返回默认 prompt</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;PS $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Get-Location</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)&gt; &quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>如图目录：</p><p><img src="`+b+'" alt="" loading="lazy"></p><p>配置完成，后面每次进入到你的前端项目的终端时，<code>fnm </code>会自动根据项目根目录下的 <code>.nvmrc</code> 文件切换到指定的 Node.js 版本。</p><div class="info custom-block"><p class="custom-block-title">细节</p><p>在 <code>Windows PowerShell</code> 中，创建 Microsoft.PowerShell_profile.ps1 文件的目的是定制 PowerShell 环境，使得每次启动 PowerShell 时自动加载指定的配置。<br> 例如，你可以在这个文件中设置常用的别名、环境变量、自动加载模块等。这样，可以提高开发效率，避免每次启动 PowerShell 时手动配置。这个文件存放在 C:\\Users&lt;你的用户名&gt;\\Documents\\WindowsPowerShell\\ 目录下。</p></div><h3 id="_2-查看可用的-node-js-版本" tabindex="-1">2. 查看可用的 Node.js 版本 <a class="header-anchor" href="#_2-查看可用的-node-js-版本" aria-label="Permalink to &quot;2. 查看可用的 Node.js 版本&quot;">​</a></h3><p>如果你不确定可以安装哪些版本，可以使用以下命令查看所有可用版本：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls-remote</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这将列出 Node.js 的所有稳定版本、LTS 版本等。</p><h2 id="六、常用命令总结" tabindex="-1">六、常用命令总结 <a class="header-anchor" href="#六、常用命令总结" aria-label="Permalink to &quot;六、常用命令总结&quot;">​</a></h2><ul><li><code>fnm install &lt;version&gt;</code>：安装指定版本。</li><li><code>fnm use &lt;version&gt;</code>：切换当前会话使用的 Node 版本。</li><li><code>fnm default &lt;version&gt;</code>：设置默认版本。</li><li><code>fnm list</code>：查看已安装的版本。</li><li><code>fnm uninstall &lt;version&gt;</code>：卸载某个版本。</li></ul>',77))])}const _=n(g,[["render",u]]);export{N as __pageData,_ as default};
