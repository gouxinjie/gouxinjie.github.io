import{_ as n,C as l,c as t,o as e,j as i,G as h,aQ as p,a as k}from"./chunks/framework.DEi4YP2n.js";const b=JSON.parse('{"title":"React 18 å¹¶å‘ç‰¹æ€§æ ¸å¿ƒä¹‹ä¸€ï¼šuseTransition","description":"","frontmatter":{},"headers":[],"relativePath":"column/React/Hooks/useTransition.md","filePath":"column/React/Hooks/useTransition.md","lastUpdated":1760582846000}'),r={name:"column/React/Hooks/useTransition.md"};function E(d,s,g,y,c,o){const a=l("ArticleMetadata");return e(),t("div",null,[s[0]||(s[0]=i("h1",{id:"react-18-å¹¶å‘ç‰¹æ€§æ ¸å¿ƒä¹‹ä¸€-usetransition",tabindex:"-1"},[k("React 18 å¹¶å‘ç‰¹æ€§æ ¸å¿ƒä¹‹ä¸€ï¼šuseTransition "),i("a",{class:"header-anchor",href:"#react-18-å¹¶å‘ç‰¹æ€§æ ¸å¿ƒä¹‹ä¸€-usetransition","aria-label":'Permalink to "React 18 å¹¶å‘ç‰¹æ€§æ ¸å¿ƒä¹‹ä¸€ï¼šuseTransition"'},"â€‹")],-1)),h(a),s[1]||(s[1]=p(`<nav class="table-of-contents"><ul><li><a href="#ä¸€ã€usetransition-æ˜¯ä»€ä¹ˆ">ä¸€ã€useTransition æ˜¯ä»€ä¹ˆï¼Ÿ</a><ul><li><a href="#ğŸ“˜-åŸºæœ¬è¯­æ³•">ğŸ“˜ åŸºæœ¬è¯­æ³•ï¼š</a></li></ul></li><li><a href="#äºŒã€ä¸ºä»€ä¹ˆéœ€è¦-usetransition">äºŒã€ä¸ºä»€ä¹ˆéœ€è¦ useTransitionï¼Ÿ</a></li><li><a href="#ä¸‰ã€usetransition-çš„è§£å†³æ–¹æ¡ˆ">ä¸‰ã€useTransition çš„è§£å†³æ–¹æ¡ˆ</a></li><li><a href="#å››ã€usetransition-çš„å·¥ä½œåŸç†">å››ã€useTransition çš„å·¥ä½œåŸç†</a></li><li><a href="#äº”ã€å®é™…åº”ç”¨åœºæ™¯">äº”ã€å®é™…åº”ç”¨åœºæ™¯</a><ul><li><a href="#_1ï¸âƒ£-æœç´¢è¿‡æ»¤-æœ€å¸¸è§">1ï¸âƒ£ æœç´¢è¿‡æ»¤ï¼ˆæœ€å¸¸è§ï¼‰</a></li><li><a href="#_2ï¸âƒ£-å¤æ‚è·¯ç”±åˆ‡æ¢">2ï¸âƒ£ å¤æ‚è·¯ç”±åˆ‡æ¢</a></li><li><a href="#_3ï¸âƒ£-å¤§é‡æ¸²æŸ“çš„ç»„ä»¶">3ï¸âƒ£ å¤§é‡æ¸²æŸ“çš„ç»„ä»¶</a></li></ul></li><li><a href="#å…­ã€ispending-çš„å¦™ç”¨">å…­ã€isPending çš„å¦™ç”¨</a></li><li><a href="#ä¸ƒã€usetransition-vs-usedeferredvalue">ä¸ƒã€useTransition vs useDeferredValue</a></li><li><a href="#å…«ã€æœ€ä½³å®è·µ">å…«ã€æœ€ä½³å®è·µ</a></li><li><a href="#ä¹ã€å®Œæ•´å®æˆ˜-é˜²æŠ–æœç´¢ä¼˜åŒ–">ä¹ã€å®Œæ•´å®æˆ˜ï¼šé˜²æŠ–æœç´¢ä¼˜åŒ–</a></li></ul></nav><blockquote><p>åœ¨ React 18 ä¹‹å‰ï¼Œæ‰€æœ‰çŠ¶æ€æ›´æ–°éƒ½æ˜¯â€œåŒæ­¥é˜»å¡â€çš„ã€‚ä¸€æ—¦è§¦å‘æ›´æ–°ï¼Œæ•´ä¸ªç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“ï¼Œå³ä½¿è¿™æ¬¡æ›´æ–°éå¸¸è€—æ—¶ï¼Œä¹Ÿæ— æ³•è¢«ä¸­æ–­ã€‚</p><p>React 18 å¼•å…¥äº† <strong>Concurrent Renderingï¼ˆå¹¶å‘æ¸²æŸ“ï¼‰</strong>ï¼Œè€Œ <code>useTransition</code> æ­£æ˜¯è®©æˆ‘ä»¬èƒ½å¤Ÿ <strong>â€œæ ‡è®°ä½ä¼˜å…ˆçº§æ›´æ–°â€</strong> çš„å…³é”® Hookã€‚</p></blockquote><h2 id="ä¸€ã€usetransition-æ˜¯ä»€ä¹ˆ" tabindex="-1">ä¸€ã€useTransition æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#ä¸€ã€usetransition-æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;ä¸€ã€useTransition æ˜¯ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><p><code>useTransition</code> æ˜¯ React 18 æ–°å¢çš„ä¸€ä¸ª Hookï¼Œç”¨äº<strong>åŒºåˆ†â€œç´§æ€¥æ›´æ–°â€å’Œâ€œéç´§æ€¥æ›´æ–°â€</strong>ã€‚</p><p>ç®€å•æ¥è¯´ï¼š</p><blockquote><p>å½“ä½ å¸Œæœ›æŸä¸ªçŠ¶æ€æ›´æ–°â€œä¸é‚£ä¹ˆç´§æ€¥â€ï¼Œä¸é˜»å¡ç”¨æˆ·çš„äº¤äº’ï¼Œå°±å¯ä»¥ç”¨ <code>useTransition</code>ã€‚</p></blockquote><h3 id="ğŸ“˜-åŸºæœ¬è¯­æ³•" tabindex="-1">ğŸ“˜ åŸºæœ¬è¯­æ³•ï¼š <a class="header-anchor" href="#ğŸ“˜-åŸºæœ¬è¯­æ³•" aria-label="Permalink to &quot;ğŸ“˜ åŸºæœ¬è¯­æ³•ï¼š&quot;">â€‹</a></h3><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isPending</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">startTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><table tabindex="0"><thead><tr><th>è¿”å›å€¼</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>isPending</code></td><td><code>boolean</code></td><td>è¡¨ç¤ºæ˜¯å¦æœ‰å¤„äºâ€œè¿‡æ¸¡çŠ¶æ€â€çš„æ›´æ–°</td></tr><tr><td><code>startTransition</code></td><td><code>(callback) =&gt; void</code></td><td>å°†ä¸€æ®µæ›´æ–°æ ‡è®°ä¸ºâ€œéç´§æ€¥â€è¿‡æ¸¡æ›´æ–°</td></tr></tbody></table><h2 id="äºŒã€ä¸ºä»€ä¹ˆéœ€è¦-usetransition" tabindex="-1">äºŒã€ä¸ºä»€ä¹ˆéœ€è¦ useTransitionï¼Ÿ <a class="header-anchor" href="#äºŒã€ä¸ºä»€ä¹ˆéœ€è¦-usetransition" aria-label="Permalink to &quot;äºŒã€ä¸ºä»€ä¹ˆéœ€è¦ useTransitionï¼Ÿ&quot;">â€‹</a></h2><p>ä¸¾ä¸ªå¸¸è§çš„ä¾‹å­ ğŸ‘‡</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SearchApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleChange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e.target.value);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filterHeavy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e.target.value)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¨¡æ‹Ÿä¸€ä¸ªè€—æ—¶æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">input</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{query} </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onChange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{handleChange} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">List</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{list} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>ğŸ’¥ é—®é¢˜ï¼š</p><ul><li>æ¯æ¬¡è¾“å…¥æ–‡å­—ï¼Œ<code>filterHeavy</code> éƒ½ä¼šå¯¼è‡´æ¸²æŸ“å¡é¡¿ï¼›</li><li>ç”¨æˆ·è¾“å…¥ä½“éªŒå˜å¾—éå¸¸ç³Ÿç³•ã€‚</li></ul><h2 id="ä¸‰ã€usetransition-çš„è§£å†³æ–¹æ¡ˆ" tabindex="-1">ä¸‰ã€useTransition çš„è§£å†³æ–¹æ¡ˆ <a class="header-anchor" href="#ä¸‰ã€usetransition-çš„è§£å†³æ–¹æ¡ˆ" aria-label="Permalink to &quot;ä¸‰ã€useTransition çš„è§£å†³æ–¹æ¡ˆ&quot;">â€‹</a></h2><p>æˆ‘ä»¬å¯ä»¥è®©è¾“å…¥æ›´æ–°ç«‹å³ç”Ÿæ•ˆï¼Œè€Œè®©è¿‡æ»¤æ“ä½œå»¶è¿Ÿæ‰§è¡Œã€‚</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> React, { useState, useTransition } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SearchApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([]);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isPending</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">startTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleChange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e.target.value;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… ç´§æ€¥æ›´æ–°ï¼šç«‹å³å“åº”ç”¨æˆ·è¾“å…¥</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // â³ éç´§æ€¥æ›´æ–°ï¼šæ ‡è®°ä¸ºè¿‡æ¸¡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    startTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      setList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filterHeavy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">input</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{query} </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onChange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{handleChange} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {isPending </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;åŠ è½½ä¸­...&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">List</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{list} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>âœ… æ•ˆæœï¼š</p><ul><li>è¾“å…¥æ¡†ç«‹åˆ»å“åº”ï¼Œä¸å†å¡é¡¿ï¼›</li><li>æ•°æ®æ›´æ–°è¢«å»¶åï¼Œä½†ä¸ä¼šå½±å“äº¤äº’ï¼›</li><li><code>isPending</code> å¯ç”¨äºæ˜¾ç¤ºâ€œåŠ è½½ä¸­â€çŠ¶æ€ã€‚</li></ul><h2 id="å››ã€usetransition-çš„å·¥ä½œåŸç†" tabindex="-1">å››ã€useTransition çš„å·¥ä½œåŸç† <a class="header-anchor" href="#å››ã€usetransition-çš„å·¥ä½œåŸç†" aria-label="Permalink to &quot;å››ã€useTransition çš„å·¥ä½œåŸç†&quot;">â€‹</a></h2><p>å¯ä»¥ç†è§£ä¸ºï¼š</p><blockquote><p>React æŠŠ <code>startTransition</code> é‡Œé¢çš„æ›´æ–°æ ‡è®°ä¸ºâ€œä½ä¼˜å…ˆçº§â€ã€‚</p></blockquote><p>React å†…éƒ¨ç»´æŠ¤äº†ä¸åŒçš„ä¼˜å…ˆçº§è°ƒåº¦ï¼š</p><ul><li><strong>ç´§æ€¥æ›´æ–°ï¼ˆUrgentï¼‰</strong>ï¼šè¾“å…¥ã€ç‚¹å‡»ã€åŠ¨ç”»ç­‰éœ€è¦å³æ—¶å“åº”çš„æ“ä½œï¼›</li><li><strong>è¿‡æ¸¡æ›´æ–°ï¼ˆTransitionï¼‰</strong>ï¼šæ•°æ®è¯·æ±‚ã€ç­›é€‰ã€æ¸²æŸ“åˆ—è¡¨ç­‰å¯ä»¥ç¨åæ‰§è¡Œçš„æ“ä½œã€‚</li></ul><p>å½“ä¸¤ç§æ›´æ–°åŒæ—¶å‘ç”Ÿæ—¶ï¼š</p><ul><li>React ä¼š<strong>ä¼˜å…ˆå¤„ç†ç´§æ€¥æ›´æ–°</strong>ï¼›</li><li><strong>è¿‡æ¸¡æ›´æ–°å¯è¢«æ‰“æ–­æˆ–å»¶è¿Ÿ</strong>ï¼Œç›´åˆ°æµè§ˆå™¨ç©ºé—²å†æ¸²æŸ“ï¼›</li><li>å› æ­¤ï¼Œä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œä¹Ÿä¸ä¼šå¡ä½è¾“å…¥ã€‚</li></ul><p>ğŸ§  è¿™å°±æ˜¯ React å¹¶å‘æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³ä¹‹ä¸€ï¼š<strong>å¯ä¸­æ–­æ¸²æŸ“ï¼ˆInterruptible Renderingï¼‰</strong>ã€‚</p><h2 id="äº”ã€å®é™…åº”ç”¨åœºæ™¯" tabindex="-1">äº”ã€å®é™…åº”ç”¨åœºæ™¯ <a class="header-anchor" href="#äº”ã€å®é™…åº”ç”¨åœºæ™¯" aria-label="Permalink to &quot;äº”ã€å®é™…åº”ç”¨åœºæ™¯&quot;">â€‹</a></h2><h3 id="_1ï¸âƒ£-æœç´¢è¿‡æ»¤-æœ€å¸¸è§" tabindex="-1">1ï¸âƒ£ æœç´¢è¿‡æ»¤ï¼ˆæœ€å¸¸è§ï¼‰ <a class="header-anchor" href="#_1ï¸âƒ£-æœç´¢è¿‡æ»¤-æœ€å¸¸è§" aria-label="Permalink to &quot;1ï¸âƒ£ æœç´¢è¿‡æ»¤ï¼ˆæœ€å¸¸è§ï¼‰&quot;">â€‹</a></h3><p>ç”¨æˆ·è¾“å…¥å…³é”®å­—æ—¶ç«‹å³å“åº”è¾“å…¥ï¼Œåˆ—è¡¨å¼‚æ­¥æ›´æ–°ã€‚</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setFilteredList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2ï¸âƒ£-å¤æ‚è·¯ç”±åˆ‡æ¢" tabindex="-1">2ï¸âƒ£ å¤æ‚è·¯ç”±åˆ‡æ¢ <a class="header-anchor" href="#_2ï¸âƒ£-å¤æ‚è·¯ç”±åˆ‡æ¢" aria-label="Permalink to &quot;2ï¸âƒ£ å¤æ‚è·¯ç”±åˆ‡æ¢&quot;">â€‹</a></h3><p>åœ¨è·¯ç”±è·³è½¬æ—¶ï¼Œç”¨ <code>useTransition</code> è®©ç•Œé¢æ›´å¹³æ»‘ã€‚</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isPending</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">startTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> navigatePage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  startTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    navigate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>âœ… é¡µé¢è·³è½¬ç«‹å³å“åº”ï¼Œä½†è€—æ—¶ç»„ä»¶æ¸²æŸ“åœ¨åå°å®Œæˆã€‚</p></blockquote><h3 id="_3ï¸âƒ£-å¤§é‡æ¸²æŸ“çš„ç»„ä»¶" tabindex="-1">3ï¸âƒ£ å¤§é‡æ¸²æŸ“çš„ç»„ä»¶ <a class="header-anchor" href="#_3ï¸âƒ£-å¤§é‡æ¸²æŸ“çš„ç»„ä»¶" aria-label="Permalink to &quot;3ï¸âƒ£ å¤§é‡æ¸²æŸ“çš„ç»„ä»¶&quot;">â€‹</a></h3><p>ä¾‹å¦‚è™šæ‹Ÿåˆ—è¡¨ã€å›¾è¡¨ã€Markdown æ¸²æŸ“å™¨ã€‚</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setRenderData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">heavyRenderTransform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="å…­ã€ispending-çš„å¦™ç”¨" tabindex="-1">å…­ã€isPending çš„å¦™ç”¨ <a class="header-anchor" href="#å…­ã€ispending-çš„å¦™ç”¨" aria-label="Permalink to &quot;å…­ã€isPending çš„å¦™ç”¨&quot;">â€‹</a></h2><p><code>isPending</code> æ˜¯ React è‡ªåŠ¨æä¾›çš„ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œç”¨æ¥è¡¨ç¤ºæ˜¯å¦æœ‰ä¸€ä¸ªæ­£åœ¨è¿›è¡Œçš„ transitionã€‚</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  isPending </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Spinner</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å®ƒçš„å¸¸è§ç”¨é€”ï¼š</p><ul><li>æ˜¾ç¤ºåŠ è½½æç¤ºï¼›</li><li>ç¦ç”¨æŒ‰é’®ï¼›</li><li>å»¶è¿ŸåŠ¨ç”»è¿‡æ¸¡ã€‚</li></ul><h2 id="ä¸ƒã€usetransition-vs-usedeferredvalue" tabindex="-1">ä¸ƒã€useTransition vs useDeferredValue <a class="header-anchor" href="#ä¸ƒã€usetransition-vs-usedeferredvalue" aria-label="Permalink to &quot;ä¸ƒã€useTransition vs useDeferredValue&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>Hook</th><th>ç”¨é€”</th><th>åŒºåˆ«</th></tr></thead><tbody><tr><td><code>useTransition</code></td><td>å°†ä¸€æ®µçŠ¶æ€æ›´æ–°æ ‡è®°ä¸ºè¿‡æ¸¡ï¼ˆä¸»åŠ¨è§¦å‘ï¼‰</td><td>ä½ æ‰‹åŠ¨åŒ…è£¹æ›´æ–°é€»è¾‘</td></tr><tr><td><code>useDeferredValue</code></td><td>å°†ä¸€ä¸ªå€¼â€œå»¶è¿Ÿâ€æ›´æ–°ï¼ˆè¢«åŠ¨å»¶è¿Ÿï¼‰</td><td>React è‡ªåŠ¨å»¶è¿Ÿæ›´æ–°å€¼</td></tr></tbody></table><p>ğŸ‘‰ ç®€å•ç†è§£ï¼š</p><ul><li><code>useTransition</code> æ˜¯ <strong>ä¸»åŠ¨å»¶è¿Ÿ</strong>ï¼ˆä½ å†³å®šä½•æ—¶ã€å“ªä¸ªæ›´æ–°æ˜¯è¿‡æ¸¡ï¼‰ã€‚</li><li><code>useDeferredValue</code> æ˜¯ <strong>è¢«åŠ¨å»¶è¿Ÿ</strong>ï¼ˆä½ ä¼ å…¥ä¸€ä¸ªå€¼ï¼Œè®©å®ƒæ…¢ä¸€ç‚¹æ›´æ–°ï¼‰ã€‚</li></ul><h2 id="å…«ã€æœ€ä½³å®è·µ" tabindex="-1">å…«ã€æœ€ä½³å®è·µ <a class="header-anchor" href="#å…«ã€æœ€ä½³å®è·µ" aria-label="Permalink to &quot;å…«ã€æœ€ä½³å®è·µ&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>å»ºè®®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>âœ… å°†è€—æ—¶æ›´æ–°åŒ…åœ¨ <code>startTransition</code> ä¸­</td><td>é˜²æ­¢é˜»å¡äº¤äº’</td></tr><tr><td>âœ… ä½¿ç”¨ <code>isPending</code> æç¤ºç”¨æˆ·ç­‰å¾…</td><td>æå‡ä½“éªŒ</td></tr><tr><td>âŒ ä¸è¦åœ¨ç´§æ€¥äº‹ä»¶ä¸­å»¶è¿Ÿå…³é”®çŠ¶æ€ï¼ˆå¦‚è¾“å…¥å€¼æœ¬èº«ï¼‰</td><td>å¦åˆ™ä¼šå‡ºç°å»¶è¿Ÿè¾“å…¥</td></tr><tr><td>âœ… å¯ä¸ Suspense æ­é…ä½¿ç”¨</td><td>è¿‡æ¸¡æ¸²æŸ“å¼‚æ­¥ç»„ä»¶æ—¶éå¸¸ä¸æ»‘</td></tr></tbody></table><h2 id="ä¹ã€å®Œæ•´å®æˆ˜-é˜²æŠ–æœç´¢ä¼˜åŒ–" tabindex="-1">ä¹ã€å®Œæ•´å®æˆ˜ï¼šé˜²æŠ–æœç´¢ä¼˜åŒ– <a class="header-anchor" href="#ä¹ã€å®Œæ•´å®æˆ˜-é˜²æŠ–æœç´¢ä¼˜åŒ–" aria-label="Permalink to &quot;ä¹ã€å®Œæ•´å®æˆ˜ï¼šé˜²æŠ–æœç´¢ä¼˜åŒ–&quot;">â€‹</a></h2><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> React, { useState, useTransition } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HeavySearch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([]);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isPending</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">startTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleInput</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e.target.value;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(val);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    startTransition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> filtered</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mockList.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toLowerCase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(val.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toLowerCase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      setList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(filtered);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">input</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{query} </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onChange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{handleInput} </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">placeholder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æœç´¢...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {isPending </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;åŠ è½½ä¸­...&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ul</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {list.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">li</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{v}&gt;{v}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">li</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ))}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ul</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> mockList</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ length: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`Item \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HeavySearch;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>ğŸ”¹ å³ä½¿æ¸²æŸ“ 5000 æ¡æ•°æ®ï¼Œè¾“å…¥ä¾æ—§æµç•…ã€‚ ğŸ”¹ <code>useTransition</code> è®© React è‡ªåŠ¨è°ƒåº¦æ›´æ–°ï¼Œä¸å†é˜»å¡ä¸»çº¿ç¨‹ã€‚</p>`,52))])}const F=n(r,[["render",E]]);export{b as __pageData,F as default};
