import{_ as e,C as n,c as t,o as l,j as a,G as p,aQ as d,a as r}from"./chunks/framework.DEi4YP2n.js";const m=JSON.parse('{"title":"🔍 SQL 查询的本质：隐藏在代码背后的数学运算","description":"","frontmatter":{},"headers":[],"relativePath":"column/Node/MySQL/SQL查询的本质.md","filePath":"column/Node/MySQL/SQL查询的本质.md","lastUpdated":1761113576000}'),h={name:"column/Node/MySQL/SQL查询的本质.md"};function o(k,s,c,g,b,u){const i=n("ArticleMetadata");return l(),t("div",null,[s[0]||(s[0]=a("h1",{id:"🔍-sql-查询的本质-隐藏在代码背后的数学运算",tabindex:"-1"},[r("🔍 SQL 查询的本质：隐藏在代码背后的数学运算 "),a("a",{class:"header-anchor",href:"#🔍-sql-查询的本质-隐藏在代码背后的数学运算","aria-label":'Permalink to "🔍 SQL 查询的本质：隐藏在代码背后的数学运算"'},"​")],-1)),p(i),s[1]||(s[1]=d(`<blockquote><p>“SQL 语句看起来像是在查数据，但其实你在写数学公式。”</p></blockquote><p>很多人学习 SQL 时，只关注语法：<code>SELECT</code>、<code>WHERE</code>、<code>JOIN</code>…… 但很少有人意识到：<strong>SQL 查询的本质其实是“数学运算”</strong> —— 它来自于一种严谨的数学理论：<strong>关系代数（Relational Algebra）</strong>。</p><div class="tip custom-block"><p class="custom-block-title">注意</p><p>非关系型数据库（NoSQL）可“不适用”关系代数，它们也有自己的逻辑数学基础。</p></div><h2 id="一、sql-背后的数学世界" tabindex="-1">一、SQL 背后的数学世界 <a class="header-anchor" href="#一、sql-背后的数学世界" aria-label="Permalink to &quot;一、SQL 背后的数学世界&quot;">​</a></h2><p><code>SQL（Structured Query Language）</code>并不是凭空发明的。它诞生于上世纪 70 年代，基于 IBM 科学家 <strong>E.F. Codd</strong> 提出的 <strong>关系模型（Relational Model）</strong>。</p><p>在这个模型里：</p><table tabindex="0"><thead><tr><th>关系模型概念</th><th>SQL 对应概念</th></tr></thead><tbody><tr><td>关系（Relation）</td><td>表（Table）</td></tr><tr><td>元组（Tuple）</td><td>行（Row）</td></tr><tr><td>属性（Attribute）</td><td>列（Column）</td></tr><tr><td>关系运算（Relational Operations）</td><td>SQL 查询语句</td></tr></tbody></table><p>换句话说，SQL 语句其实是对“数据集合”的数学操作。</p><h2 id="二、sql-查询-≈-集合运算" tabindex="-1">二、SQL 查询 ≈ 集合运算 <a class="header-anchor" href="#二、sql-查询-≈-集合运算" aria-label="Permalink to &quot;二、SQL 查询 ≈ 集合运算&quot;">​</a></h2><p>从数学视角看，SQL 查询操作的本质就是对集合的各种变换和组合。数据库就是一个<strong>集合运算引擎</strong>，执行的其实是一系列关系代数运算。</p><table tabindex="0"><thead><tr><th>SQL 操作</th><th>对应的数学思想</th><th>含义</th></tr></thead><tbody><tr><td><code>SELECT ... FROM</code></td><td>投影（Projection）</td><td>选取集合中的部分列</td></tr><tr><td><code>WHERE</code></td><td>选择（Selection）</td><td>筛选满足条件的行</td></tr><tr><td><code>JOIN</code></td><td>笛卡尔积 + 选择</td><td>合并两个集合并匹配</td></tr><tr><td><code>UNION</code></td><td>并集（Union）</td><td>合并集合并去重</td></tr><tr><td><code>INTERSECT</code></td><td>交集（Intersection）</td><td>取共同的部分</td></tr><tr><td><code>EXCEPT</code></td><td>差集（Difference）</td><td>去掉重叠的部分</td></tr><tr><td><code>GROUP BY</code></td><td>聚合（Aggregation）</td><td>按组进行统计</td></tr><tr><td><code>DISTINCT</code></td><td>去重（Set Uniqueness）</td><td>消除重复元素</td></tr></tbody></table><h2 id="三、六大基本关系代数运算-与-sql-对照" tabindex="-1">三、六大基本关系代数运算 与 SQL 对照 <a class="header-anchor" href="#三、六大基本关系代数运算-与-sql-对照" aria-label="Permalink to &quot;三、六大基本关系代数运算 与 SQL 对照&quot;">​</a></h2><p>让我们一步步拆开来看这些“数学运算”与 SQL 的对应关系。</p><h3 id="_1-选择-selection-σ" tabindex="-1">① 选择（Selection）σ <a class="header-anchor" href="#_1-选择-selection-σ" aria-label="Permalink to &quot;① 选择（Selection）σ&quot;">​</a></h3><p>从表中选出满足条件的行。</p><p><strong>SQL 示例：</strong></p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Employee </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> salary </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>代数表达式：</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>σ(salary &gt; 10000)(Employee)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>解释：对集合 <code>Employee</code> 进行筛选，只保留工资大于 10000 的记录。</p><h3 id="_2-投影-projection-π" tabindex="-1">② 投影（Projection）π <a class="header-anchor" href="#_2-投影-projection-π" aria-label="Permalink to &quot;② 投影（Projection）π&quot;">​</a></h3><p>选出需要的列。</p><p><strong>SQL 示例：</strong></p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, salary </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Employee;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>代数表达式：</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>π(name, salary)(Employee)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>解释：只保留 <code>name</code> 和 <code>salary</code> 这两列，去掉其他列。</p><h3 id="_3-并集-union-∪" tabindex="-1">③ 并集（Union）∪ <a class="header-anchor" href="#_3-并集-union-∪" aria-label="Permalink to &quot;③ 并集（Union）∪&quot;">​</a></h3><p>合并两个结构相同的集合。</p><p><strong>SQL 示例：</strong></p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Employee_US</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">UNION</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Employee_EU;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>代数表达式：</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Employee_US ∪ Employee_EU</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>注意：<code>UNION</code> 默认会去重。</p><h3 id="_4-差集-difference-−" tabindex="-1">④ 差集（Difference）− <a class="header-anchor" href="#_4-差集-difference-−" aria-label="Permalink to &quot;④ 差集（Difference）−&quot;">​</a></h3><p>求在一个集合中有而另一个没有的部分。</p><p><strong>SQL 示例：</strong></p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Employee_US</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">EXCEPT</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Employee_EU;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>代数表达式：</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Employee_US − Employee_EU</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_5-笛卡尔积-cartesian-product-×" tabindex="-1">⑤ 笛卡尔积（Cartesian Product）× <a class="header-anchor" href="#_5-笛卡尔积-cartesian-product-×" aria-label="Permalink to &quot;⑤ 笛卡尔积（Cartesian Product）×&quot;">​</a></h3><p><strong>SQL 示例：</strong></p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Department, Employee;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 或者</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Department </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CROSS JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Employee;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>代数表达式：</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Department × Employee</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>解释：每个部门与每个员工都组合成一行结果。</p><h3 id="_6-交集-intersection-∩" tabindex="-1">⑥ 交集（Intersection）∩ <a class="header-anchor" href="#_6-交集-intersection-∩" aria-label="Permalink to &quot;⑥ 交集（Intersection）∩&quot;">​</a></h3><p><strong>SQL 示例：</strong></p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Employee_US</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INTERSECT</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Employee_EU;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>代数表达式：</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Employee_US ∩ Employee_EU</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>取两个表中共有的数据。</p><h2 id="四、扩展关系代数运算-sql-的高级操作" tabindex="-1">四、扩展关系代数运算：SQL 的高级操作 <a class="header-anchor" href="#四、扩展关系代数运算-sql-的高级操作" aria-label="Permalink to &quot;四、扩展关系代数运算：SQL 的高级操作&quot;">​</a></h2><h3 id="_1-连接-join-⋈" tabindex="-1">① 连接（Join）⋈ <a class="header-anchor" href="#_1-连接-join-⋈" aria-label="Permalink to &quot;① 连接（Join）⋈&quot;">​</a></h3><p>连接其实是“笛卡尔积 + 选择”的组合。</p><p><strong>SQL 示例：</strong></p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dept_name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Employee e</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Department d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dept_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>代数表达式：</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>σ(e.dept_id = d.id)(Employee × Department)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-聚合-aggregation-γ" tabindex="-1">② 聚合（Aggregation）γ <a class="header-anchor" href="#_2-聚合-aggregation-γ" aria-label="Permalink to &quot;② 聚合（Aggregation）γ&quot;">​</a></h3><p>对数据分组并统计。</p><p><strong>SQL 示例：</strong></p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dept_id, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AVG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(salary)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Employee</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GROUP BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dept_id;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>代数表达式：</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>γ(dept_id, AVG(salary))(Employee)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-排序-sorting-τ" tabindex="-1">③ 排序（Sorting）τ <a class="header-anchor" href="#_3-排序-sorting-τ" aria-label="Permalink to &quot;③ 排序（Sorting）τ&quot;">​</a></h3><p><strong>SQL 示例：</strong></p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Employee </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> salary </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DESC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>代数表达式（扩展）：</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>τ(salary DESC)(Employee)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_4-重命名-rename-ρ" tabindex="-1">④ 重命名（Rename）ρ <a class="header-anchor" href="#_4-重命名-rename-ρ" aria-label="Permalink to &quot;④ 重命名（Rename）ρ&quot;">​</a></h3><p><strong>SQL 示例：</strong></p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> employee_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Employee e;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>代数表达式：</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ρ(e(employee_name))(Employee)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="五、完整示例-sql-到-关系代数的映射" tabindex="-1">五、完整示例：SQL 到 关系代数的映射 <a class="header-anchor" href="#五、完整示例-sql-到-关系代数的映射" aria-label="Permalink to &quot;五、完整示例：SQL 到 关系代数的映射&quot;">​</a></h2><p><strong>SQL 查询：</strong></p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AVG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">salary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Department d</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Employee e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dept_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">salary</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10000</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GROUP BY</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>对应的关系代数：</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>γ(d.name, AVG(e.salary))</span></span>
<span class="line"><span>(</span></span>
<span class="line"><span>  σ(e.salary &gt; 10000)</span></span>
<span class="line"><span>  (</span></span>
<span class="line"><span>    (Employee e) ⋈ (Department d)</span></span>
<span class="line"><span>  )</span></span>
<span class="line"><span>)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>逐步解释：</strong></p><ol><li><code>(Employee e) ⋈ (Department d)</code> → 连接员工与部门</li><li><code>σ(e.salary &gt; 10000)</code> → 筛选工资大于 10000</li><li><code>γ(d.name, AVG(e.salary))</code> → 按部门分组并计算平均工资</li></ol><p>最终结果：按部门统计高薪员工的平均工资。</p><h2 id="六、sql-与-关系代数的对照速查表" tabindex="-1">六、SQL 与 关系代数的对照速查表 <a class="header-anchor" href="#六、sql-与-关系代数的对照速查表" aria-label="Permalink to &quot;六、SQL 与 关系代数的对照速查表&quot;">​</a></h2><table tabindex="0"><thead><tr><th>关系代数符号</th><th>名称</th><th>SQL 对应</th></tr></thead><tbody><tr><td>σ</td><td>选择（Selection）</td><td><code>WHERE</code></td></tr><tr><td>π</td><td>投影（Projection）</td><td><code>SELECT 列名</code></td></tr><tr><td>∪</td><td>并集（Union）</td><td><code>UNION</code></td></tr><tr><td>−</td><td>差集（Difference）</td><td><code>EXCEPT</code> / <code>MINUS</code></td></tr><tr><td>×</td><td>笛卡尔积</td><td><code>CROSS JOIN</code></td></tr><tr><td>∩</td><td>交集</td><td><code>INTERSECT</code></td></tr><tr><td>⋈</td><td>连接（Join）</td><td><code>JOIN ON</code></td></tr><tr><td>γ</td><td>聚合（Group）</td><td><code>GROUP BY</code></td></tr><tr><td>ρ</td><td>重命名（Rename）</td><td><code>AS</code></td></tr><tr><td>τ</td><td>排序（Order）</td><td><code>ORDER BY</code></td></tr></tbody></table>`,85))])}const y=e(h,[["render",o]]);export{m as __pageData,y as default};
