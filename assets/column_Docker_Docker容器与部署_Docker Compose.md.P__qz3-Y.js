import{_ as i,C as e,c as l,o as p,j as a,G as r,aQ as h,a as t}from"./chunks/framework.DEi4YP2n.js";const k="/assets/dockercompose.CY67vaI4.png",F=JSON.parse('{"title":"Docker Compose: å¤šå®¹å™¨åº”ç”¨çš„â€œç¼–æ’è¯´æ˜ä¹¦â€","description":"","frontmatter":{},"headers":[],"relativePath":"column/Docker/Dockerå®¹å™¨ä¸éƒ¨ç½²/Docker Compose.md","filePath":"column/Docker/Dockerå®¹å™¨ä¸éƒ¨ç½²/Docker Compose.md","lastUpdated":1766732506000}'),d={name:"column/Docker/Dockerå®¹å™¨ä¸éƒ¨ç½²/Docker Compose.md"};function c(o,s,b,u,m,g){const n=e("ArticleMetadata");return p(),l("div",null,[s[0]||(s[0]=a("h1",{id:"docker-compose-å¤šå®¹å™¨åº”ç”¨çš„-ç¼–æ’è¯´æ˜ä¹¦",tabindex:"-1"},[t("Docker Compose: å¤šå®¹å™¨åº”ç”¨çš„â€œç¼–æ’è¯´æ˜ä¹¦â€ "),a("a",{class:"header-anchor",href:"#docker-compose-å¤šå®¹å™¨åº”ç”¨çš„-ç¼–æ’è¯´æ˜ä¹¦","aria-label":'Permalink to "Docker Compose: å¤šå®¹å™¨åº”ç”¨çš„â€œç¼–æ’è¯´æ˜ä¹¦â€"'},"â€‹")],-1)),r(n),s[1]||(s[1]=h('<nav class="table-of-contents"><ul><li><a href="#ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦-docker-compose">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦ Docker Composeï¼Ÿ</a><ul><li><a href="#_1-1-ä¸ç”¨-compose-ä¼šæ€æ ·">1.1 ä¸ç”¨ Compose ä¼šæ€æ ·ï¼Ÿ</a></li><li><a href="#_1-2-ä½¿ç”¨-docker-compose-å">1.2 ä½¿ç”¨ Docker Compose å</a></li></ul></li><li><a href="#äºŒã€å¸¸ç”¨é…ç½®é¡¹è¯¦è§£">äºŒã€å¸¸ç”¨é…ç½®é¡¹è¯¦è§£</a><ul><li><a href="#_2-1-image-build">2.1 image / build</a></li><li><a href="#_2-2-ports-ç«¯å£æ˜ å°„">2.2 portsï¼ˆç«¯å£æ˜ å°„ï¼‰</a></li><li><a href="#_2-3-volumes-æ•°æ®æŒ‚è½½">2.3 volumesï¼ˆæ•°æ®æŒ‚è½½ï¼‰</a></li><li><a href="#_2-4-environment-ç¯å¢ƒå˜é‡">2.4 environmentï¼ˆç¯å¢ƒå˜é‡ï¼‰</a></li><li><a href="#_2-5-depends-on-ä¾èµ–å…³ç³»">2.5 depends_onï¼ˆä¾èµ–å…³ç³»ï¼‰</a></li><li><a href="#_2-6-networks-ç½‘ç»œ">2.6 networksï¼ˆç½‘ç»œï¼‰</a></li></ul></li><li><a href="#ä¸‰ã€ä¸€ä¸ªçœŸå®çš„å‰ç«¯-åç«¯-æ•°æ®åº“ç¤ºä¾‹">ä¸‰ã€ä¸€ä¸ªçœŸå®çš„å‰ç«¯ + åç«¯ + æ•°æ®åº“ç¤ºä¾‹</a><ul><li><a href="#_3-1-é¡¹ç›®ç»“æ„">3.1 é¡¹ç›®ç»“æ„</a></li><li><a href="#_3-2-docker-compose-yml">3.2 docker-compose.yml</a></li><li><a href="#_3-3-æœåŠ¡é—´æ˜¯å¦‚ä½•é€šä¿¡çš„">3.3 æœåŠ¡é—´æ˜¯å¦‚ä½•é€šä¿¡çš„ï¼Ÿ</a></li></ul></li><li><a href="#å››ã€docker-compose-å¸¸ç”¨å‘½ä»¤">å››ã€Docker Compose å¸¸ç”¨å‘½ä»¤</a><ul><li><a href="#_4-1-å¯åŠ¨æœåŠ¡">4.1 å¯åŠ¨æœåŠ¡</a></li><li><a href="#_4-2-åœæ­¢æœåŠ¡">4.2 åœæ­¢æœåŠ¡</a></li><li><a href="#_4-3-æŸ¥çœ‹çŠ¶æ€">4.3 æŸ¥çœ‹çŠ¶æ€</a></li><li><a href="#_4-4-ç®¡ç†æœåŠ¡">4.4 ç®¡ç†æœåŠ¡</a></li><li><a href="#_4-5-æ‰§è¡Œå‘½ä»¤">4.5 æ‰§è¡Œå‘½ä»¤</a></li><li><a href="#_4-6-æ„å»ºå’Œæ¨é€">4.6 æ„å»ºå’Œæ¨é€</a></li></ul></li></ul></nav><p><img src="'+k+`" alt="" loading="lazy"></p><p>ä¸€å¥è¯å®šä¹‰ï¼š</p><blockquote><p><strong>Docker Compose æ˜¯ä¸€ä¸ªç”¨ YAML æ–‡ä»¶å®šä¹‰å’Œè¿è¡Œâ€œå¤šå®¹å™¨åº”ç”¨â€çš„å·¥å…·ã€‚</strong></p></blockquote><p>ä½ åªéœ€è¦ä¸€ä¸ª <code>docker-compose.yml</code>ï¼š</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å°±å¯ä»¥æŠŠä¸€æ•´å¥—æœåŠ¡è·‘èµ·æ¥ã€‚</p><h2 id="ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦-docker-compose" tabindex="-1">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦ Docker Composeï¼Ÿ <a class="header-anchor" href="#ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦-docker-compose" aria-label="Permalink to &quot;ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦ Docker Composeï¼Ÿ&quot;">â€‹</a></h2><p>æœ‰çš„æ—¶å€™ ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨å¯èƒ½ä¼šæ˜¯å¾ˆå¤šéƒ¨åˆ†ç»„æˆçš„ï¼Œä¾‹å¦‚å‰ç«¯ã€åç«¯ã€æ•°æ®åº“ ä»¥åŠå„ç§é™„åŠ çš„æŠ€æœ¯æ ˆï¼Œè¿™äº›ä¸œè¥¿åº”è¯¥å¦‚ä½•å®¹å™¨åŒ–å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥è‡ªç„¶çš„æƒ³åˆ°ï¼Œå°†è¿™äº›æ¨¡å—éƒ½æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œåšæˆä¸€ä¸ªå·¨å¤§çš„å®¹å™¨ã€‚ä½†è¿™æ ·åšæœ‰ä¸€ä¸ªå¼Šç«¯ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªæ¨¡å—å‘ç”Ÿæ•…éšœï¼Œä¾‹å¦‚ æœåŠ¡ç«¯å†…å­˜æ³„éœ²ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•´ä¸ªå®¹å™¨éƒ½å´©æºƒæŒ‚æ‰ã€‚</p><p>å¹¶ä¸”è¿™æ ·åšçš„å¯ä¼¸ç¼©æ€§å·®ï¼Œå¦‚æœæƒ³ç»™ç³»ç»Ÿåšæ‰©å®¹ï¼Œåªèƒ½æŠŠæ•´ä¸ªå¤§å®¹å™¨åœ¨å¤åˆ¶ä¸€ä»½ï¼Œåšä¸åˆ°å¯¹æŸä¸ªæ¨¡å—çš„ç²¾ç¡®æ‰©å®¹ã€‚</p><p>å¤šåº”ç”¨çš„æœ€ä½³å®è·µï¼Œæ˜¯æŠŠæ¯ä¸€ä¸ªæ¨¡å—éƒ½æ‰“åŒ…æˆä¸€ä¸ªç‹¬ç«‹çš„å®¹å™¨ã€‚ä½†è¿™æ ·å¤šå®¹å™¨ å¢åŠ äº†å¾ˆå¤šä½¿ç”¨æˆæœ¬ï¼Œå› ä¸ºæƒ³åˆ›å»ºå¤šä¸ª å®¹å™¨ å°±è¦å¤šæ¬¡ä½¿ç”¨ <code>docker run</code> ï¼Œè¿˜éœ€è¦é…ç½®å®¹å™¨ä¹‹é—´çš„ç½‘ç»œç¯å¢ƒï¼Œå°è¯•ç®¡ç†è¿™äº›å®¹å™¨æ—¶ï¼Œä¸€ä¸ªé—æ¼å°±ä¼šå¯¼è‡´å¾ˆå¤šé—®é¢˜ï¼Œå¹¶ä¸”è‹¥è®©å…¶ä»–äººéƒ¨ç½²é¡¹ç›®ï¼Œå¦‚æœæ“ä½œè€…å¯¹éƒ¨ç½²æµç¨‹ä¸ç†Ÿæ‚‰ ä¹Ÿä¼šå¯¼è‡´å„ç§é—®é¢˜çš„å‘ç”Ÿã€‚</p><p>è¿™ä¸ªæ—¶å€™ï¼Œå®¹å™¨ç¼–æ’æŠ€æœ¯å°±å¾ˆæœ‰ç”¨äº†ï¼Œä¹Ÿå°±æ˜¯ <code>Docker Compose</code>ï¼Œå®ƒä½¿ç”¨ yml æ–‡ä»¶ ç®¡ç†å¤šä¸ªå®¹å™¨ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­è®°å½•äº†å®¹å™¨ä¹‹é—´æ—¶å¦‚ä½•åˆ›å»ºä»¥åŠå¦‚ä½•ååŒå·¥ä½œçš„ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„æŠŠ <code>Docker Compose</code> æ–‡ä»¶ç†è§£æˆä¸€ä¸ªæˆ–å¤šä¸ª <code>Docker run</code> å‘½ä»¤ï¼ŒæŒ‰ç…§ç‰¹å®šçš„æ ¼å¼ä¹¦å†™åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚</p><h3 id="_1-1-ä¸ç”¨-compose-ä¼šæ€æ ·" tabindex="-1">1.1 ä¸ç”¨ Compose ä¼šæ€æ ·ï¼Ÿ <a class="header-anchor" href="#_1-1-ä¸ç”¨-compose-ä¼šæ€æ ·" aria-label="Permalink to &quot;1.1 ä¸ç”¨ Compose ä¼šæ€æ ·ï¼Ÿ&quot;">â€‹</a></h3><p>åœ¨çœŸå®é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¾ˆå°‘åªè·‘ä¸€ä¸ªå®¹å™¨ï¼š</p><ul><li>å‰ç«¯ï¼ˆNginxï¼‰</li><li>åç«¯ï¼ˆNode / Javaï¼‰</li><li>æ•°æ®åº“ï¼ˆMySQL / Redisï¼‰</li><li>åå‘ä»£ç†</li></ul><p>å¦‚æœæ¯ä¸ªå®¹å™¨éƒ½ç”¨ <code>docker run</code> æ‰‹åŠ¨å¯åŠ¨ï¼Œ<strong>ä¸ä»…éº»çƒ¦ï¼Œè€Œä¸”ä¸å¯ç»´æŠ¤</strong>ã€‚</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redis</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backend</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>é—®é¢˜ï¼š</p><ul><li>å®¹å™¨å¯åŠ¨é¡ºåºéš¾æ§åˆ¶</li><li>ç½‘ç»œé…ç½®å¤æ‚</li><li>å‚æ•°å¤šã€å®¹æ˜“å‡ºé”™</li><li>æ— æ³•ç‰ˆæœ¬åŒ–ã€æ— æ³•å¤ç°</li></ul><h3 id="_1-2-ä½¿ç”¨-docker-compose-å" tabindex="-1">1.2 ä½¿ç”¨ Docker Compose å <a class="header-anchor" href="#_1-2-ä½¿ç”¨-docker-compose-å" aria-label="Permalink to &quot;1.2 ä½¿ç”¨ Docker Compose å&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>âœ”ï¸ è‡ªåŠ¨åˆ›å»ºç½‘ç»œ âœ”ï¸ è‡ªåŠ¨å®¹å™¨äº’è” âœ”ï¸ é…ç½®æ–‡ä»¶å³æ–‡æ¡£ âœ”ï¸ ä¸€æ¡å‘½ä»¤å¯åŠ¨æ•´ä¸ªç³»ç»Ÿ</p><h2 id="äºŒã€å¸¸ç”¨é…ç½®é¡¹è¯¦è§£" tabindex="-1">äºŒã€å¸¸ç”¨é…ç½®é¡¹è¯¦è§£ <a class="header-anchor" href="#äºŒã€å¸¸ç”¨é…ç½®é¡¹è¯¦è§£" aria-label="Permalink to &quot;äºŒã€å¸¸ç”¨é…ç½®é¡¹è¯¦è§£&quot;">â€‹</a></h2><h3 id="_2-1-image-build" tabindex="-1">2.1 image / build <a class="header-anchor" href="#_2-1-image-build" aria-label="Permalink to &quot;2.1 image / build&quot;">â€‹</a></h3><h4 id="ä½¿ç”¨ç°æˆé•œåƒ" tabindex="-1">ä½¿ç”¨ç°æˆé•œåƒ <a class="header-anchor" href="#ä½¿ç”¨ç°æˆé•œåƒ" aria-label="Permalink to &quot;ä½¿ç”¨ç°æˆé•œåƒ&quot;">â€‹</a></h4><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nginx:alpine</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="ä½¿ç”¨-dockerfile-æ„å»º" tabindex="-1">ä½¿ç”¨ Dockerfile æ„å»º <a class="header-anchor" href="#ä½¿ç”¨-dockerfile-æ„å»º" aria-label="Permalink to &quot;ä½¿ç”¨ Dockerfile æ„å»º&quot;">â€‹</a></h4><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  dockerfile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Dockerfile</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_2-2-ports-ç«¯å£æ˜ å°„" tabindex="-1">2.2 portsï¼ˆç«¯å£æ˜ å°„ï¼‰ <a class="header-anchor" href="#_2-2-ports-ç«¯å£æ˜ å°„" aria-label="Permalink to &quot;2.2 portsï¼ˆç«¯å£æ˜ å°„ï¼‰&quot;">â€‹</a></h3><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;8080:80&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å«ä¹‰ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>å®¿ä¸»æœº 8080 â†’ å®¹å™¨ 80</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-3-volumes-æ•°æ®æŒ‚è½½" tabindex="-1">2.3 volumesï¼ˆæ•°æ®æŒ‚è½½ï¼‰ <a class="header-anchor" href="#_2-3-volumes-æ•°æ®æŒ‚è½½" aria-label="Permalink to &quot;2.3 volumesï¼ˆæ•°æ®æŒ‚è½½ï¼‰&quot;">â€‹</a></h3><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./nginx.conf:/etc/nginx/conf.d/default.conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>ä½œç”¨ï¼š</p><ul><li>é…ç½®çƒ­æ›´æ–°</li><li>æ•°æ®æŒä¹…åŒ–</li></ul><h3 id="_2-4-environment-ç¯å¢ƒå˜é‡" tabindex="-1">2.4 environmentï¼ˆç¯å¢ƒå˜é‡ï¼‰ <a class="header-anchor" href="#_2-4-environment-ç¯å¢ƒå˜é‡" aria-label="Permalink to &quot;2.4 environmentï¼ˆç¯å¢ƒå˜é‡ï¼‰&quot;">â€‹</a></h3><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">NODE_ENV=production</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">DB_HOST=mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ğŸ‘‰ <strong>æœåŠ¡åå°±æ˜¯å®¹å™¨çš„åŸŸå</strong></p><h3 id="_2-5-depends-on-ä¾èµ–å…³ç³»" tabindex="-1">2.5 depends_onï¼ˆä¾èµ–å…³ç³»ï¼‰ <a class="header-anchor" href="#_2-5-depends-on-ä¾èµ–å…³ç³»" aria-label="Permalink to &quot;2.5 depends_onï¼ˆä¾èµ–å…³ç³»ï¼‰&quot;">â€‹</a></h3><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">depends_on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mysql</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">redis</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>è¯´æ˜ï¼š</p><ul><li>æ§åˆ¶å¯åŠ¨é¡ºåº</li><li>ä¸ä¿è¯â€œæœåŠ¡å·²å°±ç»ªâ€</li></ul><h3 id="_2-6-networks-ç½‘ç»œ" tabindex="-1">2.6 networksï¼ˆç½‘ç»œï¼‰ <a class="header-anchor" href="#_2-6-networks-ç½‘ç»œ" aria-label="Permalink to &quot;2.6 networksï¼ˆç½‘ç»œï¼‰&quot;">â€‹</a></h3><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">networks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  app-net</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Docker Compose ä¼šï¼š</p><ul><li>è‡ªåŠ¨åˆ›å»ºç½‘ç»œ</li><li>æ‰€æœ‰æœåŠ¡é»˜è®¤äº’é€š</li></ul><h2 id="ä¸‰ã€ä¸€ä¸ªçœŸå®çš„å‰ç«¯-åç«¯-æ•°æ®åº“ç¤ºä¾‹" tabindex="-1">ä¸‰ã€ä¸€ä¸ªçœŸå®çš„å‰ç«¯ + åç«¯ + æ•°æ®åº“ç¤ºä¾‹ <a class="header-anchor" href="#ä¸‰ã€ä¸€ä¸ªçœŸå®çš„å‰ç«¯-åç«¯-æ•°æ®åº“ç¤ºä¾‹" aria-label="Permalink to &quot;ä¸‰ã€ä¸€ä¸ªçœŸå®çš„å‰ç«¯ + åç«¯ + æ•°æ®åº“ç¤ºä¾‹&quot;">â€‹</a></h2><h3 id="_3-1-é¡¹ç›®ç»“æ„" tabindex="-1">3.1 é¡¹ç›®ç»“æ„ <a class="header-anchor" href="#_3-1-é¡¹ç›®ç»“æ„" aria-label="Permalink to &quot;3.1 é¡¹ç›®ç»“æ„&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>.</span></span>
<span class="line"><span>â”œâ”€â”€ frontend/</span></span>
<span class="line"><span>â”‚   â””â”€â”€ Dockerfile</span></span>
<span class="line"><span>â”œâ”€â”€ backend/</span></span>
<span class="line"><span>â”‚   â””â”€â”€ Dockerfile</span></span>
<span class="line"><span>â”œâ”€â”€ docker-compose.yml</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_3-2-docker-compose-yml" tabindex="-1">3.2 docker-compose.yml <a class="header-anchor" href="#_3-2-docker-compose-yml" aria-label="Permalink to &quot;3.2 docker-compose.yml&quot;">â€‹</a></h3><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŒ‡å®š Docker Compose æ–‡ä»¶æ ¼å¼ç‰ˆæœ¬ï¼Œ3.9 ç‰ˆæœ¬æ”¯æŒæœ€æ–°ç‰¹æ€§</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3.9&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># services éƒ¨åˆ†å®šä¹‰æ‰€æœ‰è¦è¿è¡Œçš„æœåŠ¡ï¼ˆå®¹å™¨ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # å‰ç«¯æœåŠ¡å®šä¹‰</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  frontend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ä½¿ç”¨ ./frontend ç›®å½•ä¸‹çš„ Dockerfile æ„å»ºé•œåƒ</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./frontend</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ç«¯å£æ˜ å°„ï¼šå°†ä¸»æœºçš„80ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„80ç«¯å£</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;80:80&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ä¾èµ–å…³ç³»ï¼šç¡®ä¿ backend æœåŠ¡å…ˆå¯åŠ¨å†å¯åŠ¨ frontend</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    depends_on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">backend</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # åç«¯æœåŠ¡å®šä¹‰</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  backend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ä½¿ç”¨ ./backend ç›®å½•ä¸‹çš„ Dockerfile æ„å»ºé•œåƒ</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./backend</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ç«¯å£æ˜ å°„ï¼šå°†ä¸»æœºçš„3000ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„3000ç«¯å£</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3000:3000&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # è®¾ç½®ç¯å¢ƒå˜é‡ï¼šæ•°æ®åº“ä¸»æœºåè®¾ä¸º mysqlï¼ˆæœåŠ¡åï¼‰</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">DB_HOST=mysql</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ä¾èµ–å…³ç³»ï¼šç¡®ä¿ mysql æœåŠ¡å…ˆå¯åŠ¨å†å¯åŠ¨ backend</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    depends_on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mysql</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # MySQL æ•°æ®åº“æœåŠ¡å®šä¹‰</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  mysql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ä½¿ç”¨å®˜æ–¹çš„ MySQL 8 é•œåƒï¼Œä¸æ„å»ºï¼Œç›´æ¥æ‹‰å–</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mysql:8</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # è®¾ç½® MySQL ç¯å¢ƒå˜é‡</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # è®¾ç½® root ç”¨æˆ·å¯†ç ï¼ˆç”Ÿäº§ç¯å¢ƒåº”è¯¥ä½¿ç”¨æ›´å®‰å…¨çš„æ–¹å¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      MYSQL_ROOT_PASSWORD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">root</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # åˆ›å»ºé»˜è®¤æ•°æ®åº“</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      MYSQL_DATABASE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">app</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # æ•°æ®å·æŒ‚è½½ï¼šå°† mysql-data å·æŒ‚è½½åˆ°å®¹å™¨çš„æ•°æ®åº“ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mysql-data:/var/lib/mysql</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®šä¹‰é¡¹ç›®ä¸­ä½¿ç”¨çš„æ•°æ®å·</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # åˆ›å»ºåä¸º mysql-data çš„æŒä¹…åŒ–æ•°æ®å·</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  mysql-data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # æ³¨æ„ï¼šè¿™é‡Œå¯ä»¥è¿›ä¸€æ­¥é…ç½®å·çš„å±æ€§ï¼Œä½†å½“å‰é…ç½®ä½¿ç”¨é»˜è®¤è®¾ç½®</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h3 id="_3-3-æœåŠ¡é—´æ˜¯å¦‚ä½•é€šä¿¡çš„" tabindex="-1">3.3 æœåŠ¡é—´æ˜¯å¦‚ä½•é€šä¿¡çš„ï¼Ÿ <a class="header-anchor" href="#_3-3-æœåŠ¡é—´æ˜¯å¦‚ä½•é€šä¿¡çš„" aria-label="Permalink to &quot;3.3 æœåŠ¡é—´æ˜¯å¦‚ä½•é€šä¿¡çš„ï¼Ÿ&quot;">â€‹</a></h3><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>frontend â†’ backend:3000</span></span>
<span class="line"><span>backend â†’ mysql:3306</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>ğŸ‘‰ <strong>ç›´æ¥ç”¨ service åï¼Œä¸ç”¨ IP</strong></p><h2 id="å››ã€docker-compose-å¸¸ç”¨å‘½ä»¤" tabindex="-1">å››ã€Docker Compose å¸¸ç”¨å‘½ä»¤ <a class="header-anchor" href="#å››ã€docker-compose-å¸¸ç”¨å‘½ä»¤" aria-label="Permalink to &quot;å››ã€Docker Compose å¸¸ç”¨å‘½ä»¤&quot;">â€‹</a></h2><h3 id="_4-1-å¯åŠ¨æœåŠ¡" tabindex="-1">4.1 å¯åŠ¨æœåŠ¡ <a class="header-anchor" href="#_4-1-å¯åŠ¨æœåŠ¡" aria-label="Permalink to &quot;4.1 å¯åŠ¨æœåŠ¡&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆå‰å°è¿è¡Œï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åå°å¯åŠ¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é‡æ–°æ„å»ºé•œåƒåå¯åŠ¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¼ºåˆ¶é‡æ–°åˆ›å»ºå®¹å™¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --force-recreate</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_4-2-åœæ­¢æœåŠ¡" tabindex="-1">4.2 åœæ­¢æœåŠ¡ <a class="header-anchor" href="#_4-2-åœæ­¢æœåŠ¡" aria-label="Permalink to &quot;4.2 åœæ­¢æœåŠ¡&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åœæ­¢æœåŠ¡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åœæ­¢å¹¶åˆ é™¤å®¹å™¨ã€ç½‘ç»œ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åœæ­¢å¹¶åˆ é™¤æ‰€æœ‰èµ„æºï¼ˆåŒ…æ‹¬å·ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åœæ­¢å¹¶åˆ é™¤æ‰€æœ‰èµ„æºï¼ˆåŒ…æ‹¬é•œåƒï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --rmi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> all</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_4-3-æŸ¥çœ‹çŠ¶æ€" tabindex="-1">4.3 æŸ¥çœ‹çŠ¶æ€ <a class="header-anchor" href="#_4-3-æŸ¥çœ‹çŠ¶æ€" aria-label="Permalink to &quot;4.3 æŸ¥çœ‹çŠ¶æ€&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹è¿è¡ŒçŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çŠ¶æ€ï¼ˆåŒ…æ‹¬åœæ­¢çš„ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹æœåŠ¡æ—¥å¿—</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backend</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹æœåŠ¡èµ„æºä½¿ç”¨æƒ…å†µ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> top</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_4-4-ç®¡ç†æœåŠ¡" tabindex="-1">4.4 ç®¡ç†æœåŠ¡ <a class="header-anchor" href="#_4-4-ç®¡ç†æœåŠ¡" aria-label="Permalink to &quot;4.4 ç®¡ç†æœåŠ¡&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é‡å¯æœåŠ¡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é‡å¯ç‰¹å®šæœåŠ¡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backend</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æš‚åœæœåŠ¡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pause</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ¢å¤æœåŠ¡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unpause</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç¼©æ”¾æœåŠ¡å®ä¾‹æ•°é‡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --scale</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backend=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_4-5-æ‰§è¡Œå‘½ä»¤" tabindex="-1">4.5 æ‰§è¡Œå‘½ä»¤ <a class="header-anchor" href="#_4-5-æ‰§è¡Œå‘½ä»¤" aria-label="Permalink to &quot;4.5 æ‰§è¡Œå‘½ä»¤&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åœ¨è¿è¡Œçš„å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backend</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ‰§è¡Œä¸€æ¬¡æ€§å‘½ä»¤</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backend</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ä»¥ç‰¹å®šç”¨æˆ·æ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backend</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bash</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_4-6-æ„å»ºå’Œæ¨é€" tabindex="-1">4.6 æ„å»ºå’Œæ¨é€ <a class="header-anchor" href="#_4-6-æ„å»ºå’Œæ¨é€" aria-label="Permalink to &quot;4.6 æ„å»ºå’Œæ¨é€&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ„å»ºé•œåƒ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ„å»ºç‰¹å®šæœåŠ¡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backend</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ¨é€é•œåƒåˆ°ä»“åº“</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ‹‰å–é•œåƒ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,69))])}const E=i(d,[["render",c]]);export{F as __pageData,E as default};
