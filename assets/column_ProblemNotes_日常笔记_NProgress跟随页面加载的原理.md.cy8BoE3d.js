import{_ as r,C as i,c as E,o as a,j as n,G as l,a2 as p,b as d,a as e,w as h,a7 as g}from"./chunks/framework.DrNAj9nU.js";const B=JSON.parse('{"title":"NProgress å¦‚ä½•â€œè·Ÿéšâ€é¡µé¢åŠ è½½ï¼Ÿ","description":"","frontmatter":{},"headers":[],"relativePath":"column/ProblemNotes/æ—¥å¸¸ç¬”è®°/NProgressè·Ÿéšé¡µé¢åŠ è½½çš„åŸç†.md","filePath":"column/ProblemNotes/æ—¥å¸¸ç¬”è®°/NProgressè·Ÿéšé¡µé¢åŠ è½½çš„åŸç†.md","lastUpdated":1770102578000}'),c={name:"column/ProblemNotes/æ—¥å¸¸ç¬”è®°/NProgressè·Ÿéšé¡µé¢åŠ è½½çš„åŸç†.md"};function o(y,s,b,u,m,F){const t=i("ArticleMetadata"),k=i("Mermaid");return a(),E("div",null,[s[1]||(s[1]=n("h1",{id:"nprogress-å¦‚ä½•-è·Ÿéš-é¡µé¢åŠ è½½",tabindex:"-1"},[e("NProgress å¦‚ä½•â€œè·Ÿéšâ€é¡µé¢åŠ è½½ï¼Ÿ "),n("a",{class:"header-anchor",href:"#nprogress-å¦‚ä½•-è·Ÿéš-é¡µé¢åŠ è½½","aria-label":'Permalink to "NProgress å¦‚ä½•â€œè·Ÿéšâ€é¡µé¢åŠ è½½ï¼Ÿ"'},"â€‹")],-1)),l(t),s[2]||(s[2]=p(`<blockquote><p><code>NProgress</code> æ˜¯å‰ç«¯å¼€å‘ä¸­å¸¸è§çš„ä¸€ä¸ªè¿›åº¦æ¡ç»„ä»¶ï¼Œä½†ä½ æ˜¯å¦å¥½å¥‡è¿‡å®ƒä¸ºä»€ä¹ˆèƒ½è·Ÿéšé¡µé¢åŠ è½½ï¼Ÿäº‹å®ä¸Šï¼Œå®ƒå¹¶ä¸èƒ½çœŸæ­£è¿½è¸ªæµè§ˆå™¨åŠ è½½è¿›åº¦ï¼Œè€Œæ˜¯é€šè¿‡æ™ºèƒ½æ¨¡æ‹Ÿå’Œäº‹ä»¶ç»‘å®šåˆ›é€ è¿™ç§â€œè·Ÿéšâ€çš„å‡è±¡ã€‚</p></blockquote><h2 id="æ ¸å¿ƒçœŸç›¸-nprogress-æ— æ³•è¿½è¸ªçœŸå®åŠ è½½è¿›åº¦" tabindex="-1">æ ¸å¿ƒçœŸç›¸ï¼šNProgress æ— æ³•è¿½è¸ªçœŸå®åŠ è½½è¿›åº¦ <a class="header-anchor" href="#æ ¸å¿ƒçœŸç›¸-nprogress-æ— æ³•è¿½è¸ªçœŸå®åŠ è½½è¿›åº¦" aria-label="Permalink to &quot;æ ¸å¿ƒçœŸç›¸ï¼šNProgress æ— æ³•è¿½è¸ªçœŸå®åŠ è½½è¿›åº¦&quot;">â€‹</a></h2><p>é¦–å…ˆè¦æ˜ç¡®ä¸€ä¸ªå…³é”®äº‹å®ï¼š<strong>NProgress æœ¬èº«æ— æ³•ç²¾ç¡®è·å–æµè§ˆå™¨å¯¹é¡µé¢æˆ–èµ„æºçš„çœŸå®åŠ è½½è¿›åº¦ç™¾åˆ†æ¯”</strong>ã€‚</p><p>ç°ä»£æµè§ˆå™¨ç¡®å®æä¾›äº†åŠ è½½è¿›åº¦ä¿¡æ¯ï¼Œä½†å‡ºäºå®‰å…¨å’Œæ€§èƒ½è€ƒè™‘ï¼Œè¿™äº›ä¿¡æ¯å¯¹ JavaScript æ˜¯<strong>ä¸å¯è§</strong>æˆ–<strong>å—é™</strong>çš„ã€‚NProgress é‡‡ç”¨çš„æ˜¯ä¸€ç§æ›´å·§å¦™çš„è®¾è®¡å“²å­¦ï¼š</p><p><strong>é€šè¿‡æ¨¡æ‹Ÿè¿›åº¦å¢é•¿ï¼Œå¹¶ç»‘å®šåˆ°å¼€å‘è€…æ§åˆ¶çš„åŠ è½½äº‹ä»¶ä¸Šï¼Œä»è€Œåˆ›å»ºæµç•…çš„è§†è§‰åé¦ˆã€‚</strong></p><h2 id="nprogress-çš„æ ¸å¿ƒæœºåˆ¶-ä¸¤å¥—-è·Ÿéš-ç­–ç•¥" tabindex="-1">NProgress çš„æ ¸å¿ƒæœºåˆ¶ï¼šä¸¤å¥—â€œè·Ÿéšâ€ç­–ç•¥ <a class="header-anchor" href="#nprogress-çš„æ ¸å¿ƒæœºåˆ¶-ä¸¤å¥—-è·Ÿéš-ç­–ç•¥" aria-label="Permalink to &quot;NProgress çš„æ ¸å¿ƒæœºåˆ¶ï¼šä¸¤å¥—â€œè·Ÿéšâ€ç­–ç•¥&quot;">â€‹</a></h2><h3 id="_1-æ¶“æ»´-ç®—æ³•-æ™ºèƒ½æ¨¡æ‹Ÿè¿›åº¦" tabindex="-1">1. â€œæ¶“æ»´â€ç®—æ³•ï¼šæ™ºèƒ½æ¨¡æ‹Ÿè¿›åº¦ <a class="header-anchor" href="#_1-æ¶“æ»´-ç®—æ³•-æ™ºèƒ½æ¨¡æ‹Ÿè¿›åº¦" aria-label="Permalink to &quot;1. â€œæ¶“æ»´â€ç®—æ³•ï¼šæ™ºèƒ½æ¨¡æ‹Ÿè¿›åº¦&quot;">â€‹</a></h3><p>å½“è°ƒç”¨ <code>NProgress.start()</code> æ—¶ï¼Œä¼šè§¦å‘â€œæ¶“æ»´â€ï¼ˆtrickleï¼‰ç®—æ³•ï¼š</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç®€åŒ–çš„ç®—æ³•é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NProgress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">trickle</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NProgress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">inc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// éšæœºå¢é‡å‰è¿›</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿›åº¦æ°¸è¿œä¸ä¼šè‡ªè¡Œè¾¾åˆ°100%</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¿…é¡»ç”±å¼€å‘è€…æ˜¾å¼è°ƒç”¨NProgress.done()æ¥å®Œæˆ</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>è¿™ç§è®¾è®¡æ¨¡æ‹Ÿäº†çœŸå®ä¸–ç•ŒåŠ è½½çš„ä¸ç¡®å®šæ€§ï¼šè¿›åº¦ä»¥éšæœºã€ç¼“æ…¢çš„æ–¹å¼å‰è¿›ï¼Œç»™ç”¨æˆ·â€œæ­£åœ¨åŠ è½½â€çš„å¿ƒç†æš—ç¤ºï¼Œä½†æ°¸è¿œä¸ä¼šè‡ªè¡Œå®Œæˆï¼Œé¿å…äº†å‡å®Œæˆæˆ–å¡åœ¨ 99%çš„å°´å°¬ã€‚</p><h3 id="_2-äº‹ä»¶é©±åŠ¨-ç»‘å®šå…³é”®ç”Ÿå‘½å‘¨æœŸ" tabindex="-1">2. äº‹ä»¶é©±åŠ¨ï¼šç»‘å®šå…³é”®ç”Ÿå‘½å‘¨æœŸ <a class="header-anchor" href="#_2-äº‹ä»¶é©±åŠ¨-ç»‘å®šå…³é”®ç”Ÿå‘½å‘¨æœŸ" aria-label="Permalink to &quot;2. äº‹ä»¶é©±åŠ¨ï¼šç»‘å®šå…³é”®ç”Ÿå‘½å‘¨æœŸ&quot;">â€‹</a></h3><p>NProgress çœŸæ­£çš„â€œè·Ÿéšâ€èƒ½åŠ›æ¥è‡ªäºå¼€å‘è€…å°†å…¶ç»‘å®šåˆ°åº”ç”¨çš„å…³é”®äº‹ä»¶ä¸Šï¼š</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç¤ºä¾‹ï¼šåœ¨è·¯ç”±ç³»ç»Ÿä¸­ç»‘å®š</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">beforeEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  NProgress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·¯ç”±å¼€å§‹å‰å¯åŠ¨è¿›åº¦æ¡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">afterEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  NProgress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">done</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·¯ç”±å®Œæˆåç»“æŸè¿›åº¦æ¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç¤ºä¾‹ï¼šåœ¨HTTPè¯·æ±‚ä¸­ç»‘å®š</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">axios.interceptors.request.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  NProgress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">axios.interceptors.response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">response</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    NProgress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">done</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    NProgress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">done</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(error);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="æµè§ˆå™¨çœŸæ­£çš„åŠ è½½äº‹ä»¶-nprogress-çš„æ¨¡ä»¿å¯¹è±¡" tabindex="-1">æµè§ˆå™¨çœŸæ­£çš„åŠ è½½äº‹ä»¶ï¼šNProgress çš„æ¨¡ä»¿å¯¹è±¡ <a class="header-anchor" href="#æµè§ˆå™¨çœŸæ­£çš„åŠ è½½äº‹ä»¶-nprogress-çš„æ¨¡ä»¿å¯¹è±¡" aria-label="Permalink to &quot;æµè§ˆå™¨çœŸæ­£çš„åŠ è½½äº‹ä»¶ï¼šNProgress çš„æ¨¡ä»¿å¯¹è±¡&quot;">â€‹</a></h2><p>ä¸ºäº†ç†è§£ NProgress åœ¨æ¨¡ä»¿ä»€ä¹ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£æµè§ˆå™¨çœŸå®çš„åŠ è½½äº‹ä»¶ã€‚ä»¥ä¸‹æµç¨‹å›¾å±•ç¤ºäº†ä¼ ç»Ÿé¡µé¢åŠ è½½çš„å…³é”®äº‹ä»¶è§¦å‘é¡ºåºï¼š</p>`,15)),(a(),d(g,null,{default:h(()=>[l(k,{id:"mermaid-46",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20U%20as%20%E7%94%A8%E6%88%B7%0A%20%20%20%20participant%20B%20as%20%E6%B5%8F%E8%A7%88%E5%99%A8%0A%20%20%20%20participant%20S%20as%20%E6%9C%8D%E5%8A%A1%E5%99%A8%0A%0A%20%20%20%20U-%3E%3EB%3A%201.%20%E8%A7%A6%E5%8F%91%E5%AF%BC%E8%88%AA%2F%E9%87%8D%E6%96%B0%E5%8A%A0%E8%BD%BD%0A%20%20%20%20B-%3E%3ES%3A%202.%20%E5%8F%91%E9%80%81HTTP%E8%AF%B7%E6%B1%82%0A%20%20%20%20S-%3E%3EB%3A%203.%20%E8%BF%94%E5%9B%9EHTML%E6%96%87%E6%A1%A3%0A%0A%20%20%20%20Note%20over%20B%3A%204.%20DOM%E8%A7%A3%E6%9E%90%E5%BC%80%E5%A7%8B%0A%20%20%20%20B-%3E%3EB%3A%20%E8%A7%A6%E5%8F%91DOMContentLoaded%0A%0A%20%20%20%20par%20%E5%B9%B6%E8%A1%8C%E5%8A%A0%E8%BD%BD%0A%20%20%20%20%20%20%20%20B-%3E%3ES%3A%20%E5%8A%A0%E8%BD%BDCSS%0A%20%20%20%20%20%20%20%20B-%3E%3ES%3A%20%E5%8A%A0%E8%BD%BDJavaScript%0A%20%20%20%20%20%20%20%20B-%3E%3ES%3A%20%E5%8A%A0%E8%BD%BD%E5%9B%BE%E7%89%87%E7%AD%89%E8%B5%84%E6%BA%90%0A%20%20%20%20end%0A%0A%20%20%20%20Note%20over%20B%3A%205.%20%E6%89%80%E6%9C%89%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%E5%AE%8C%E6%88%90%0A%20%20%20%20B-%3E%3EB%3A%20%E8%A7%A6%E5%8F%91load%E4%BA%8B%E4%BB%B6%0A%20%20%20%20Note%20over%20B%3A%206.%20%E9%A1%B5%E9%9D%A2%E5%AE%8C%E5%85%A8%E5%B0%B1%E7%BB%AA%0A%20%20%20%20B-%3E%3EB%3A%20%E8%A7%A6%E5%8F%91readystatechange(complete)%0A"})]),fallback:h(()=>[...s[0]||(s[0]=[e(" Loading... ",-1)])]),_:1})),s[3]||(s[3]=p(`<h3 id="ğŸ¯-å…³é”®äº‹ä»¶è¯¦è§£" tabindex="-1">ğŸ¯ å…³é”®äº‹ä»¶è¯¦è§£ï¼š <a class="header-anchor" href="#ğŸ¯-å…³é”®äº‹ä»¶è¯¦è§£" aria-label="Permalink to &quot;ğŸ¯ å…³é”®äº‹ä»¶è¯¦è§£ï¼š&quot;">â€‹</a></h3><h4 id="_1-domcontentloaded-æ ¸å¿ƒå†…å®¹å°±ç»ª" tabindex="-1">1. <strong>DOMContentLoaded</strong> - æ ¸å¿ƒå†…å®¹å°±ç»ª <a class="header-anchor" href="#_1-domcontentloaded-æ ¸å¿ƒå†…å®¹å°±ç»ª" aria-label="Permalink to &quot;1. **DOMContentLoaded** - æ ¸å¿ƒå†…å®¹å°±ç»ª&quot;">â€‹</a></h4><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DOMContentLoaded&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DOMå·²å®Œå…¨è§£æï¼Œå¯ä»¥æ“ä½œDOMå…ƒç´ &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ­¤æ—¶CSSOMå¯èƒ½å°šæœªæ„å»ºå®Œæˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><strong>è§¦å‘æ—¶æœº</strong>ï¼šHTML æ–‡æ¡£å®Œå…¨è¢«è§£æå’ŒåŠ è½½ï¼ŒDOM æ ‘æ„å»ºå®Œæˆ</li><li><strong>ä¸ç­‰å¾…</strong>ï¼šæ ·å¼è¡¨ã€å›¾åƒå’Œå­æ¡†æ¶çš„åŠ è½½å®Œæˆ</li><li><strong>NProgress å¯¹åº”</strong>ï¼šåœ¨å•é¡µåº”ç”¨ä¸­ï¼Œè¿™ç±»ä¼¼äºè·¯ç”±ç»„ä»¶è§£æå®Œæˆ</li></ul><h4 id="_2-load-æ‰€æœ‰èµ„æºåŠ è½½å®Œæˆ" tabindex="-1">2. <strong>load</strong> - æ‰€æœ‰èµ„æºåŠ è½½å®Œæˆ <a class="header-anchor" href="#_2-load-æ‰€æœ‰èµ„æºåŠ è½½å®Œæˆ" aria-label="Permalink to &quot;2. **load** - æ‰€æœ‰èµ„æºåŠ è½½å®Œæˆ&quot;">â€‹</a></h4><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;load&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;é¡µé¢æ‰€æœ‰èµ„æºï¼ˆå›¾ç‰‡ã€CSSç­‰ï¼‰å·²åŠ è½½å®Œæˆ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è¿™æ˜¯ä¼ ç»Ÿé¡µé¢åŠ è½½çš„&quot;å®Œæˆ&quot;æ—¶åˆ»</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><strong>è§¦å‘æ—¶æœº</strong>ï¼šé¡µé¢åŠå…¶æ‰€æœ‰ä¾èµ–èµ„æºï¼ˆå›¾ç‰‡ã€CSSã€JS ç­‰ï¼‰å®Œå…¨åŠ è½½</li><li><strong>NProgress å¯¹åº”</strong>ï¼š<code>NProgress.done()</code> åº”è¯¥åœ¨æ­¤äº‹ä»¶æˆ–å…¶ç­‰æ•ˆæ—¶åˆ»è°ƒç”¨</li></ul><h4 id="_3-readystatechange-æ›´ç»†ç²’åº¦çš„çŠ¶æ€è¿½è¸ª" tabindex="-1">3. <strong>readystatechange</strong> - æ›´ç»†ç²’åº¦çš„çŠ¶æ€è¿½è¸ª <a class="header-anchor" href="#_3-readystatechange-æ›´ç»†ç²’åº¦çš„çŠ¶æ€è¿½è¸ª" aria-label="Permalink to &quot;3. **readystatechange** - æ›´ç»†ç²’åº¦çš„çŠ¶æ€è¿½è¸ª&quot;">â€‹</a></h4><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onreadystatechange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å½“å‰çŠ¶æ€:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, document.readyState);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // çŠ¶æ€å€¼ï¼š</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // loading - æ–‡æ¡£ä»åœ¨åŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // interactive - DOMå·²å¯äº¤äº’ï¼Œä½†èµ„æºä»åœ¨åŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // complete - æ–‡æ¡£å’Œèµ„æºå…¨éƒ¨åŠ è½½å®Œæˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_4-beforeunload-unload-é¡µé¢ç¦»å¼€äº‹ä»¶" tabindex="-1">4. <strong>beforeunload/unload</strong> - é¡µé¢ç¦»å¼€äº‹ä»¶ <a class="header-anchor" href="#_4-beforeunload-unload-é¡µé¢ç¦»å¼€äº‹ä»¶" aria-label="Permalink to &quot;4. **beforeunload/unload** - é¡µé¢ç¦»å¼€äº‹ä»¶&quot;">â€‹</a></h4><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;beforeunload&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¯ä»¥åœ¨è¿™é‡Œå¯åŠ¨è¿›åº¦æ¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  NProgress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;unload&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // é¡µé¢å³å°†å¸è½½</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="ç°ä»£å‰ç«¯æ¡†æ¶ä¸­çš„å®ç°ç­–ç•¥" tabindex="-1">ç°ä»£å‰ç«¯æ¡†æ¶ä¸­çš„å®ç°ç­–ç•¥ <a class="header-anchor" href="#ç°ä»£å‰ç«¯æ¡†æ¶ä¸­çš„å®ç°ç­–ç•¥" aria-label="Permalink to &quot;ç°ä»£å‰ç«¯æ¡†æ¶ä¸­çš„å®ç°ç­–ç•¥&quot;">â€‹</a></h2><p>åœ¨ Vueã€React ç­‰å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ä¸­ï¼ŒNProgress çš„å®ç°æ–¹å¼ä¸ä¼ ç»Ÿé¡µé¢æœ‰æ‰€ä¸åŒï¼š</p><h3 id="vue-router-é›†æˆç¤ºä¾‹" tabindex="-1">Vue Router é›†æˆç¤ºä¾‹ <a class="header-anchor" href="#vue-router-é›†æˆç¤ºä¾‹" aria-label="Permalink to &quot;Vue Router é›†æˆç¤ºä¾‹&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NProgress </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;nprogress&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;nprogress/nprogress.css&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VueRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å…¨å±€å‰ç½®å®ˆå«</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">beforeEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (from.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸æ˜¯é¦–æ¬¡åŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        NProgress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å…¨å±€åç½®é’©å­</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">afterEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    NProgress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">done</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¤„ç†å¼‚æ­¥ç»„ä»¶åŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Vue.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mixin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    beforeRouteEnter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">vm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // ç»„ä»¶å†…éƒ¨èµ„æºåŠ è½½å®Œæˆå</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            vm.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$once</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hook:mounted&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (to.meta.needsProgress) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    NProgress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">done</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="å¤„ç†å¼‚æ­¥ç»„ä»¶åŠ è½½" tabindex="-1">å¤„ç†å¼‚æ­¥ç»„ä»¶åŠ è½½ <a class="header-anchor" href="#å¤„ç†å¼‚æ­¥ç»„ä»¶åŠ è½½" aria-label="Permalink to &quot;å¤„ç†å¼‚æ­¥ç»„ä»¶åŠ è½½&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Vueå¼‚æ­¥ç»„ä»¶</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AsyncComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  component: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./MyComponent.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  loading: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      NProgress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;div&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;åŠ è½½ä¸­...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  error: ErrorComponent,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  delay: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å»¶è¿Ÿæ˜¾ç¤ºåŠ è½½çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  timeout: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // è¶…æ—¶æ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="nprogress-çš„é…ç½®ä¸ä¼˜åŒ–" tabindex="-1">NProgress çš„é…ç½®ä¸ä¼˜åŒ– <a class="header-anchor" href="#nprogress-çš„é…ç½®ä¸ä¼˜åŒ–" aria-label="Permalink to &quot;NProgress çš„é…ç½®ä¸ä¼˜åŒ–&quot;">â€‹</a></h2><p>ä¸ºäº†è·å¾—æ›´å¥½çš„â€œè·Ÿéšâ€æ•ˆæœï¼Œå¯ä»¥è°ƒæ•´ NProgress çš„é…ç½®ï¼š</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NProgress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">configure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  minimum: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.08</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æœ€å°ç™¾åˆ†æ¯”</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  trickleSpeed: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¶“æ»´é€Ÿåº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  showSpinner: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ˜¯å¦æ˜¾ç¤ºæ—‹è½¬å›¾æ ‡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  easing: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ease&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åŠ¨ç”»ç¼“åŠ¨å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  speed: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åŠ¨ç”»é€Ÿåº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  template: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`&lt;div class=&quot;bar&quot; role=&quot;bar&quot;&gt;&lt;/div&gt;\`</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // è‡ªå®šä¹‰æ¨¡æ¿</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="ä»€ä¹ˆæ˜¯æ¶“æ»´ç®—æ³•" tabindex="-1">ä»€ä¹ˆæ˜¯æ¶“æ»´ç®—æ³•ï¼Ÿ <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯æ¶“æ»´ç®—æ³•" aria-label="Permalink to &quot;ä»€ä¹ˆæ˜¯æ¶“æ»´ç®—æ³•ï¼Ÿ&quot;">â€‹</a></h2><p>æ¶“æ»´ç®—æ³• æ˜¯<code>NProgress</code> ç”¨æ¥æ¨¡æ‹ŸåŠ è½½è¿›åº¦çš„å¿ƒç†å­¦ç­–ç•¥â€”â€”é€šè¿‡ç¼“æ…¢ã€éšæœºçš„å°å¹…è¿›åº¦å¢é•¿ï¼Œè®©ç”¨æˆ·æ„Ÿè§‰é¡µé¢ç¡®å®åœ¨â€œåŠªåŠ›åŠ è½½â€ï¼Œå³ä½¿å®ƒå¹¶ä¸çŸ¥é“çœŸå®è¿›åº¦ã€‚</p><p>æƒ³è±¡ä¸€ä¸ªæ²™æ¼ï¼Œä½ æ— æ³•çŸ¥é“å…·ä½“æµäº†å¤šå°‘æ²™å­ï¼Œä½†çœ‹åˆ°æ²™å­æµåŠ¨ï¼Œå°±çŸ¥é“æ—¶é—´åœ¨æµé€ã€‚æ¶“æ»´ç®—æ³•å°±æ˜¯è¿™ç§â€œè§†è§‰å®‰æ…°å‰‚â€ã€‚</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç®€åŒ–çš„æ¶“æ»´é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> trickle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ¯æ¬¡å¢åŠ ä¸€ä¸ªå¾ˆå°çš„éšæœºå€¼</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> randomIncrement</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0.1-0.2ä¹‹é—´çš„éšæœºå€¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  progress </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> randomIncrement;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å…³é”®ï¼šæ°¸è¿œä¸ä¼šè‡ªåŠ¨è¾¾åˆ°100%</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (progress </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.95</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¡åœ¨95%ä»¥ä¸‹</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(trickle, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 200msåå†æ¬¡å¢é•¿</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>èƒŒåçš„å¿ƒç†å­¦åŸç†</strong></p><ul><li>è¿›åº¦å¯è§æ€§ï¼šäººè„‘å¯¹ä¸ç¡®å®šçš„ç­‰å¾…å®¹å¿åº¦å¾ˆä½ï¼Œå¯è§çš„è¿›åº¦èƒ½æ˜¾è‘—é™ä½ç„¦è™‘</li><li>å‡æ€§è¿›å±•ï¼šå³ä½¿ä¸æ˜¯çœŸå®è¿›åº¦ï¼Œè¿åŠ¨æœ¬èº«å°±èƒ½æä¾›å®‰æ…°ï¼ˆå¦‚åŒç”µæ¢¯çš„â€œå…³é—¨â€æŒ‰é’®ï¼‰</li><li>æœŸæœ›ç®¡ç†ï¼šç¼“æ…¢å¢é•¿è®¾å®šäº†â€œè¿™éœ€è¦æ—¶é—´â€çš„é¢„æœŸï¼Œé¿å…äº†çªç„¶å¡ä½çš„æŒ«æŠ˜æ„Ÿ</li></ul>`,26))])}const D=r(c,[["render",o]]);export{B as __pageData,D as default};
