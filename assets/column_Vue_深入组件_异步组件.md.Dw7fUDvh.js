import{_ as i,c as a,o as n,aP as l}from"./chunks/framework.Dxm0NwP8.js";const o=JSON.parse('{"title":"Vue å¼‚æ­¥ç»„ä»¶(defineAsyncComponent)è¯¦è§£ï¼šä¼˜åŒ–åº”ç”¨åŠ è½½æ€§èƒ½","description":"","frontmatter":{},"headers":[],"relativePath":"column/Vue/æ·±å…¥ç»„ä»¶/å¼‚æ­¥ç»„ä»¶.md","filePath":"column/Vue/æ·±å…¥ç»„ä»¶/å¼‚æ­¥ç»„ä»¶.md"}'),e={name:"column/Vue/æ·±å…¥ç»„ä»¶/å¼‚æ­¥ç»„ä»¶.md"};function p(t,s,h,k,r,d){return n(),a("div",null,s[0]||(s[0]=[l(`<h1 id="vue-å¼‚æ­¥ç»„ä»¶-defineasynccomponent-è¯¦è§£-ä¼˜åŒ–åº”ç”¨åŠ è½½æ€§èƒ½" tabindex="-1">Vue å¼‚æ­¥ç»„ä»¶(defineAsyncComponent)è¯¦è§£ï¼šä¼˜åŒ–åº”ç”¨åŠ è½½æ€§èƒ½ <a class="header-anchor" href="#vue-å¼‚æ­¥ç»„ä»¶-defineasynccomponent-è¯¦è§£-ä¼˜åŒ–åº”ç”¨åŠ è½½æ€§èƒ½" aria-label="Permalink to &quot;Vue å¼‚æ­¥ç»„ä»¶(defineAsyncComponent)è¯¦è§£ï¼šä¼˜åŒ–åº”ç”¨åŠ è½½æ€§èƒ½&quot;">â€‹</a></h1><h2 id="ä¸€ã€ä»€ä¹ˆæ˜¯å¼‚æ­¥ç»„ä»¶" tabindex="-1">ä¸€ã€ä»€ä¹ˆæ˜¯å¼‚æ­¥ç»„ä»¶ï¼Ÿ <a class="header-anchor" href="#ä¸€ã€ä»€ä¹ˆæ˜¯å¼‚æ­¥ç»„ä»¶" aria-label="Permalink to &quot;ä¸€ã€ä»€ä¹ˆæ˜¯å¼‚æ­¥ç»„ä»¶ï¼Ÿ&quot;">â€‹</a></h2><p>å¼‚æ­¥ç»„ä»¶æ˜¯ Vue æä¾›çš„ä¸€ç§ä»£ç åˆ†å‰²æŠ€æœ¯ï¼Œå…è®¸ä½ å°†ç»„ä»¶æŒ‰éœ€åŠ è½½ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰ç»„ä»¶ä»£ç ã€‚é€šè¿‡ <code>defineAsyncComponent</code> æ–¹æ³•å¯ä»¥å®šä¹‰ä¸€ä¸ªå¼‚æ­¥ç»„ä»¶ï¼ŒVue ä¼šåœ¨ç»„ä»¶éœ€è¦è¢«æ¸²æŸ“æ—¶æ‰åŠ è½½å¯¹åº”çš„ä»£ç ã€‚</p><h2 id="äºŒã€ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ç»„ä»¶" tabindex="-1">äºŒã€ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ç»„ä»¶ï¼Ÿ <a class="header-anchor" href="#äºŒã€ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ç»„ä»¶" aria-label="Permalink to &quot;äºŒã€ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ç»„ä»¶ï¼Ÿ&quot;">â€‹</a></h2><ol><li><strong>å‡å°‘åˆå§‹åŠ è½½ä½“ç§¯</strong>ï¼šæ‹†åˆ†ä»£ç åŒ…ï¼ŒåŠ å¿«é¦–å±åŠ è½½é€Ÿåº¦</li><li><strong>æŒ‰éœ€åŠ è½½</strong>ï¼šåªåœ¨ç”¨æˆ·è®¿é—®ç‰¹å®šè·¯ç”±æˆ–åŠŸèƒ½æ—¶åŠ è½½å¯¹åº”ç»„ä»¶</li><li><strong>ä¼˜åŒ–æ€§èƒ½</strong>ï¼šå‡å°‘ä¸å¿…è¦çš„èµ„æºåŠ è½½ï¼Œæå‡ç”¨æˆ·ä½“éªŒ</li></ol><h2 id="ä¸‰ã€åŸºæœ¬ä½¿ç”¨æ–¹æ³•" tabindex="-1">ä¸‰ã€åŸºæœ¬ä½¿ç”¨æ–¹æ³• <a class="header-anchor" href="#ä¸‰ã€åŸºæœ¬ä½¿ç”¨æ–¹æ³•" aria-label="Permalink to &quot;ä¸‰ã€åŸºæœ¬ä½¿ç”¨æ–¹æ³•&quot;">â€‹</a></h2><h3 id="_1-æœ€ç®€å•çš„å¼‚æ­¥ç»„ä»¶å®šä¹‰" tabindex="-1">1. æœ€ç®€å•çš„å¼‚æ­¥ç»„ä»¶å®šä¹‰ <a class="header-anchor" href="#_1-æœ€ç®€å•çš„å¼‚æ­¥ç»„ä»¶å®šä¹‰" aria-label="Permalink to &quot;1. æœ€ç®€å•çš„å¼‚æ­¥ç»„ä»¶å®šä¹‰&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineAsyncComponent } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AsyncComp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineAsyncComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./components/MyComponent.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_2-åœ¨ç»„ä»¶ä¸­ä½¿ç”¨" tabindex="-1">2. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ <a class="header-anchor" href="#_2-åœ¨ç»„ä»¶ä¸­ä½¿ç”¨" aria-label="Permalink to &quot;2. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  components: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;my-component&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defineAsyncComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./components/MyComponent.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="å››ã€é«˜çº§é…ç½®é€‰é¡¹" tabindex="-1">å››ã€é«˜çº§é…ç½®é€‰é¡¹ <a class="header-anchor" href="#å››ã€é«˜çº§é…ç½®é€‰é¡¹" aria-label="Permalink to &quot;å››ã€é«˜çº§é…ç½®é€‰é¡¹&quot;">â€‹</a></h2><p><code>defineAsyncComponent</code> æ¥å—ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œæä¾›æ›´å¤šæ§åˆ¶ï¼š</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AsyncComp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineAsyncComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åŠ è½½å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  loader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./Foo.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åŠ è½½ä¸­æ˜¾ç¤ºçš„ç»„ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  loadingComponent: LoadingComponent,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åŠ è½½å¤±è´¥æ˜¾ç¤ºçš„ç»„ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  errorComponent: ErrorComponent,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å»¶è¿Ÿæ˜¾ç¤ºåŠ è½½çŠ¶æ€çš„æ—¶é—´ï¼ˆé»˜è®¤200msï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  delay: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤æ— è¶…æ—¶ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  timeout: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ˜¯å¦å¯æŒ‚èµ·ï¼ˆSuspenseå…¼å®¹ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  suspensible: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // é”™è¯¯å¤„ç†å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  onError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">retry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">attempts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error.message.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">match</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">fetch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> attempts </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      retry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      fail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="äº”ã€å®é™…åº”ç”¨åœºæ™¯" tabindex="-1">äº”ã€å®é™…åº”ç”¨åœºæ™¯ <a class="header-anchor" href="#äº”ã€å®é™…åº”ç”¨åœºæ™¯" aria-label="Permalink to &quot;äº”ã€å®é™…åº”ç”¨åœºæ™¯&quot;">â€‹</a></h2><h3 id="_1-è·¯ç”±æ‡’åŠ è½½" tabindex="-1">1. è·¯ç”±æ‡’åŠ è½½ <a class="header-anchor" href="#_1-è·¯ç”±æ‡’åŠ è½½" aria-label="Permalink to &quot;1. è·¯ç”±æ‡’åŠ è½½&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> routes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/dashboard&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    component: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defineAsyncComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./views/Dashboard.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_2-å¤§å‹ç»„ä»¶æŒ‰éœ€åŠ è½½" tabindex="-1">2. å¤§å‹ç»„ä»¶æŒ‰éœ€åŠ è½½ <a class="header-anchor" href="#_2-å¤§å‹ç»„ä»¶æŒ‰éœ€åŠ è½½" aria-label="Permalink to &quot;2. å¤§å‹ç»„ä»¶æŒ‰éœ€åŠ è½½&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> HeavyComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineAsyncComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  loader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./HeavyComponent.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  loadingComponent: Spinner,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  delay: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-æ¡ä»¶åŠ è½½ç»„ä»¶" tabindex="-1">3. æ¡ä»¶åŠ è½½ç»„ä»¶ <a class="header-anchor" href="#_3-æ¡ä»¶åŠ è½½ç»„ä»¶" aria-label="Permalink to &quot;3. æ¡ä»¶åŠ è½½ç»„ä»¶&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  components: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;conditional-component&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defineAsyncComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      loader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (user.isAdmin) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./AdminPanel.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./UserPanel.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="å…­ã€æœ€ä½³å®è·µ" tabindex="-1">å…­ã€æœ€ä½³å®è·µ <a class="header-anchor" href="#å…­ã€æœ€ä½³å®è·µ" aria-label="Permalink to &quot;å…­ã€æœ€ä½³å®è·µ&quot;">â€‹</a></h2><ol><li><strong>åˆç†æ‹†åˆ†ç»„ä»¶</strong>ï¼šå°†å¤§å‹ç»„ä»¶æˆ–å¾ˆå°‘ä½¿ç”¨çš„ç»„ä»¶è®¾ä¸ºå¼‚æ­¥</li><li><strong>é¢„åŠ è½½ç­–ç•¥</strong>ï¼šåœ¨ç©ºé—²æ—¶é—´é¢„åŠ è½½å¯èƒ½éœ€è¦çš„å¼‚æ­¥ç»„ä»¶</li><li><strong>ç»Ÿä¸€åŠ è½½çŠ¶æ€</strong>ï¼šä¸ºæ‰€æœ‰å¼‚æ­¥ç»„ä»¶ä½¿ç”¨ç»Ÿä¸€çš„åŠ è½½æŒ‡ç¤ºå™¨</li><li><strong>é”™è¯¯å¤„ç†</strong>ï¼šæä¾›å‹å¥½çš„é”™è¯¯æç¤ºå’Œé‡è¯•æœºåˆ¶</li><li><strong>å‘½åå¯¼å‡º</strong>ï¼šå¯¹å¼‚æ­¥ç»„ä»¶ä½¿ç”¨æ˜ç¡®çš„å‘½åï¼Œä¾¿äºè°ƒè¯•</li></ol><h2 id="ä¸ƒã€ä¸-suspense-é…åˆä½¿ç”¨" tabindex="-1">ä¸ƒã€ä¸ Suspense é…åˆä½¿ç”¨ <a class="header-anchor" href="#ä¸ƒã€ä¸-suspense-é…åˆä½¿ç”¨" aria-label="Permalink to &quot;ä¸ƒã€ä¸ Suspense é…åˆä½¿ç”¨&quot;">â€‹</a></h2><p>Vue 3 çš„ <code>&lt;Suspense&gt;</code> ç»„ä»¶å¯ä»¥æ›´å¥½åœ°å¤„ç†å¼‚æ­¥ç»„ä»¶çš„åŠ è½½çŠ¶æ€ï¼š</p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">Suspense</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> #default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">AsyncComp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> #fallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;åŠ è½½ä¸­...&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">Suspense</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="å…«ã€æ€§èƒ½ä¼˜åŒ–æŠ€å·§" tabindex="-1">å…«ã€æ€§èƒ½ä¼˜åŒ–æŠ€å·§ <a class="header-anchor" href="#å…«ã€æ€§èƒ½ä¼˜åŒ–æŠ€å·§" aria-label="Permalink to &quot;å…«ã€æ€§èƒ½ä¼˜åŒ–æŠ€å·§&quot;">â€‹</a></h2><ol><li><strong>Webpack é­”æ³•æ³¨é‡Š</strong>ï¼šä¸ºå¼‚æ­¥ç»„ä»¶å‘½å</li></ol><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AsyncComp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineAsyncComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* webpackChunkName: &quot;my-component&quot; */</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./MyComponent.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li><strong>é¢„åŠ è½½å…³é”®ç»„ä»¶</strong>ï¼š</li></ol><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åœ¨é€‚å½“çš„æ—¶å€™é¢„åŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> preloadComponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./ImportantComponent.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li><strong>åˆ†ç»„åŠ è½½</strong>ï¼šå°†ç›¸å…³ç»„ä»¶æ‰“åŒ…åˆ°åŒä¸€ä¸ª chunk</li></ol><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> CompA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineAsyncComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./group1/CompA.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> CompB</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineAsyncComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./group1/CompB.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="ä¹ã€å¸¸è§é—®é¢˜è§£ç­”" tabindex="-1">ä¹ã€å¸¸è§é—®é¢˜è§£ç­” <a class="header-anchor" href="#ä¹ã€å¸¸è§é—®é¢˜è§£ç­”" aria-label="Permalink to &quot;ä¹ã€å¸¸è§é—®é¢˜è§£ç­”&quot;">â€‹</a></h2><h3 id="q1-å¼‚æ­¥ç»„ä»¶å’Œæ™®é€šç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1">Q1: å¼‚æ­¥ç»„ä»¶å’Œæ™®é€šç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ <a class="header-anchor" href="#q1-å¼‚æ­¥ç»„ä»¶å’Œæ™®é€šç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«" aria-label="Permalink to &quot;Q1: å¼‚æ­¥ç»„ä»¶å’Œæ™®é€šç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&quot;">â€‹</a></h3><ul><li>å¼‚æ­¥ç»„ä»¶ä¸ä¼šåœ¨åˆå§‹åŠ è½½æ—¶ä¸‹è½½ä»£ç </li><li>å¼‚æ­¥ç»„ä»¶æœ‰åŠ è½½ä¸­å’ŒåŠ è½½å¤±è´¥çŠ¶æ€</li><li>å¼‚æ­¥ç»„ä»¶å¯ä»¥å»¶è¿Ÿæ¸²æŸ“</li></ul><h3 id="q2-ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨å¼‚æ­¥ç»„ä»¶" tabindex="-1">Q2: ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨å¼‚æ­¥ç»„ä»¶ï¼Ÿ <a class="header-anchor" href="#q2-ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨å¼‚æ­¥ç»„ä»¶" aria-label="Permalink to &quot;Q2: ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨å¼‚æ­¥ç»„ä»¶ï¼Ÿ&quot;">â€‹</a></h3><ul><li>å¤§å‹ç»„ä»¶</li><li>éé¦–å±ç»„ä»¶</li><li>æ¡ä»¶æ¸²æŸ“çš„ç»„ä»¶</li><li>è·¯ç”±ç»„ä»¶</li></ul><h3 id="q3-å¼‚æ­¥ç»„ä»¶ä¼šå½±å“-seo-å—" tabindex="-1">Q3: å¼‚æ­¥ç»„ä»¶ä¼šå½±å“ SEO å—ï¼Ÿ <a class="header-anchor" href="#q3-å¼‚æ­¥ç»„ä»¶ä¼šå½±å“-seo-å—" aria-label="Permalink to &quot;Q3: å¼‚æ­¥ç»„ä»¶ä¼šå½±å“ SEO å—ï¼Ÿ&quot;">â€‹</a></h3><ul><li>å¦‚æœæœåŠ¡å™¨ç«¯æ¸²æŸ“é…ç½®æ­£ç¡®ï¼Œä¸ä¼šå½±å“ SEO</li><li>å¯¹äºçº¯å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œæœç´¢å¼•æ“å¯èƒ½æ— æ³•ç­‰å¾…å¼‚æ­¥ç»„ä»¶åŠ è½½</li></ul><h2 id="åã€æ€»ç»“" tabindex="-1">åã€æ€»ç»“ <a class="header-anchor" href="#åã€æ€»ç»“" aria-label="Permalink to &quot;åã€æ€»ç»“&quot;">â€‹</a></h2><p>Vue çš„å¼‚æ­¥ç»„ä»¶åŠŸèƒ½(<code>defineAsyncComponent</code>)æä¾›äº†å¼ºå¤§çš„ä»£ç åˆ†å‰²èƒ½åŠ›ï¼š</p><ol><li>âš¡ <strong>æå‡æ€§èƒ½</strong>ï¼šå‡å°‘åˆå§‹åŒ…å¤§å°ï¼ŒåŠ å¿«é¦–å±åŠ è½½</li><li>ğŸ§© <strong>æŒ‰éœ€åŠ è½½</strong>ï¼šåªåœ¨éœ€è¦æ—¶åŠ è½½ç»„ä»¶ä»£ç </li><li>ğŸ› ï¸ <strong>çµæ´»é…ç½®</strong>ï¼šæ”¯æŒåŠ è½½çŠ¶æ€ã€é”™è¯¯å¤„ç†ç­‰é«˜çº§åŠŸèƒ½</li><li>ğŸ”„ <strong>ä¸ Suspense é›†æˆ</strong>ï¼šæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ</li></ol>`,42)]))}const c=i(e,[["render",p]]);export{o as __pageData,c as default};
