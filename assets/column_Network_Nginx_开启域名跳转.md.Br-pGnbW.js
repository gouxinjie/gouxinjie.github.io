import{_ as n,C as e,c as l,o as p,j as a,G as t,aQ as r,a as h}from"./chunks/framework.DEi4YP2n.js";const d="/assets/redirect-1.BY1Za89e.gif",w=JSON.parse('{"title":"Nginx å®ç°åŸŸåè·³è½¬çš„å‡ ç§æ–¹å¼","description":"","frontmatter":{},"headers":[],"relativePath":"column/Network/Nginx/å¼€å¯åŸŸåè·³è½¬.md","filePath":"column/Network/Nginx/å¼€å¯åŸŸåè·³è½¬.md","lastUpdated":1759136986000}'),c={name:"column/Network/Nginx/å¼€å¯åŸŸåè·³è½¬.md"};function o(k,s,u,g,b,m){const i=e("ArticleMetadata");return p(),l("div",null,[s[0]||(s[0]=a("h1",{id:"nginx-å®ç°åŸŸåè·³è½¬çš„å‡ ç§æ–¹å¼",tabindex:"-1"},[h("Nginx å®ç°åŸŸåè·³è½¬çš„å‡ ç§æ–¹å¼ "),a("a",{class:"header-anchor",href:"#nginx-å®ç°åŸŸåè·³è½¬çš„å‡ ç§æ–¹å¼","aria-label":'Permalink to "Nginx å®ç°åŸŸåè·³è½¬çš„å‡ ç§æ–¹å¼"'},"â€‹")],-1)),t(i),s[1]||(s[1]=r(`<nav class="table-of-contents"><ul><li><a href="#_1-301-æ°¸ä¹…é‡å®šå‘-æ¨è-seo-åœºæ™¯">1. 301 æ°¸ä¹…é‡å®šå‘ï¼ˆæ¨è SEO åœºæ™¯ï¼‰</a></li><li><a href="#_2-302-ä¸´æ—¶é‡å®šå‘-æ¨èæ´»åŠ¨é¡µ-çŸ­é“¾åœºæ™¯">2. 302 ä¸´æ—¶é‡å®šå‘ï¼ˆæ¨èæ´»åŠ¨é¡µ/çŸ­é“¾åœºæ™¯ï¼‰</a></li><li><a href="#_3-å¼ºåˆ¶-https-è·³è½¬">3. å¼ºåˆ¶ HTTPS è·³è½¬</a></li><li><a href="#_4-å»æ‰æˆ–å¼ºåˆ¶-www">4. å»æ‰æˆ–å¼ºåˆ¶ www</a><ul><li><a href="#å»æ‰-www-â†’-è·³åˆ°è£¸åŸŸå">å»æ‰ www â†’ è·³åˆ°è£¸åŸŸå</a></li><li><a href="#å¼ºåˆ¶åŠ -www">å¼ºåˆ¶åŠ  www</a></li></ul></li><li><a href="#_5-æ­£åˆ™åŒ¹é…æ›´å¤æ‚çš„è·³è½¬">5. æ­£åˆ™åŒ¹é…æ›´å¤æ‚çš„è·³è½¬</a></li><li><a href="#_6-æ€»ç»“">6. æ€»ç»“</a></li><li><a href="#_7-å¸¸è§é—®é¢˜">7. å¸¸è§é—®é¢˜</a><ul><li><a href="#_1-301-å’Œ-302-çš„åŒºåˆ«">1. 301 å’Œ 302 çš„åŒºåˆ«</a></li><li><a href="#_2-return-302-https-event-new-com-request-uri-æ˜¯å¦æ˜¯å›ºå®šå†™æ³•">2. return 302 https://event.new.com$request_uri; æ˜¯å¦æ˜¯å›ºå®šå†™æ³•</a></li></ul></li></ul></nav><p>åœ¨æ—¥å¸¸é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°è¿™æ ·çš„éœ€æ±‚æˆ–æƒ…å†µï¼š</p><ul><li>è®¿é—® <code>http://abc.com</code> æ—¶ï¼Œå¼ºåˆ¶è·³åˆ° <code>https://www.abc.com</code>ï¼Œä¸Šé¢åŸŸåå‘ç”Ÿå˜åŒ–ã€‚</li><li>æ—§åŸŸå <code>old.com</code> è¿ç§»åˆ° <code>new.com</code>ï¼Œç”¨æˆ·è®¿é—®æ—§åŸŸåæ—¶éœ€è¦è‡ªåŠ¨è·³è½¬ã€‚</li><li>ä¸ºäº† SEO ç»Ÿä¸€å…¥å£ï¼Œ<code>abc.com</code> å’Œ <code>www.abc.com</code> æœ€ç»ˆéƒ½è¦è·³åˆ°åŒä¸€ä¸ªä¸»åŸŸåã€‚</li></ul><p>å¯¹äºåŸŸåè·³è½¬ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <strong>Web æœåŠ¡å™¨å±‚å®ç°</strong> ä¹Ÿå¯ä»¥åœ¨ <strong>åº”ç”¨å±‚ä¸­</strong>å®ç°ã€‚ä¸‹é¢æˆ‘ä¸»è¦è®²è§£åœ¨<code>Web æœåŠ¡å±‚ Nginx</code>ä¸­çš„å®ç°æ–¹å¼ã€‚</p><p>è¿™äº›åœºæ™¯åœ¨ <strong>Nginx</strong> ä¸­éƒ½å¯ä»¥å¾ˆä¼˜é›…åœ°å®ç°ï¼Œå¦‚ä¸‹ï¼š</p><h2 id="_1-301-æ°¸ä¹…é‡å®šå‘-æ¨è-seo-åœºæ™¯" tabindex="-1">1. 301 æ°¸ä¹…é‡å®šå‘ï¼ˆæ¨è SEO åœºæ™¯ï¼‰ <a class="header-anchor" href="#_1-301-æ°¸ä¹…é‡å®šå‘-æ¨è-seo-åœºæ™¯" aria-label="Permalink to &quot;1. 301 æ°¸ä¹…é‡å®šå‘ï¼ˆæ¨è SEO åœºæ™¯ï¼‰&quot;">â€‹</a></h2><p>å¦‚æœç½‘ç«™æ›´æ¢äº†åŸŸåï¼Œæˆ–è€…éœ€è¦å¼ºåˆ¶ç»Ÿä¸€å…¥å£ï¼Œå¯ä»¥ç”¨ <code>301</code> æ°¸ä¹…é‡å®šå‘ã€‚</p><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">old.com;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # æ°¸ä¹…é‡å®šå‘åˆ°æ–°åŸŸåï¼Œå¹¶ä¿ç•™è·¯å¾„å’Œå‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 301</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://new.com$request_uri;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ğŸ“Œ è¯´æ˜ï¼š</p><ul><li><code>301</code>ï¼šå‘Šè¯‰æµè§ˆå™¨å’Œæœç´¢å¼•æ“ï¼Œè¿™æ˜¯æ°¸ä¹…è·³è½¬ï¼Œæœç´¢å¼•æ“ä¼šæ›´æ–°ç´¢å¼•ã€‚</li><li><code>$request_uri</code>ï¼šä¿ç•™åŸè·¯å¾„å’ŒæŸ¥è¯¢å‚æ•°ï¼Œæ¯”å¦‚ <code>/about?from=123</code>ã€‚</li></ul><p><strong>ç¤ºä¾‹æ•ˆæœ</strong>ï¼šè®¿é—® <code>http://old.com/about</code> â†’ è‡ªåŠ¨è·³åˆ° <code>https://new.com/about</code></p><p><strong>å¦‚ä¸‹å›¾æ¼”ç¤ºæ‰€ç¤ºï¼š</strong></p><p>æˆ‘å›¾ä¸­çš„æ¼”ç¤ºæ˜¯æœ¬åœ°é¡¹ç›®è·³ç™¾åº¦é“¾æ¥çš„ demoï¼Œå®é™…é¡¹ç›®ä¸­å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé…ç½®ã€‚</p><p><img src="`+d+`" alt="301 æ°¸ä¹…é‡å®šå‘ç¤ºä¾‹" loading="lazy"></p><p>æˆ‘æœ¬åœ°é¡¹ç›®çš„é…ç½®ï¼š</p><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">localhost;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # æ°¸ä¹…é‡å®šå‘åˆ°æ–°åŸŸå</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  301</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://www.baidu.com;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_2-302-ä¸´æ—¶é‡å®šå‘-æ¨èæ´»åŠ¨é¡µ-çŸ­é“¾åœºæ™¯" tabindex="-1">2. 302 ä¸´æ—¶é‡å®šå‘ï¼ˆæ¨èæ´»åŠ¨é¡µ/çŸ­é“¾åœºæ™¯ï¼‰ <a class="header-anchor" href="#_2-302-ä¸´æ—¶é‡å®šå‘-æ¨èæ´»åŠ¨é¡µ-çŸ­é“¾åœºæ™¯" aria-label="Permalink to &quot;2. 302 ä¸´æ—¶é‡å®šå‘ï¼ˆæ¨èæ´»åŠ¨é¡µ/çŸ­é“¾åœºæ™¯ï¼‰&quot;">â€‹</a></h2><p>å¦‚æœåªæ˜¯ä¸´æ—¶è·³è½¬ï¼ˆä¾‹å¦‚æ´»åŠ¨æ¨å¹¿ã€ä¸´æ—¶åŸŸåï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ <code>302</code>ã€‚</p><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">promo.old.com;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ä¸´æ—¶è·³è½¬ï¼Œä¸ä¼šå½±å“æœç´¢å¼•æ“ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 302</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://event.new.com$request_uri;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ğŸ“Œ è¯´æ˜ï¼š</p><ul><li><code>302</code>ï¼šä¸´æ—¶è·³è½¬ï¼Œæœç´¢å¼•æ“ä¸ä¼šæ›´æ–°ç´¢å¼•ã€‚</li><li>å¸¸ç”¨äºï¼šæ´»åŠ¨é¡µã€è¥é”€çŸ­é“¾ã€‚</li></ul><h2 id="_3-å¼ºåˆ¶-https-è·³è½¬" tabindex="-1">3. å¼ºåˆ¶ HTTPS è·³è½¬ <a class="header-anchor" href="#_3-å¼ºåˆ¶-https-è·³è½¬" aria-label="Permalink to &quot;3. å¼ºåˆ¶ HTTPS è·³è½¬&quot;">â€‹</a></h2><p>ä¸ºäº†ä¿è¯å®‰å…¨ï¼Œé€šå¸¸ä¼šæŠŠæ‰€æœ‰ HTTP è¯·æ±‚è·³è½¬åˆ° HTTPSã€‚</p><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">www.abc.com;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 301</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://www.abc.com$request_uri;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ğŸ“Œ æ•ˆæœï¼šè®¿é—® <code>http://www.abc.com/login</code> â†’ è‡ªåŠ¨è·³åˆ° <code>https://www.abc.com/login</code></p><h2 id="_4-å»æ‰æˆ–å¼ºåˆ¶-www" tabindex="-1">4. å»æ‰æˆ–å¼ºåˆ¶ <code>www</code> <a class="header-anchor" href="#_4-å»æ‰æˆ–å¼ºåˆ¶-www" aria-label="Permalink to &quot;4. å»æ‰æˆ–å¼ºåˆ¶ \`www\`&quot;">â€‹</a></h2><p>å¾ˆå¤šå…¬å¸ä¼šè¦æ±‚æ‰€æœ‰è¯·æ±‚ç»Ÿä¸€æˆ <code>www.abc.com</code> æˆ– <code>abc.com</code>ï¼Œè¿™æ ·å¯ä»¥é¿å… SEO é‡å¤æ”¶å½•ã€‚</p><h3 id="å»æ‰-www-â†’-è·³åˆ°è£¸åŸŸå" tabindex="-1">å»æ‰ <code>www</code> â†’ è·³åˆ°è£¸åŸŸå <a class="header-anchor" href="#å»æ‰-www-â†’-è·³åˆ°è£¸åŸŸå" aria-label="Permalink to &quot;å»æ‰ \`www\` â†’ è·³åˆ°è£¸åŸŸå&quot;">â€‹</a></h3><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">www.abc.com;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 301</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://abc.com$request_uri;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="å¼ºåˆ¶åŠ -www" tabindex="-1">å¼ºåˆ¶åŠ  <code>www</code> <a class="header-anchor" href="#å¼ºåˆ¶åŠ -www" aria-label="Permalink to &quot;å¼ºåˆ¶åŠ  \`www\`&quot;">â€‹</a></h3><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">abc.com;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 301</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://www.abc.com$request_uri;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_5-æ­£åˆ™åŒ¹é…æ›´å¤æ‚çš„è·³è½¬" tabindex="-1">5. æ­£åˆ™åŒ¹é…æ›´å¤æ‚çš„è·³è½¬ <a class="header-anchor" href="#_5-æ­£åˆ™åŒ¹é…æ›´å¤æ‚çš„è·³è½¬" aria-label="Permalink to &quot;5. æ­£åˆ™åŒ¹é…æ›´å¤æ‚çš„è·³è½¬&quot;">â€‹</a></h2><p>æœ‰æ—¶å€™æ—§åŸŸåå’Œæ–°åŸŸåçš„è·¯å¾„ä¸ä¸€æ ·ï¼Œå¯ä»¥ç”¨æ­£åˆ™åŒ¹é…ã€‚</p><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">old.com;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> /oldpath/(.*) </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 301</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://new.com/newpath/$1;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>ğŸ“Œ æ•ˆæœï¼šè®¿é—® <code>http://old.com/oldpath/123</code> â†’ è·³åˆ° <code>https://new.com/newpath/123</code></p><h2 id="_6-æ€»ç»“" tabindex="-1">6. æ€»ç»“ <a class="header-anchor" href="#_6-æ€»ç»“" aria-label="Permalink to &quot;6. æ€»ç»“&quot;">â€‹</a></h2><p>åœ¨æ—¥å¸¸é¡¹ç›®ä¸­ï¼Œæ¨èä¼˜å…ˆä½¿ç”¨ <strong>Nginx é…ç½®è·³è½¬</strong>ï¼Œå› ä¸ºï¼š</p><ul><li>é…ç½®ç®€å•ï¼Œæ€§èƒ½é«˜ï¼Œä¸ä¼šå¢åŠ åº”ç”¨å±‚å‹åŠ›ã€‚</li><li><code>301/302</code> è¯­ä¹‰æ˜ç¡®ï¼Œå¯¹ SEO å’Œç”¨æˆ·ä½“éªŒéƒ½æ›´å‹å¥½ã€‚</li><li>å¯ä»¥çµæ´»æ§åˆ¶æ˜¯å¦ä¿ç•™è·¯å¾„å’Œå‚æ•°ã€‚</li></ul><p><strong>å¸¸è§å®è·µ</strong>ï¼š</p><ul><li><strong>SEO &amp; åŸŸåç»Ÿä¸€</strong> â†’ ç”¨ <code>301</code></li><li><strong>æ´»åŠ¨é¡µ &amp; ä¸´æ—¶è·³è½¬</strong> â†’ ç”¨ <code>302</code></li><li><strong>å®‰å…¨è¦æ±‚</strong> â†’ å¼ºåˆ¶ HTTPS</li></ul><h2 id="_7-å¸¸è§é—®é¢˜" tabindex="-1">7. å¸¸è§é—®é¢˜ <a class="header-anchor" href="#_7-å¸¸è§é—®é¢˜" aria-label="Permalink to &quot;7. å¸¸è§é—®é¢˜&quot;">â€‹</a></h2><h3 id="_1-301-å’Œ-302-çš„åŒºåˆ«" tabindex="-1">1. 301 å’Œ 302 çš„åŒºåˆ« <a class="header-anchor" href="#_1-301-å’Œ-302-çš„åŒºåˆ«" aria-label="Permalink to &quot;1. 301 å’Œ 302 çš„åŒºåˆ«&quot;">â€‹</a></h3><p>ä» <strong>ç”¨æˆ·ä½“éªŒ</strong> æ¥çœ‹ï¼š</p><ul><li>æµè§ˆå™¨è®¿é—®æ—¶ï¼Œéƒ½ä¼šç«‹å³è·³è½¬åˆ°æ–°åœ°å€ï¼Œçœ‹èµ·æ¥æ²¡ä»€ä¹ˆå·®åˆ«ï¼ˆæ‰€ä»¥ä½ æµ‹è¯•æ—¶æ„Ÿè§‰ä¸€æ ·ï¼‰ã€‚</li></ul><p>ä» <strong>åº•å±‚é€»è¾‘</strong> æ¥çœ‹ï¼š</p><ul><li><p><strong>301 æ°¸ä¹…é‡å®šå‘</strong></p><ul><li>å‘Šè¯‰æµè§ˆå™¨/æœç´¢å¼•æ“ï¼šè¿™ä¸ªèµ„æºä»¥åéƒ½åœ¨æ–°åœ°å€äº†ã€‚</li><li>æµè§ˆå™¨å¯èƒ½ä¼š <strong>ç¼“å­˜è·³è½¬è§„åˆ™</strong>ï¼Œä¸‹æ¬¡å†è®¿é—®æ—§åŸŸåæ—¶ï¼Œç›´æ¥è·³è¿‡è¯·æ±‚ã€‚</li><li>æœç´¢å¼•æ“ä¼šæ›´æ–°ç´¢å¼•ï¼ŒæŠŠæƒé‡è½¬ç§»åˆ°æ–°åŸŸåã€‚</li></ul></li><li><p><strong>302 ä¸´æ—¶é‡å®šå‘</strong></p><ul><li>å‘Šè¯‰æµè§ˆå™¨/æœç´¢å¼•æ“ï¼šè¿™æ˜¯ä¸´æ—¶è·³è½¬ï¼ŒåŸåœ°å€ä»¥åè¿˜å¯èƒ½æ¢å¤ã€‚</li><li>æµè§ˆå™¨ä¸€èˆ¬ä¸ä¼šé•¿æœŸç¼“å­˜è§„åˆ™ã€‚</li><li>æœç´¢å¼•æ“ä¸ä¼šæŠŠæƒé‡è½¬ç§»åˆ°æ–°åŸŸåã€‚</li></ul></li></ul><p>ğŸ“Œ æ€»ç»“ï¼š</p><ul><li><strong>SEO åœºæ™¯ï¼ˆæ¢åŸŸå/ç»Ÿä¸€å…¥å£ï¼‰</strong> â†’ ç”¨ <strong>301</strong>ã€‚</li><li><strong>ä¸´æ—¶æ´»åŠ¨ / è¥é”€é¡µ</strong> â†’ ç”¨ <strong>302</strong>ã€‚</li><li><strong>ç”¨æˆ·ä½“éªŒ</strong>åŸºæœ¬ä¸€æ ·ï¼Œä¸»è¦åŒºåˆ«åœ¨ <strong>ç¼“å­˜ &amp; æœç´¢å¼•æ“</strong>ã€‚</li></ul><h3 id="_2-return-302-https-event-new-com-request-uri-æ˜¯å¦æ˜¯å›ºå®šå†™æ³•" tabindex="-1">2. <code>return 302 https://event.new.com$request_uri;</code> æ˜¯å¦æ˜¯å›ºå®šå†™æ³• <a class="header-anchor" href="#_2-return-302-https-event-new-com-request-uri-æ˜¯å¦æ˜¯å›ºå®šå†™æ³•" aria-label="Permalink to &quot;2. \`return 302 https://event.new.com$request_uri;\` æ˜¯å¦æ˜¯å›ºå®šå†™æ³•&quot;">â€‹</a></h3><p>è¿™ä¸æ˜¯å”¯ä¸€å†™æ³•ï¼Œä½†è¿™æ˜¯æœ€å¸¸è§ã€æœ€ç®€æ´çš„å†™æ³•ã€‚</p><ul><li><code>return 302</code> â†’ è¡¨ç¤ºè¿”å›ä¸€ä¸ª <strong>302 ä¸´æ—¶é‡å®šå‘</strong> çŠ¶æ€ç ã€‚</li><li><code>https://event.new.com</code> â†’ ç›®æ ‡åŸŸåã€‚</li><li><code>$request_uri</code> â†’ å˜é‡ï¼Œä»£è¡¨åŸå§‹è¯·æ±‚çš„è·¯å¾„å’Œå‚æ•°ã€‚</li></ul><h4 id="ä¸¾ä¸ªä¾‹å­" tabindex="-1">ä¸¾ä¸ªä¾‹å­ <a class="header-anchor" href="#ä¸¾ä¸ªä¾‹å­" aria-label="Permalink to &quot;ä¸¾ä¸ªä¾‹å­&quot;">â€‹</a></h4><p>ç”¨æˆ·è¯·æ±‚ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>http://promo.old.com/sale?from=wechat</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Nginx é…ç½®ï¼š</p><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 302</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://event.new.com$request_uri;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>è·³è½¬ç»“æœï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://event.new.com/sale?from=wechat</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="åªè·³åˆ°é¦–é¡µ-ä¸ä¿ç•™è·¯å¾„å‚æ•°" tabindex="-1">åªè·³åˆ°é¦–é¡µï¼ˆä¸ä¿ç•™è·¯å¾„å‚æ•°ï¼‰ <a class="header-anchor" href="#åªè·³åˆ°é¦–é¡µ-ä¸ä¿ç•™è·¯å¾„å‚æ•°" aria-label="Permalink to &quot;åªè·³åˆ°é¦–é¡µï¼ˆä¸ä¿ç•™è·¯å¾„å‚æ•°ï¼‰&quot;">â€‹</a></h4><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 302</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://event.new.com;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ğŸ‘‰ æ— è®ºç”¨æˆ·è®¿é—®ä»€ä¹ˆè·¯å¾„ï¼Œéƒ½ç›´æ¥è·³åˆ° <code>https://event.new.com</code> é¦–é¡µã€‚</p><h4 id="è·¯å¾„æ”¹å†™-æ¯”å¦‚-old-â†’-new" tabindex="-1">è·¯å¾„æ”¹å†™ï¼ˆæ¯”å¦‚ old â†’ newï¼‰ <a class="header-anchor" href="#è·¯å¾„æ”¹å†™-æ¯”å¦‚-old-â†’-new" aria-label="Permalink to &quot;è·¯å¾„æ”¹å†™ï¼ˆæ¯”å¦‚ old â†’ newï¼‰&quot;">â€‹</a></h4><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> /oldpath/(.*) </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 302</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://event.new.com/newpath/$1;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ğŸ‘‰ <code>http://old.com/oldpath/123</code> â†’ <code>https://event.new.com/newpath/123</code></p><p>âœ… æ‰€ä»¥ï¼š</p><ul><li><code>return 302 https://event.new.com$request_uri;</code> åªæ˜¯æœ€å¸¸è§çš„å†™æ³•ï¼ˆä¿ç•™è·¯å¾„å’Œå‚æ•°ï¼‰ã€‚</li><li>ä½ å®Œå…¨å¯ä»¥æ ¹æ®é¡¹ç›®éœ€è¦ï¼Œæ”¹æˆåªè·³é¦–é¡µã€æ”¹å†™è·¯å¾„ã€æˆ–è€…æ¢æˆ 301ã€‚</li></ul>`,66))])}const y=n(c,[["render",o]]);export{w as __pageData,y as default};
