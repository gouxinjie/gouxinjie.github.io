import{_ as e,c as a,o as i,aP as n}from"./chunks/framework.Dxm0NwP8.js";const t="/assets/find.DuSjfGbF.png",u=JSON.parse('{"title":"前端模块的引入路径查找规则","description":"","frontmatter":{},"headers":[],"relativePath":"column/Project/其他/前端模块的引入路径查找规则.md","filePath":"column/Project/其他/前端模块的引入路径查找规则.md"}'),p={name:"column/Project/其他/前端模块的引入路径查找规则.md"};function l(o,s,d,r,h,c){return i(),a("div",null,s[0]||(s[0]=[n('<h1 id="前端模块的引入路径查找规则" tabindex="-1">前端模块的引入路径查找规则 <a class="header-anchor" href="#前端模块的引入路径查找规则" aria-label="Permalink to &quot;前端模块的引入路径查找规则&quot;">​</a></h1><hr><p>在前端项目中，使用 npm,yarn 或 pnpm 管理依赖时，模块的引入路径查找规则是由 Node.js 的模块解析机制决定的。下</p><p>当你在代码中使用 import 或 require 语句引入模块时，Node.js 会按照以下顺序查找模块：</p><h2 id="一、基本查找规则" tabindex="-1">一、基本查找规则 <a class="header-anchor" href="#一、基本查找规则" aria-label="Permalink to &quot;一、基本查找规则&quot;">​</a></h2><p>1，核心模块(内置)： 如果模块名是Node.js核心模块（如fs、path、http等），则直接使用核心模块。</p><p>2，相对路径： 如果模块名以./或../开头，则将其视为相对路径，解析为相对于当前文件的路径。</p><p>3，绝对路径： 如果模块名以/开头，则将其视为绝对路径，解析为文件系统中的绝对路径。</p><p>4，第三方模块： 如果模块名不是以上三种情况，则将其视为一个包名，Node.js会在node_modules目录中查找该包(下面会介绍)</p><h2 id="二、第三方模块的查找步骤" tabindex="-1">二、第三方模块的查找步骤 <a class="header-anchor" href="#二、第三方模块的查找步骤" aria-label="Permalink to &quot;二、第三方模块的查找步骤&quot;">​</a></h2><p>如果写入的路径不是以相对路径或者绝对路径开始的，直接写的<code>element-plus</code>:</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ElementPlus </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;element-plus&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>此时，我们引入的是一个第三方模块时，Node.js会按照以下步骤查找模块：</p><p><strong>1，逐级向上查找：</strong></p><p>Node.js会从当前文件所在目录开始，逐级向上查找node_modules目录，直到找到匹配的包或到达文件系统的根目录。</p><p><strong>2，读取package.json：</strong></p><p>如果在任何一级目录中找到了node_modules目录，并且该目录包含所需的包，则Node.js会读取该包的package.json文件，以确定包的入口文件（通常是main字段指定的文件）。</p><p>如下图<code>element-plus</code>的入口文件：</p><p><img src="'+t+'" alt=""></p><p>main配置选项：</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;lib/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>可以看到, <code>element-plus</code>的入口文件是lib/index.js。当我们在页面中引入<code>import ElementPlus from &#39;element-plus</code> 时，它会首先进入lib/index.js 这里面；</p><blockquote><p>那如果没有package.json文件或main字段为空呢？会默认使用index.js文件作为入口文件.</p></blockquote><p><strong>3, 默认入口文件：</strong></p><p>如果没有package.json文件或main字段，Node.js会默认使用index.js文件作为入口文件。</p><hr><p>上面这几部查找过程是递归的，会向上一级目录逐层查找，直到根目录，如果还没找到，则抛出错误：</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark has-highlighted vp-code" tabindex="0"><code><span class="line highlighted warning"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Cannot find </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;element-plus&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>官方介绍：<a href="https://nodejs.org/api/modules.html#loading-from-node_modules-folders" target="_blank" rel="noreferrer">https://nodejs.org/api/modules.html#loading-from-node_modules-folders</a></p>',29)]))}const k=e(p,[["render",l]]);export{u as __pageData,k as default};
