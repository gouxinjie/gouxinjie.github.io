import{_ as e,C as t,c as n,o as l,j as s,G as p,aQ as r,a as h}from"./chunks/framework.DEi4YP2n.js";const F=JSON.parse('{"title":"一条 git push 同时推送 GitHub & Gitee：双远程仓库实战","description":"","frontmatter":{},"headers":[],"relativePath":"column/Git/git相关/git同时推送到多个远程仓库.md","filePath":"column/Git/git相关/git同时推送到多个远程仓库.md","lastUpdated":1764147202000}'),o={name:"column/Git/git相关/git同时推送到多个远程仓库.md"};function d(c,i,u,g,b,k){const a=t("ArticleMetadata");return l(),n("div",null,[i[0]||(i[0]=s("h1",{id:"一条-git-push-同时推送-github-gitee-双远程仓库实战",tabindex:"-1"},[h("一条 git push 同时推送 GitHub & Gitee：双远程仓库实战 "),s("a",{class:"header-anchor",href:"#一条-git-push-同时推送-github-gitee-双远程仓库实战","aria-label":'Permalink to "一条 git push 同时推送 GitHub & Gitee：双远程仓库实战"'},"​")],-1)),p(a),i[1]||(i[1]=r(`<nav class="table-of-contents"><ul><li><a href="#一、核心原理">一、核心原理</a></li><li><a href="#二、操作步骤-从零开始也适用">二、操作步骤（从零开始也适用）</a><ul><li><a href="#_0-准备工作">0. 准备工作</a></li><li><a href="#_1-查看当前远程">1. 查看当前远程</a></li><li><a href="#_2-绑定「双-push-地址」">2. 绑定「双 push 地址」</a></li><li><a href="#_3-验证配置">3. 验证配置</a></li><li><a href="#_4-首次推送">4. 首次推送</a></li></ul></li><li><a href="#三、常见场景-q-a">三、常见场景 Q&amp;A</a></li></ul></nav><blockquote><p>本地只有一份代码，却想「主份」放 GitHub、「镜像」放 Gitee（或公司内网 GitLab）？<br> 不必来回拷贝，也不必写脚本循环 push，Git 本身就能让「一个远程名」对应「多个 URL」。</p></blockquote><h2 id="一、核心原理" tabindex="-1">一、核心原理 <a class="header-anchor" href="#一、核心原理" aria-label="Permalink to &quot;一、核心原理&quot;">​</a></h2><p>Git 的 remote 支持：</p><ol><li>一个 remote 可以有多条 <code>pushurl</code></li><li>执行 <code>git push &lt;remote&gt; &lt;branch&gt;</code> 时，会依次向所有 pushurl 发送数据</li></ol><p>因此只要把两个平台的地址绑到同一个 remote（通常是 origin），就能实现「一条命令，多地开花」。</p><h2 id="二、操作步骤-从零开始也适用" tabindex="-1">二、操作步骤（从零开始也适用） <a class="header-anchor" href="#二、操作步骤-从零开始也适用" aria-label="Permalink to &quot;二、操作步骤（从零开始也适用）&quot;">​</a></h2><h3 id="_0-准备工作" tabindex="-1">0. 准备工作 <a class="header-anchor" href="#_0-准备工作" aria-label="Permalink to &quot;0. 准备工作&quot;">​</a></h3><ul><li>已有本地仓库（或 <code>git init</code> 新建）</li><li>在 GitHub &amp; Gitee 分别创建空仓库，拿到 HTTPS 或 SSH 地址<br> 示例： <ul><li>GitHub：<code>git@github.com:user/repo.git</code></li><li>Gitee：<code>git@gitee.com:user/repo.git</code></li></ul></li></ul><h3 id="_1-查看当前远程" tabindex="-1">1. 查看当前远程 <a class="header-anchor" href="#_1-查看当前远程" aria-label="Permalink to &quot;1. 查看当前远程&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果之前没加过远程，会空列表；若已有单平台，继续下一步即可。</p><h3 id="_2-绑定「双-push-地址」" tabindex="-1">2. 绑定「双 push 地址」 <a class="header-anchor" href="#_2-绑定「双-push-地址」" aria-label="Permalink to &quot;2. 绑定「双 push 地址」&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 把 origin 的 fetch 地址设为 GitHub（习惯主仓）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@github.com:user/repo.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 再追加 Gitee 作为第二条 pushurl</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set-url</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@gitee.com:user/repo.git</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-验证配置" tabindex="-1">3. 验证配置 <a class="header-anchor" href="#_3-验证配置" aria-label="Permalink to &quot;3. 验证配置&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>预期输出：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>origin  git@github.com:user/repo.git (fetch)</span></span>
<span class="line"><span>origin  git@github.com:user/repo.git (push)</span></span>
<span class="line"><span>origin  git@gitee.com:user/repo.git (push)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>fetch 只有一条，push 有两条，说明成功。</p><h3 id="_4-首次推送" tabindex="-1">4. 首次推送 <a class="header-anchor" href="#_4-首次推送" aria-label="Permalink to &quot;4. 首次推送&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 本地已 commit 的前提下</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 或 master</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>终端会先刷 GitHub 进度，再刷 Gitee 进度，都 100% 即双平台完成！</p><p>以后正常开发，只需：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>即可保持同步。</p><h2 id="三、常见场景-q-a" tabindex="-1">三、常见场景 Q&amp;A <a class="header-anchor" href="#三、常见场景-q-a" aria-label="Permalink to &quot;三、常见场景 Q&amp;A&quot;">​</a></h2><ol><li><p><strong>已存在 origin，只想追加？</strong><br> 直接 <code>git remote set-url --add --push origin &lt;新地址&gt;</code>，无需删除旧地址。</p></li><li><p><strong>想同时推三个 / 四个仓库？</strong><br> 继续 <code>--add --push</code> 第三条、第四条 URL，Git 不限制数量。</p></li><li><p><strong>拉取时从哪拉？</strong><br> fetch URL 只有第一条，默认 <code>git pull</code> 会从 GitHub 拉；<br> 若想改到 Gitee，可：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set-url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@gitee.com:user/repo.git</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>再 <code>--add --push</code> 把 GitHub 加回来即可。</p></li><li><p><strong>提示权限失败？</strong></p><ul><li>用 SSH 地址需先在各自平台添加本机公钥；</li><li>用 HTTPS 地址可配置 personal access token，避免输入密码。</li></ul></li><li><p><strong>CI 重复触发？</strong><br> 双平台都有 Webhook/Actions 时，一次 push 会触发两遍。<br> 可在 CI 里通过 <code>if: github.repository_owner == &#39;user&#39;</code> 或仓库名过滤，避免重复。</p></li></ol>`,27))])}const v=e(o,[["render",d]]);export{F as __pageData,v as default};
