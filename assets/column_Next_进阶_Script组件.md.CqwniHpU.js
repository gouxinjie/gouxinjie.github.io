import{_ as n,C as t,c as e,o as l,j as i,G as p,a2 as r,a as h}from"./chunks/framework.DrNAj9nU.js";const y=JSON.parse('{"title":"Next.js Script ç»„ä»¶è¯¦è§£","description":"","frontmatter":{},"headers":[],"relativePath":"column/Next/è¿›é˜¶/Scriptç»„ä»¶.md","filePath":"column/Next/è¿›é˜¶/Scriptç»„ä»¶.md","lastUpdated":1768983294000}'),k={name:"column/Next/è¿›é˜¶/Scriptç»„ä»¶.md"};function d(o,s,c,g,E,u){const a=t("ArticleMetadata");return l(),e("div",null,[s[0]||(s[0]=i("h1",{id:"next-js-script-ç»„ä»¶è¯¦è§£",tabindex:"-1"},[h("Next.js Script ç»„ä»¶è¯¦è§£ "),i("a",{class:"header-anchor",href:"#next-js-script-ç»„ä»¶è¯¦è§£","aria-label":'Permalink to "Next.js Script ç»„ä»¶è¯¦è§£"'},"â€‹")],-1)),p(a),s[1]||(s[1]=r(`<nav class="table-of-contents"><ul><li><a href="#ä¸€ã€ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥ç”¨-script">ä¸€ã€ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥ç”¨ &lt;script&gt;ï¼Ÿ</a><ul><li><a href="#_1ï¸âƒ£-é˜»å¡é¡µé¢æ¸²æŸ“">1ï¸âƒ£ é˜»å¡é¡µé¢æ¸²æŸ“</a></li><li><a href="#_2ï¸âƒ£-æ‰§è¡Œæ—¶æœºä¸å¯æ§">2ï¸âƒ£ æ‰§è¡Œæ—¶æœºä¸å¯æ§</a></li><li><a href="#_3ï¸âƒ£-æ— æ³•è¢«-next-js-ä¼˜åŒ–">3ï¸âƒ£ æ— æ³•è¢« Next.js ä¼˜åŒ–</a></li></ul></li><li><a href="#äºŒã€ä»€ä¹ˆæ˜¯-next-script">äºŒã€ä»€ä¹ˆæ˜¯ next/scriptï¼Ÿ</a></li><li><a href="#ä¸‰ã€åŸºæœ¬å¼•å…¥-vs-å…¨å±€å¼•å…¥-éå¸¸å®¹æ˜“æ··æ·†">ä¸‰ã€åŸºæœ¬å¼•å…¥ vs å…¨å±€å¼•å…¥ï¼ˆéå¸¸å®¹æ˜“æ··æ·†ï¼‰</a><ul><li><a href="#_3-1-ä»€ä¹ˆæ˜¯ã€ŒåŸºæœ¬å¼•å…¥ã€-é¡µé¢çº§-ç»„ä»¶çº§">3.1 ä»€ä¹ˆæ˜¯ã€ŒåŸºæœ¬å¼•å…¥ã€ï¼ˆé¡µé¢çº§ / ç»„ä»¶çº§ï¼‰ï¼Ÿ</a></li><li><a href="#_3-2-ä»€ä¹ˆæ˜¯ã€Œå…¨å±€å¼•å…¥ã€-åº”ç”¨çº§">3.2 ä»€ä¹ˆæ˜¯ã€Œå…¨å±€å¼•å…¥ã€ï¼ˆåº”ç”¨çº§ï¼‰ï¼Ÿ</a></li></ul></li><li><a href="#å››ã€script-çš„åŠ è½½ç­–ç•¥">å››ã€Script çš„åŠ è½½ç­–ç•¥</a><ul><li><a href="#_4-1-afterinteractive-é»˜è®¤-é¦–é€‰">4.1 afterInteractiveï¼ˆé»˜è®¤ &amp; é¦–é€‰ï¼‰</a></li><li><a href="#_4-2-lazyonload-æ€§èƒ½æœ€ä¼˜">4.2 lazyOnloadï¼ˆæ€§èƒ½æœ€ä¼˜ï¼‰</a></li><li><a href="#_4-3-beforeinteractive-æ…ç”¨">4.3 beforeInteractiveï¼ˆæ…ç”¨ï¼‰</a></li><li><a href="#_4-4-worker-å®éªŒç‰¹æ€§">4.4 workerï¼ˆå®éªŒç‰¹æ€§ï¼‰</a></li></ul></li><li><a href="#å››ã€å†…è”-script-çš„å†™æ³•">å››ã€å†…è” Script çš„å†™æ³•</a><ul><li><a href="#æ–¹å¼ä¸€-dangerouslysetinnerhtml">æ–¹å¼ä¸€ï¼šdangerouslySetInnerHTML</a></li><li><a href="#æ–¹å¼äºŒ-children-æ¨è">æ–¹å¼äºŒï¼šchildrenï¼ˆæ¨èï¼‰</a></li></ul></li></ul></nav><p>åœ¨ Next.js ä¸­ï¼Œ<strong><code>next/script</code></strong> æ˜¯ä¸€ä¸ªç»å¸¸è¢«å¿½ç•¥ã€ä½†åœ¨æ€§èƒ½å’Œå·¥ç¨‹è´¨é‡ä¸Šéå¸¸å…³é”®çš„ç»„ä»¶ã€‚å®ƒä¸“é—¨ç”¨äº<strong>å®‰å…¨ã€å¯æ§ã€æ€§èƒ½å‹å¥½åœ°åŠ è½½ç¬¬ä¸‰æ–¹è„šæœ¬</strong>ï¼ˆå¦‚ç»Ÿè®¡ã€ç›‘æ§ã€å¹¿å‘Šã€SDK ç­‰ï¼‰ã€‚</p><h2 id="ä¸€ã€ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥ç”¨-script" tabindex="-1">ä¸€ã€ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥ç”¨ <code>&lt;script&gt;</code>ï¼Ÿ <a class="header-anchor" href="#ä¸€ã€ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥ç”¨-script" aria-label="Permalink to &quot;ä¸€ã€ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥ç”¨ \`&lt;script&gt;\`ï¼Ÿ&quot;">â€‹</a></h2><p>åœ¨ä¼ ç»Ÿ <code>HTML</code> ä¸­ï¼Œæˆ‘ä»¬ä¹ æƒ¯è¿™æ ·å†™ï¼š</p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/sdk.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ä½†åœ¨ <strong>Next.jsï¼ˆå°¤å…¶æ˜¯ App Router / SSR åœºæ™¯ï¼‰</strong> ä¸­ï¼Œè¿™ç§å†™æ³•å­˜åœ¨æ˜æ˜¾é—®é¢˜ï¼š</p><h3 id="_1ï¸âƒ£-é˜»å¡é¡µé¢æ¸²æŸ“" tabindex="-1">1ï¸âƒ£ é˜»å¡é¡µé¢æ¸²æŸ“ <a class="header-anchor" href="#_1ï¸âƒ£-é˜»å¡é¡µé¢æ¸²æŸ“" aria-label="Permalink to &quot;1ï¸âƒ£ é˜»å¡é¡µé¢æ¸²æŸ“&quot;">â€‹</a></h3><ul><li>é»˜è®¤ script ä¼šé˜»å¡ HTML è§£æ</li><li>å½±å“ <strong>é¦–å±æ€§èƒ½ï¼ˆFCP / LCPï¼‰</strong></li></ul><h3 id="_2ï¸âƒ£-æ‰§è¡Œæ—¶æœºä¸å¯æ§" tabindex="-1">2ï¸âƒ£ æ‰§è¡Œæ—¶æœºä¸å¯æ§ <a class="header-anchor" href="#_2ï¸âƒ£-æ‰§è¡Œæ—¶æœºä¸å¯æ§" aria-label="Permalink to &quot;2ï¸âƒ£ æ‰§è¡Œæ—¶æœºä¸å¯æ§&quot;">â€‹</a></h3><ul><li>SSR / Hydration é˜¶æ®µå®¹æ˜“å‡ºç° <ul><li><code>window is not defined</code></li><li>å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯ä¸ä¸€è‡´</li></ul></li></ul><h3 id="_3ï¸âƒ£-æ— æ³•è¢«-next-js-ä¼˜åŒ–" tabindex="-1">3ï¸âƒ£ æ— æ³•è¢« Next.js ä¼˜åŒ– <a class="header-anchor" href="#_3ï¸âƒ£-æ— æ³•è¢«-next-js-ä¼˜åŒ–" aria-label="Permalink to &quot;3ï¸âƒ£ æ— æ³•è¢« Next.js ä¼˜åŒ–&quot;">â€‹</a></h3><ul><li>æ— æ³•å‚ä¸ Script è°ƒåº¦</li><li>æ— æ³•å»¶è¿Ÿ / ä¼˜å…ˆçº§æ§åˆ¶</li></ul><p>ğŸ‘‰ <strong>Next.js Script çš„å­˜åœ¨ï¼Œæœ¬è´¨å°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ã€‚</strong></p><h2 id="äºŒã€ä»€ä¹ˆæ˜¯-next-script" tabindex="-1">äºŒã€ä»€ä¹ˆæ˜¯ <code>next/script</code>ï¼Ÿ <a class="header-anchor" href="#äºŒã€ä»€ä¹ˆæ˜¯-next-script" aria-label="Permalink to &quot;äºŒã€ä»€ä¹ˆæ˜¯ \`next/script\`ï¼Ÿ&quot;">â€‹</a></h2><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Script </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;next/script&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>Script</code> æ˜¯ Next.js æä¾›çš„ä¸€ä¸ª<strong>é«˜çº§ Script ç®¡ç†ç»„ä»¶</strong>ï¼Œå…·å¤‡ï¼š</p><ul><li>âœ… ä¸é˜»å¡æ¸²æŸ“</li><li>âœ… ç²¾å‡†æ§åˆ¶åŠ è½½ä¸æ‰§è¡Œæ—¶æœº</li><li>âœ… SSR / CSR å®‰å…¨</li><li>âœ… è‡ªåŠ¨å»é‡</li><li>âœ… æ€§èƒ½ä¼˜åŒ–ï¼ˆpreload / deferï¼‰</li></ul><h2 id="ä¸‰ã€åŸºæœ¬å¼•å…¥-vs-å…¨å±€å¼•å…¥-éå¸¸å®¹æ˜“æ··æ·†" tabindex="-1">ä¸‰ã€åŸºæœ¬å¼•å…¥ vs å…¨å±€å¼•å…¥ï¼ˆéå¸¸å®¹æ˜“æ··æ·†ï¼‰ <a class="header-anchor" href="#ä¸‰ã€åŸºæœ¬å¼•å…¥-vs-å…¨å±€å¼•å…¥-éå¸¸å®¹æ˜“æ··æ·†" aria-label="Permalink to &quot;ä¸‰ã€åŸºæœ¬å¼•å…¥ vs å…¨å±€å¼•å…¥ï¼ˆéå¸¸å®¹æ˜“æ··æ·†ï¼‰&quot;">â€‹</a></h2><p>åœ¨ä½¿ç”¨ <code>next/script</code> æ—¶ï¼Œ<strong>å¾ˆå¤šäººå…¶å®ä¸æ˜¯ä¸ä¼šç”¨ strategyï¼Œè€Œæ˜¯æ²¡æƒ³æ¸…æ¥šï¼šè„šæœ¬åº”è¯¥â€œåœ¨å“ªå¼•å…¥â€</strong>ã€‚</p><p>æˆ‘ä»¬å…ˆæŠŠè¿™ä¸ªé—®é¢˜è®²æ¸…æ¥šï¼Œå†è¿›å…¥ strategyã€‚</p><h3 id="_3-1-ä»€ä¹ˆæ˜¯ã€ŒåŸºæœ¬å¼•å…¥ã€-é¡µé¢çº§-ç»„ä»¶çº§" tabindex="-1">3.1 ä»€ä¹ˆæ˜¯ã€ŒåŸºæœ¬å¼•å…¥ã€ï¼ˆé¡µé¢çº§ / ç»„ä»¶çº§ï¼‰ï¼Ÿ <a class="header-anchor" href="#_3-1-ä»€ä¹ˆæ˜¯ã€ŒåŸºæœ¬å¼•å…¥ã€-é¡µé¢çº§-ç»„ä»¶çº§" aria-label="Permalink to &quot;3.1 ä»€ä¹ˆæ˜¯ã€ŒåŸºæœ¬å¼•å…¥ã€ï¼ˆé¡µé¢çº§ / ç»„ä»¶çº§ï¼‰ï¼Ÿ&quot;">â€‹</a></h3><p>ğŸ‘‰ <strong>åªåœ¨æŸä¸€ä¸ªé¡µé¢æˆ–ç»„ä»¶ä¸­ä½¿ç”¨ Script</strong>ã€‚</p><p><strong>ç¤ºä¾‹ï¼šä»…åœ¨è¯¦æƒ…é¡µå¼•å…¥</strong></p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// app/detail/page.tsx</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Script </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;next/script&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DetailPage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/detail-sdk.js&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> strategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;afterInteractive&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Detail Page&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>ç‰¹ç‚¹</strong></p><ul><li>âœ… <strong>åªåœ¨è¯¥é¡µé¢åŠ è½½</strong></li><li>âœ… é¡µé¢å¸è½½åä¸å†ä½¿ç”¨ï¼ˆé€»è¾‘ä¸Šï¼‰</li><li>âŒ åˆ‡æ¢é¡µé¢å¯èƒ½é‡æ–°æ‰§è¡Œ</li></ul><p><strong>é€‚åˆåœºæ™¯</strong></p><ul><li>åªåœ¨æŸä¸ªé¡µé¢ç”¨åˆ°çš„ SDK</li><li>é¡µé¢çº§åŠŸèƒ½ï¼ˆç¼–è¾‘å™¨ã€åœ°å›¾ã€æ’­æ”¾å™¨ï¼‰</li><li>ä¸å¸Œæœ›æ±¡æŸ“å…¨å±€çš„è„šæœ¬</li></ul><h3 id="_3-2-ä»€ä¹ˆæ˜¯ã€Œå…¨å±€å¼•å…¥ã€-åº”ç”¨çº§" tabindex="-1">3.2 ä»€ä¹ˆæ˜¯ã€Œå…¨å±€å¼•å…¥ã€ï¼ˆåº”ç”¨çº§ï¼‰ï¼Ÿ <a class="header-anchor" href="#_3-2-ä»€ä¹ˆæ˜¯ã€Œå…¨å±€å¼•å…¥ã€-åº”ç”¨çº§" aria-label="Permalink to &quot;3.2 ä»€ä¹ˆæ˜¯ã€Œå…¨å±€å¼•å…¥ã€ï¼ˆåº”ç”¨çº§ï¼‰ï¼Ÿ&quot;">â€‹</a></h3><p>ğŸ‘‰ <strong>åœ¨åº”ç”¨æ ¹èŠ‚ç‚¹å¼•å…¥ï¼Œä¸€æ¬¡åŠ è½½ï¼Œå…¨ç«™å¯ç”¨</strong>ã€‚</p><p><strong>App Routerï¼ˆæ¨èæ–¹å¼ï¼‰</strong></p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// app/layout.tsx</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Script </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;next/script&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RootLayout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">children</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {children}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/global-sdk.js&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> strategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;afterInteractive&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>ç‰¹ç‚¹</strong></p><ul><li>âœ… <strong>å…¨ç«™åªåŠ è½½ä¸€æ¬¡ï¼ˆè‡ªåŠ¨å»é‡ï¼‰</strong></li><li>âœ… æ‰€æœ‰é¡µé¢éƒ½èƒ½ä½¿ç”¨ <code>window.xxx</code></li><li>âŒ ä¼šå¢åŠ å…¨ç«™çš„ JS æˆæœ¬</li></ul><p><strong>é€‚åˆåœºæ™¯</strong></p><ul><li>åŸ‹ç‚¹ / ç›‘æ§ï¼ˆGAã€ç¥ç­–ã€Sentryï¼‰</li><li>ç™»å½•æ€ç›¸å…³ SDK</li><li>å…¨å±€åŸºç¡€èƒ½åŠ›</li></ul><h2 id="å››ã€script-çš„åŠ è½½ç­–ç•¥" tabindex="-1">å››ã€Script çš„åŠ è½½ç­–ç•¥ <a class="header-anchor" href="#å››ã€script-çš„åŠ è½½ç­–ç•¥" aria-label="Permalink to &quot;å››ã€Script çš„åŠ è½½ç­–ç•¥&quot;">â€‹</a></h2><blockquote><p><strong>90% çš„è„šæœ¬ï¼šç”¨ <code>afterInteractive</code></strong> &gt; <strong>ä¸å½±å“é¦–å±çš„ï¼šç”¨ <code>lazyOnload</code></strong> &gt; <strong>æå°‘æ•°åŸºç¡€è„šæœ¬ï¼šæ‰ç”¨ <code>beforeInteractive</code></strong></p></blockquote><h3 id="_4-1-afterinteractive-é»˜è®¤-é¦–é€‰" tabindex="-1">4.1 <code>afterInteractive</code>ï¼ˆé»˜è®¤ &amp; é¦–é€‰ï¼‰ <a class="header-anchor" href="#_4-1-afterinteractive-é»˜è®¤-é¦–é€‰" aria-label="Permalink to &quot;4.1 \`afterInteractive\`ï¼ˆé»˜è®¤ &amp; é¦–é€‰ï¼‰&quot;">â€‹</a></h3><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/sdk.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>é¡µé¢å¯äº¤äº’ååŠ è½½</li><li>ä¸é˜»å¡æ¸²æŸ“</li><li>è¡Œä¸ºæœ€å¯æ§</li></ul><p>âœ… <strong>åŸ‹ç‚¹ / ç›‘æ§ / ä¸šåŠ¡ SDK é¦–é€‰</strong></p><h3 id="_4-2-lazyonload-æ€§èƒ½æœ€ä¼˜" tabindex="-1">4.2 <code>lazyOnload</code>ï¼ˆæ€§èƒ½æœ€ä¼˜ï¼‰ <a class="header-anchor" href="#_4-2-lazyonload-æ€§èƒ½æœ€ä¼˜" aria-label="Permalink to &quot;4.2 \`lazyOnload\`ï¼ˆæ€§èƒ½æœ€ä¼˜ï¼‰&quot;">â€‹</a></h3><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/chat.js&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> strategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;lazyOnload&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>é¡µé¢å®Œå…¨åŠ è½½åå†æ‰§è¡Œ</li><li>å¯¹é¦–å±å‡ ä¹ 0 å½±å“</li></ul><p>âœ… <strong>å¹¿å‘Š / å®¢æœ / éå…³é”®åŠŸèƒ½</strong></p><h3 id="_4-3-beforeinteractive-æ…ç”¨" tabindex="-1">4.3 <code>beforeInteractive</code>ï¼ˆæ…ç”¨ï¼‰ <a class="header-anchor" href="#_4-3-beforeinteractive-æ…ç”¨" aria-label="Permalink to &quot;4.3 \`beforeInteractive\`ï¼ˆæ…ç”¨ï¼‰&quot;">â€‹</a></h3><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/polyfill.js&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> strategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;beforeInteractive&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>React æ‰§è¡Œå‰åŠ è½½</li><li>å¯èƒ½å½±å“é¦–å±æ€§èƒ½</li></ul><p>âš ï¸ <strong>åªæœ‰å½“è„šæœ¬â€œå¿…é¡»æœ€æ—©å­˜åœ¨â€æ—¶æ‰ç”¨</strong></p><h3 id="_4-4-worker-å®éªŒç‰¹æ€§" tabindex="-1">4.4 <code>worker</code>ï¼ˆå®éªŒç‰¹æ€§ï¼‰ <a class="header-anchor" href="#_4-4-worker-å®éªŒç‰¹æ€§" aria-label="Permalink to &quot;4.4 \`worker\`ï¼ˆå®éªŒç‰¹æ€§ï¼‰&quot;">â€‹</a></h3><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/heavy.js&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> strategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;worker&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>æš‚æ—¶ä¸å»ºè®®ä½¿ç”¨ã€‚</p><h2 id="å››ã€å†…è”-script-çš„å†™æ³•" tabindex="-1">å››ã€å†…è” Script çš„å†™æ³• <a class="header-anchor" href="#å››ã€å†…è”-script-çš„å†™æ³•" aria-label="Permalink to &quot;å››ã€å†…è” Script çš„å†™æ³•&quot;">â€‹</a></h2><h3 id="æ–¹å¼ä¸€-dangerouslysetinnerhtml" tabindex="-1">æ–¹å¼ä¸€ï¼š<code>dangerouslySetInnerHTML</code> <a class="header-anchor" href="#æ–¹å¼ä¸€-dangerouslysetinnerhtml" aria-label="Permalink to &quot;æ–¹å¼ä¸€ï¼š\`dangerouslySetInnerHTML\`&quot;">â€‹</a></h3><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Script</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ga-init&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  strategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;afterInteractive&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  dangerouslySetInnerHTML</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    __html: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      window.dataLayer = window.dataLayer || [];</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      function gtag(){dataLayer.push(arguments);}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      gtag(&#39;js&#39;, new Date());</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    \`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>âš ï¸ å¿…é¡»æä¾› <strong>å”¯ä¸€ id</strong>ï¼Œå¦åˆ™ <code>Next.js</code> ä¼šæŠ¥é”™</p><h3 id="æ–¹å¼äºŒ-children-æ¨è" tabindex="-1">æ–¹å¼äºŒï¼šchildrenï¼ˆæ¨èï¼‰ <a class="header-anchor" href="#æ–¹å¼äºŒ-children-æ¨è" aria-label="Permalink to &quot;æ–¹å¼äºŒï¼šchildrenï¼ˆæ¨èï¼‰&quot;">â€‹</a></h3><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;init&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> strategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;afterInteractive&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`console.log(&#39;script loaded&#39;)\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,59))])}const F=n(k,[["render",d]]);export{y as __pageData,F as default};
