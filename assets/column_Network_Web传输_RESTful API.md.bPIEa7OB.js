import{_ as n,C as t,c as e,o as l,j as a,G as p,aQ as h,a as r}from"./chunks/framework.DEi4YP2n.js";const y=JSON.parse('{"title":"RESTful API：从原则到最佳实践","description":"","frontmatter":{},"headers":[],"relativePath":"column/Network/Web传输/RESTful API.md","filePath":"column/Network/Web传输/RESTful API.md","lastUpdated":1761113576000}'),d={name:"column/Network/Web传输/RESTful API.md"};function k(o,s,c,E,u,g){const i=t("ArticleMetadata");return l(),e("div",null,[s[0]||(s[0]=a("h1",{id:"restful-api-从原则到最佳实践",tabindex:"-1"},[a("strong",null,"RESTful API：从原则到最佳实践"),r(),a("a",{class:"header-anchor",href:"#restful-api-从原则到最佳实践","aria-label":'Permalink to "**RESTful API：从原则到最佳实践**"'},"​")],-1)),p(i),s[1]||(s[1]=h(`<nav class="table-of-contents"><ul><li><a href="#_1-什么是-restful-api">1. 什么是 RESTful API？</a></li><li><a href="#_2-restful-api-设计原则">2. RESTful API 设计原则</a><ul><li><a href="#_2-1-资源命名规范">2.1 资源命名规范</a></li><li><a href="#_2-2-http-方法语义">2.2 HTTP 方法语义</a></li><li><a href="#_2-3-状态码使用规范">2.3 状态码使用规范</a></li></ul></li><li><a href="#_3-最佳实践示例">3. 最佳实践示例</a><ul><li><a href="#_3-1-典型-crud-端点设计">3.1 典型 CRUD 端点设计</a></li><li><a href="#_3-2-过滤、排序和分页">3.2 过滤、排序和分页</a></li><li><a href="#_3-3-版本控制方案">3.3 版本控制方案</a></li></ul></li><li><a href="#_4-高级设计模式">4. 高级设计模式</a><ul><li><a href="#_4-1-hateoas-实现">4.1 HATEOAS 实现</a></li><li><a href="#_4-2-批量操作设计">4.2 批量操作设计</a></li><li><a href="#_4-3-异步操作处理">4.3 异步操作处理</a></li></ul></li><li><a href="#_5-安全防护措施">5. 安全防护措施</a><ul><li><a href="#_5-1-认证与授权">5.1 认证与授权</a></li><li><a href="#_5-2-输入验证">5.2 输入验证</a></li><li><a href="#_5-3-速率限制">5.3 速率限制</a></li></ul></li><li><a href="#_6-文档化工具推荐">6. 文档化工具推荐</a></li><li><a href="#_7-常见反模式">7. 常见反模式</a></li><li><a href="#总结">总结</a></li></ul></nav><p><code>RESTful API</code> 是现代 <code>Web</code> 开发的基石，良好的 <code>API</code> 设计能显著提升系统的可用性、可维护性和扩展性。</p><h2 id="_1-什么是-restful-api" tabindex="-1"><strong>1. 什么是 RESTful API？</strong> <a class="header-anchor" href="#_1-什么是-restful-api" aria-label="Permalink to &quot;**1. 什么是 RESTful API？**&quot;">​</a></h2><p><code>REST（Representational State Transfer）</code>是一种架构风格，<code>RESTful API</code> 是其具体实现，具有以下核心特征：</p><ul><li><strong>无状态（Stateless）</strong>：服务端不保存客户端会话状态</li><li><strong>资源导向（Resource-Based）</strong>：所有数据抽象为资源</li><li><strong>统一接口（Uniform Interface）</strong>：使用标准 HTTP 方法操作资源</li><li><strong>超媒体驱动（HATEOAS）</strong>：响应中包含相关操作链接</li></ul><h2 id="_2-restful-api-设计原则" tabindex="-1"><strong>2. RESTful API 设计原则</strong> <a class="header-anchor" href="#_2-restful-api-设计原则" aria-label="Permalink to &quot;**2. RESTful API 设计原则**&quot;">​</a></h2><h3 id="_2-1-资源命名规范" tabindex="-1"><strong>2.1 资源命名规范</strong> <a class="header-anchor" href="#_2-1-资源命名规范" aria-label="Permalink to &quot;**2.1 资源命名规范**&quot;">​</a></h3><table tabindex="0"><thead><tr><th>原则</th><th>好例子</th><th>坏例子</th></tr></thead><tbody><tr><td>使用名词复数</td><td><code>/articles</code></td><td><code>/getAllArticles</code></td></tr><tr><td>层次化关系</td><td><code>/authors/5/articles</code></td><td><code>/authorArticles?id=5</code></td></tr><tr><td>小写+连字符</td><td><code>/user-profiles</code></td><td><code>/userProfiles</code></td></tr></tbody></table><h3 id="_2-2-http-方法语义" tabindex="-1"><strong>2.2 HTTP 方法语义</strong> <a class="header-anchor" href="#_2-2-http-方法语义" aria-label="Permalink to &quot;**2.2 HTTP 方法语义**&quot;">​</a></h3><p>简单的说 RESTful 架构就是：“每一个 URI 代表一种资源，客户端通过四个 HTTP 动词，对服务器端资源进行操作，实现资源的表现层状态转移”。</p><table tabindex="0"><thead><tr><th>请求方法（HTTP 动词）</th><th>URI</th><th>解释</th></tr></thead><tbody><tr><td><strong>GET</strong></td><td><code>/students/</code></td><td>获取所有学生</td></tr><tr><td><strong>POST</strong></td><td><code>/students/</code></td><td>新建一个学生</td></tr><tr><td><strong>GET</strong></td><td><code>/students/ID/</code></td><td>获取指定 ID 的学生信息</td></tr><tr><td><strong>PUT</strong></td><td><code>/students/ID/</code></td><td>更新指定 ID 的学生信息（提供该学生的全部信息）</td></tr><tr><td><strong>PATCH</strong></td><td><code>/students/ID/</code></td><td>更新指定 ID 的学生信息（提供该学生的部分信息）</td></tr><tr><td><strong>DELETE</strong></td><td><code>/students/ID/</code></td><td>删除指定 ID 的学生信息</td></tr><tr><td><strong>GET</strong></td><td><code>/students/ID/friends/</code></td><td>列出指定 ID 的学生的所有朋友</td></tr><tr><td><strong>DELETE</strong></td><td><code>/students/ID/friends/ID/</code></td><td>删除指定 ID 的学生的指定 ID 的朋友</td></tr></tbody></table><h3 id="_2-3-状态码使用规范" tabindex="-1"><strong>2.3 状态码使用规范</strong> <a class="header-anchor" href="#_2-3-状态码使用规范" aria-label="Permalink to &quot;**2.3 状态码使用规范**&quot;">​</a></h3><table tabindex="0"><thead><tr><th>状态码</th><th>含义</th><th>适用场景</th></tr></thead><tbody><tr><td>200 OK</td><td>成功</td><td>一般成功请求</td></tr><tr><td>201 Created</td><td>创建成功</td><td>POST 创建资源后</td></tr><tr><td>204 No Content</td><td>无返回内容</td><td>DELETE 成功</td></tr><tr><td>400 Bad Request</td><td>客户端错误</td><td>参数验证失败</td></tr><tr><td>401 Unauthorized</td><td>未认证</td><td>未提供有效凭证</td></tr><tr><td>403 Forbidden</td><td>无权限</td><td>认证但无权操作</td></tr><tr><td>404 Not Found</td><td>资源不存在</td><td>访问不存在的 URL</td></tr><tr><td>429 Too Many Requests</td><td>限流</td><td>请求频率过高</td></tr></tbody></table><h2 id="_3-最佳实践示例" tabindex="-1"><strong>3. 最佳实践示例</strong> <a class="header-anchor" href="#_3-最佳实践示例" aria-label="Permalink to &quot;**3. 最佳实践示例**&quot;">​</a></h2><h3 id="_3-1-典型-crud-端点设计" tabindex="-1"><strong>3.1 典型 CRUD 端点设计</strong> <a class="header-anchor" href="#_3-1-典型-crud-端点设计" aria-label="Permalink to &quot;**3.1 典型 CRUD 端点设计**&quot;">​</a></h3><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GET    /articles          # 获取文章列表</span></span>
<span class="line"><span>POST   /articles          # 创建新文章</span></span>
<span class="line"><span>GET    /articles/{id}     # 获取特定文章</span></span>
<span class="line"><span>PUT    /articles/{id}     # 全量更新文章</span></span>
<span class="line"><span>PATCH  /articles/{id}     # 部分更新文章</span></span>
<span class="line"><span>DELETE /articles/{id}     # 删除文章</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_3-2-过滤、排序和分页" tabindex="-1"><strong>3.2 过滤、排序和分页</strong> <a class="header-anchor" href="#_3-2-过滤、排序和分页" aria-label="Permalink to &quot;**3.2 过滤、排序和分页**&quot;">​</a></h3><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GET /articles?state=published&amp;sort=-created_at&amp;page=2&amp;limit=10</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>响应示例：</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;pagination&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;total&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;page&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;limit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;total_pages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_3-3-版本控制方案" tabindex="-1"><strong>3.3 版本控制方案</strong> <a class="header-anchor" href="#_3-3-版本控制方案" aria-label="Permalink to &quot;**3.3 版本控制方案**&quot;">​</a></h3><p><strong>URL 路径版本控制</strong>（推荐）：</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://api.example.com/v1/articles</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>Header 版本控制</strong>：</p><div class="language-http vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /articles </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">HTTP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Accept</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> application/vnd.example.v1+json</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_4-高级设计模式" tabindex="-1"><strong>4. 高级设计模式</strong> <a class="header-anchor" href="#_4-高级设计模式" aria-label="Permalink to &quot;**4. 高级设计模式**&quot;">​</a></h2><h3 id="_4-1-hateoas-实现" tabindex="-1"><strong>4.1 HATEOAS 实现</strong> <a class="header-anchor" href="#_4-1-hateoas-实现" aria-label="Permalink to &quot;**4.1 HATEOAS 实现**&quot;">​</a></h3><p>响应中包含可操作链接：</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;RESTful API设计&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;links&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;rel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;self&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;method&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GET&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;href&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/articles/123&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;rel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;delete&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;method&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DELETE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;href&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/articles/123&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_4-2-批量操作设计" tabindex="-1"><strong>4.2 批量操作设计</strong> <a class="header-anchor" href="#_4-2-批量操作设计" aria-label="Permalink to &quot;**4.2 批量操作设计**&quot;">​</a></h3><div class="language-http vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PATCH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /articles</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Content-Type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> application/json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;op&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;replace&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;新标题&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;op&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;remove&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/tags&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_4-3-异步操作处理" tabindex="-1"><strong>4.3 异步操作处理</strong> <a class="header-anchor" href="#_4-3-异步操作处理" aria-label="Permalink to &quot;**4.3 异步操作处理**&quot;">​</a></h3><p>创建异步任务：</p><div class="language-http vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">POST</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /import-jobs</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Content-Type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> application/json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;file_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/data.csv&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>响应：</p><div class="language-http vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">202 Accepted</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Location</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /jobs/123</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>查询任务状态：</p><div class="language-http vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /jobs/123</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_5-安全防护措施" tabindex="-1"><strong>5. 安全防护措施</strong> <a class="header-anchor" href="#_5-安全防护措施" aria-label="Permalink to &quot;**5. 安全防护措施**&quot;">​</a></h2><h3 id="_5-1-认证与授权" tabindex="-1"><strong>5.1 认证与授权</strong> <a class="header-anchor" href="#_5-1-认证与授权" aria-label="Permalink to &quot;**5.1 认证与授权**&quot;">​</a></h3><div class="language-http vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># JWT认证示例</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /profile </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">HTTP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Authorization</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Bearer eyJhbGciOiJIUzI1Ni...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_5-2-输入验证" tabindex="-1"><strong>5.2 输入验证</strong> <a class="header-anchor" href="#_5-2-输入验证" aria-label="Permalink to &quot;**5.2 输入验证**&quot;">​</a></h3><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;error&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;invalid_parameter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;title长度需在5-100字符之间&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;field&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;title&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_5-3-速率限制" tabindex="-1"><strong>5.3 速率限制</strong> <a class="header-anchor" href="#_5-3-速率限制" aria-label="Permalink to &quot;**5.3 速率限制**&quot;">​</a></h3><p>响应头：</p><div class="language-http vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">HTTP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 200</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OK</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">X-RateLimit-Limit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 100</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">X-RateLimit-Remaining</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 99</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">X-RateLimit-Reset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1625097600</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_6-文档化工具推荐" tabindex="-1"><strong>6. 文档化工具推荐</strong> <a class="header-anchor" href="#_6-文档化工具推荐" aria-label="Permalink to &quot;**6. 文档化工具推荐**&quot;">​</a></h2><ul><li><strong>OpenAPI/Swagger</strong>：标准化 API 描述</li><li><strong>Postman</strong>：交互式 API 测试与文档</li><li><strong>Redoc</strong>：美观的 API 文档生成</li></ul><h2 id="_7-常见反模式" tabindex="-1"><strong>7. 常见反模式</strong> <a class="header-anchor" href="#_7-常见反模式" aria-label="Permalink to &quot;**7. 常见反模式**&quot;">​</a></h2><ol><li><strong>动词滥用</strong>：<code>/getArticles</code>、<code>/deleteUser</code></li><li><strong>过度嵌套</strong>：<code>/users/5/articles/3/comments/1/replies</code></li><li><strong>忽略状态码</strong>：所有响应都返回 200</li><li><strong>混合大小写</strong>：<code>/UserProfile</code></li><li><strong>忽略版本控制</strong>：导致后期兼容性问题</li></ol><h2 id="总结" tabindex="-1"><strong>总结</strong> <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;**总结**&quot;">​</a></h2><p>设计良好的 RESTful API 应该：<br> ✅ 遵循资源导向原则<br> ✅ 正确使用 HTTP 语义<br> ✅ 提供清晰的错误信息<br> ✅ 包含完善的文档<br> ✅ 考虑长期的可扩展性</p>`,52))])}const m=n(d,[["render",k]]);export{y as __pageData,m as default};
