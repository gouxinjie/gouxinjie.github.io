import{_ as n,C as l,c as e,o as p,j as a,G as t,a2 as h,a as r}from"./chunks/framework.DrNAj9nU.js";const d="/assets/compare.2fuOudEg.png",y=JSON.parse('{"title":"为什么前端项目部署需要 nginx 或 Apache？","description":"","frontmatter":{},"headers":[],"relativePath":"column/Docker/Docker容器与部署/为什么前端项目部署需要nginx或Apache.md","filePath":"column/Docker/Docker容器与部署/为什么前端项目部署需要nginx或Apache.md","lastUpdated":1766709137000}'),k={name:"column/Docker/Docker容器与部署/为什么前端项目部署需要nginx或Apache.md"};function c(o,s,g,b,u,E){const i=l("ArticleMetadata");return p(),e("div",null,[s[0]||(s[0]=a("h1",{id:"为什么前端项目部署需要-nginx-或-apache",tabindex:"-1"},[r("为什么前端项目部署需要 nginx 或 Apache？ "),a("a",{class:"header-anchor",href:"#为什么前端项目部署需要-nginx-或-apache","aria-label":'Permalink to "为什么前端项目部署需要 nginx 或 Apache？"'},"​")],-1)),t(i),s[1]||(s[1]=h('<nav class="table-of-contents"><ul><li><a href="#一、前端项目本质是什么">一、前端项目本质是什么？</a></li><li><a href="#二、为什么一定要-web-服务器">二、为什么一定要“Web 服务器”？</a><ul><li><a href="#_2-1-提供-http-服务">2.1 提供 HTTP 服务</a></li></ul></li><li><a href="#三、为什么不能用-node-直接拷文件">三、为什么不能用 Node / 直接拷文件？</a></li><li><a href="#四、nginx-apache-在前端部署中的关键作用">四、Nginx / Apache 在前端部署中的关键作用</a><ul><li><a href="#_4-1-静态文件托管-最重要">4.1 静态文件托管（最重要）</a></li><li><a href="#_4-2-spa-路由兜底-非常关键">4.2 SPA 路由兜底（非常关键）</a></li><li><a href="#_4-3-性能优化-前端非常依赖">4.3 性能优化（前端非常依赖）</a></li><li><a href="#_4-4-https-证书">4.4 HTTPS &amp; 证书</a></li><li><a href="#_4-5-反向代理-现代前端必备">4.5 反向代理（现代前端必备）</a></li></ul></li><li><a href="#五、不同-web-服务器的对比">五、不同 Web 服务器的对比</a></li><li><a href="#六、实际部署示例">六、实际部署示例</a><ul><li><a href="#_1-最简单的-nginx-配置">1. 最简单的 Nginx 配置</a></li><li><a href="#_2-docker-nginx-组合">2. Docker + Nginx 组合</a></li><li><a href="#_3-apache-配置示例">3. Apache 配置示例</a></li></ul></li></ul></nav><p><img src="'+d+`" alt="compare" loading="lazy"></p><div class="tip custom-block"><p class="custom-block-title">先一句话结论</p><p>因为浏览器不能直接“跑前端项目”，需要一个 Web 服务器把文件“按 HTTP 规则”正确地提供出来，而 Nginx / Apache 就是干这个的。</p></div><h2 id="一、前端项目本质是什么" tabindex="-1">一、前端项目本质是什么？ <a class="header-anchor" href="#一、前端项目本质是什么" aria-label="Permalink to &quot;一、前端项目本质是什么？&quot;">​</a></h2><p>部署后的前端项目其实就是一堆 <strong>静态资源</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>index.html</span></span>
<span class="line"><span>main.js</span></span>
<span class="line"><span>style.css</span></span>
<span class="line"><span>assets/xxx.png</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>浏览器只能通过 <strong>HTTP/HTTPS</strong> 访问这些文件，❌ 不能直接访问你服务器磁盘上的文件。</p><p><strong>为什么不能直接打开 HTML 文件？</strong></p><ol><li>路径问题</li></ol><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 直接双击 index.html 在浏览器打开 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 会看到： --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">file:///D:/project/dist/index.html</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 资源加载会失败 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/assets/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 变成：file:///assets/index.js （不存在） --&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="2"><li>模块和 API 限制</li></ol><ul><li>ES 模块：<code>&lt;script type=&quot;module&quot;&gt;</code> 需要 HTTP 服务器</li><li>CORS 限制：AJAX/Fetch 请求在 file:// 协议下被阻止</li><li>路由问题：Vue Router/React Router 需要服务器支持</li></ul><h2 id="二、为什么一定要-web-服务器" tabindex="-1">二、为什么一定要“Web 服务器”？ <a class="header-anchor" href="#二、为什么一定要-web-服务器" aria-label="Permalink to &quot;二、为什么一定要“Web 服务器”？&quot;">​</a></h2><h3 id="_2-1-提供-http-服务" tabindex="-1">2.1 提供 HTTP 服务 <a class="header-anchor" href="#_2-1-提供-http-服务" aria-label="Permalink to &quot;2.1 提供 HTTP 服务&quot;">​</a></h3><p>Nginx / Apache 的核心能力：</p><ul><li>监听 80 / 443 端口</li><li>处理 HTTP 请求</li><li>返回正确的文件内容</li></ul><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>浏览器 ──HTTP──&gt; Nginx ──&gt; index.html</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>没有它：</p><ul><li>服务器不知道如何响应请求</li><li>也不会有正确的 headers（Content-Type、Cache 等）</li></ul><h2 id="三、为什么不能用-node-直接拷文件" tabindex="-1">三、为什么不能用 Node / 直接拷文件？ <a class="header-anchor" href="#三、为什么不能用-node-直接拷文件" aria-label="Permalink to &quot;三、为什么不能用 Node / 直接拷文件？&quot;">​</a></h2><p><strong>直接拷文件</strong></p><ul><li>浏览器不能 <code>file:///</code> 访问线上资源</li><li>SPA 路由全部失效</li></ul><p><strong>直接跑 <code>npm run dev</code></strong></p><ul><li>开发模式</li><li>性能差</li><li>不安全</li><li>不支持高并发</li></ul><h2 id="四、nginx-apache-在前端部署中的关键作用" tabindex="-1">四、Nginx / Apache 在前端部署中的关键作用 <a class="header-anchor" href="#四、nginx-apache-在前端部署中的关键作用" aria-label="Permalink to &quot;四、Nginx / Apache 在前端部署中的关键作用&quot;">​</a></h2><h3 id="_4-1-静态文件托管-最重要" tabindex="-1">4.1 静态文件托管（最重要） <a class="header-anchor" href="#_4-1-静态文件托管-最重要" aria-label="Permalink to &quot;4.1 静态文件托管（最重要）&quot;">​</a></h3><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> / </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  root </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/usr/share/nginx/html;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  index </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">index.html;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_4-2-spa-路由兜底-非常关键" tabindex="-1">4.2 SPA 路由兜底（非常关键） <a class="header-anchor" href="#_4-2-spa-路由兜底-非常关键" aria-label="Permalink to &quot;4.2 SPA 路由兜底（非常关键）&quot;">​</a></h3><p>前端路由如：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/login</span></span>
<span class="line"><span>/user/123</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>实际服务器没有这些文件</p><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try_files </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$uri $uri/ /index.html;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>否则刷新直接 404</p><h3 id="_4-3-性能优化-前端非常依赖" tabindex="-1">4.3 性能优化（前端非常依赖） <a class="header-anchor" href="#_4-3-性能优化-前端非常依赖" aria-label="Permalink to &quot;4.3 性能优化（前端非常依赖）&quot;">​</a></h3><ul><li>gzip / brotli 压缩</li><li>HTTP/2</li><li>静态资源缓存</li></ul><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">expires </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">1y;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">add_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Cache-Control public;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_4-4-https-证书" tabindex="-1">4.4 HTTPS &amp; 证书 <a class="header-anchor" href="#_4-4-https-证书" aria-label="Permalink to &quot;4.4 HTTPS &amp; 证书&quot;">​</a></h3><ul><li>TLS 终止</li><li>自动证书（Let’s Encrypt）</li></ul><p>前端项目<strong>必须 HTTPS</strong></p><h3 id="_4-5-反向代理-现代前端必备" tabindex="-1">4.5 反向代理（现代前端必备） <a class="header-anchor" href="#_4-5-反向代理-现代前端必备" aria-label="Permalink to &quot;4.5 反向代理（现代前端必备）&quot;">​</a></h3><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/api/ -&gt; 后端服务</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>解决跨域</li><li>前后端解耦</li><li>统一域名</li></ul><h2 id="五、不同-web-服务器的对比" tabindex="-1">五、不同 Web 服务器的对比 <a class="header-anchor" href="#五、不同-web-服务器的对比" aria-label="Permalink to &quot;五、不同 Web 服务器的对比&quot;">​</a></h2><table tabindex="0"><thead><tr><th>特性</th><th>Nginx</th><th>Apache</th><th>Node.js</th><th>直接文件</th></tr></thead><tbody><tr><td>静态文件服务</td><td>✅ 优秀</td><td>✅ 优秀</td><td>✅ 可以</td><td>❌ 有限</td></tr><tr><td>SPA 路由支持</td><td>✅ 需要配置</td><td>✅ 需要配置</td><td>✅ 容易</td><td>❌ 不支持</td></tr><tr><td>性能</td><td>⭐⭐⭐⭐⭐</td><td>⭐⭐⭐⭐</td><td>⭐⭐⭐</td><td>N/A</td></tr><tr><td>配置复杂度</td><td>中等</td><td>较高</td><td>低</td><td>无</td></tr><tr><td>内存占用</td><td>低</td><td>中等</td><td>高</td><td>无</td></tr><tr><td>生产就绪</td><td>✅</td><td>✅</td><td>✅ 但需优化</td><td>❌</td></tr></tbody></table><h2 id="六、实际部署示例" tabindex="-1">六、实际部署示例 <a class="header-anchor" href="#六、实际部署示例" aria-label="Permalink to &quot;六、实际部署示例&quot;">​</a></h2><h3 id="_1-最简单的-nginx-配置" tabindex="-1">1. <strong>最简单的 Nginx 配置</strong> <a class="header-anchor" href="#_1-最简单的-nginx-配置" aria-label="Permalink to &quot;1. **最简单的 Nginx 配置**&quot;">​</a></h3><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">yourdomain.com www.yourdomain.com;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    root </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/var/www/vue-app;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    index </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">index.html;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # SPA 路由支持</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> / </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try_files </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$uri $uri/ /index.html;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 静态资源缓存</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    location</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ~*</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;"> \\.(js|css|png|jpg|jpeg|gif|ico)$ </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        expires </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">1y;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        add_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Cache-Control </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;public, immutable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_2-docker-nginx-组合" tabindex="-1">2. <strong>Docker + Nginx 组合</strong> <a class="header-anchor" href="#_2-docker-nginx-组合" aria-label="Permalink to &quot;2. **Docker + Nginx 组合**&quot;">​</a></h3><div class="language-dockerfile vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">dockerfile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 多阶段构建：Node 构建，Nginx 运行</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> node:18 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> builder</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WORKDIR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /app</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> . .</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RUN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> npm install &amp;&amp; npm run build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nginx:alpine</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> --from=builder /app/dist /usr/share/nginx/html</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">COPY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nginx.conf /etc/nginx/conf.d/default.conf</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">EXPOSE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 80</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CMD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nginx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-g&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;daemon off;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_3-apache-配置示例" tabindex="-1">3. <strong>Apache 配置示例</strong> <a class="header-anchor" href="#_3-apache-配置示例" aria-label="Permalink to &quot;3. **Apache 配置示例**&quot;">​</a></h3><div class="language-apache vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">apache</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VirtualHost</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> *:80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ServerName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> yourdomain.com</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    DocumentRoot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /var/www/vue-app</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Directory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/vue-app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        Options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Indexes FollowSymLinks</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        AllowOverride</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> All</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        Require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> all granted</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # SPA 路由重写</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        RewriteEngine</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> On</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        RewriteBase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        RewriteRule</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;"> ^index\\.html$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [L]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        RewriteCond</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;"> %{REQUEST_FILENAME}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> !-f</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        RewriteCond</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;"> %{REQUEST_FILENAME}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> !-d</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        RewriteRule</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;"> .</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /index.html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [L]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Directory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VirtualHost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div>`,51))])}const F=n(k,[["render",c]]);export{y as __pageData,F as default};
