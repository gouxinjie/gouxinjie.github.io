import{_ as t,C as e,c as n,o as l,j as i,G as h,aQ as p,a as r}from"./chunks/framework.DEi4YP2n.js";const y=JSON.parse('{"title":"React ä¸­çš„ useContext è§£æï¼šå…±äº«çŠ¶æ€ä¸å…¨å±€æ•°æ®çš„åˆ©å™¨","description":"","frontmatter":{},"headers":[],"relativePath":"column/React/çŠ¶æ€ä¼ é€’/useContext.md","filePath":"column/React/çŠ¶æ€ä¼ é€’/useContext.md","lastUpdated":1760403902000}'),k={name:"column/React/çŠ¶æ€ä¼ é€’/useContext.md"};function d(o,s,c,u,E,g){const a=e("ArticleMetadata");return l(),n("div",null,[s[0]||(s[0]=i("h1",{id:"react-ä¸­çš„-usecontext-è§£æ-å…±äº«çŠ¶æ€ä¸å…¨å±€æ•°æ®çš„åˆ©å™¨",tabindex:"-1"},[r("React ä¸­çš„ useContext è§£æï¼šå…±äº«çŠ¶æ€ä¸å…¨å±€æ•°æ®çš„åˆ©å™¨ "),i("a",{class:"header-anchor",href:"#react-ä¸­çš„-usecontext-è§£æ-å…±äº«çŠ¶æ€ä¸å…¨å±€æ•°æ®çš„åˆ©å™¨","aria-label":'Permalink to "React ä¸­çš„ useContext è§£æï¼šå…±äº«çŠ¶æ€ä¸å…¨å±€æ•°æ®çš„åˆ©å™¨"'},"â€‹")],-1)),h(a),s[1]||(s[1]=p(`<blockquote><p>åœ¨ React ä¸­ï¼Œæ•°æ®é€šå¸¸æ˜¯é€šè¿‡ props è‡ªä¸Šè€Œä¸‹ä¼ é€’çš„ï¼ˆçˆ¶ â†’ å­ï¼‰ã€‚<br> å½“ç»„ä»¶å±‚çº§å˜æ·±æ—¶ï¼Œâ€œé€å±‚ä¼ é€’ propsâ€ä¼šå˜å¾—ç¹çä¸”éš¾ç»´æŠ¤ã€‚</p><p><code>useContext</code> æ˜¯ React æä¾›çš„ Hookï¼Œç”¨äºè®© <strong>ä»»æ„ç»„ä»¶è½»æ¾è®¿é—®å…±äº«æ•°æ®</strong>ï¼Œæ— éœ€é€å±‚ä¼ é€’ã€‚</p></blockquote><h2 id="ä¸€ã€ä»€ä¹ˆæ˜¯-usecontext" tabindex="-1">ä¸€ã€ä»€ä¹ˆæ˜¯ useContextï¼Ÿ <a class="header-anchor" href="#ä¸€ã€ä»€ä¹ˆæ˜¯-usecontext" aria-label="Permalink to &quot;ä¸€ã€ä»€ä¹ˆæ˜¯ useContextï¼Ÿ&quot;">â€‹</a></h2><h3 id="ğŸ“˜-åŸºæœ¬å®šä¹‰" tabindex="-1">ğŸ“˜ åŸºæœ¬å®šä¹‰ï¼š <a class="header-anchor" href="#ğŸ“˜-åŸºæœ¬å®šä¹‰" aria-label="Permalink to &quot;ğŸ“˜ åŸºæœ¬å®šä¹‰ï¼š&quot;">â€‹</a></h3><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Context);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><table tabindex="0"><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>Context</code></td><td>React Context å¯¹è±¡</td><td>ç”± <code>React.createContext()</code> åˆ›å»º</td></tr><tr><td>è¿”å›å€¼</td><td>Context çš„å½“å‰å€¼</td><td>æ¥è‡ªæœ€è¿‘çš„ <code>&lt;Context.Provider&gt;</code></td></tr></tbody></table><blockquote><p>å½“ Context çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰€æœ‰ä½¿ç”¨ <code>useContext</code> çš„ç»„ä»¶ä¼š<strong>è‡ªåŠ¨é‡æ–°æ¸²æŸ“</strong>ã€‚</p></blockquote><h2 id="äºŒã€åŸºç¡€ç¤ºä¾‹-ä¸»é¢˜åˆ‡æ¢" tabindex="-1">äºŒã€åŸºç¡€ç¤ºä¾‹ï¼šä¸»é¢˜åˆ‡æ¢ <a class="header-anchor" href="#äºŒã€åŸºç¡€ç¤ºä¾‹-ä¸»é¢˜åˆ‡æ¢" aria-label="Permalink to &quot;äºŒã€åŸºç¡€ç¤ºä¾‹ï¼šä¸»é¢˜åˆ‡æ¢&quot;">â€‹</a></h2><h3 id="_1ï¸âƒ£-åˆ›å»º-context" tabindex="-1">1ï¸âƒ£ åˆ›å»º Context <a class="header-anchor" href="#_1ï¸âƒ£-åˆ›å»º-context" aria-label="Permalink to &quot;1ï¸âƒ£ åˆ›å»º Context&quot;">â€‹</a></h3><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> React, { createContext, useState } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ThemeContext</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;light&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é»˜è®¤å€¼</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_2ï¸âƒ£-æä¾›-context-å€¼" tabindex="-1">2ï¸âƒ£ æä¾› Context å€¼ <a class="header-anchor" href="#_2ï¸âƒ£-æä¾›-context-å€¼" aria-label="Permalink to &quot;2ï¸âƒ£ æä¾› Context å€¼&quot;">â€‹</a></h3><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThemeProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">children</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">theme</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setTheme</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;light&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ThemeContext.Provider</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{{ theme, setTheme }}&gt;{children}&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ThemeContext.Provider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3ï¸âƒ£-æ¶ˆè´¹-context-å€¼" tabindex="-1">3ï¸âƒ£ æ¶ˆè´¹ Context å€¼ <a class="header-anchor" href="#_3ï¸âƒ£-æ¶ˆè´¹-context-å€¼" aria-label="Permalink to &quot;3ï¸âƒ£ æ¶ˆè´¹ Context å€¼&quot;">â€‹</a></h3><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> React, { useContext } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ThemeContext } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./ThemeContext&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThemedButton</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">theme</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setTheme</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ThemeContext);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      style</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        background: theme </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;light&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;#eee&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;#333&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        color: theme </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;light&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;#000&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;#fff&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setTheme</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(theme </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;light&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;dark&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;light&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      åˆ‡æ¢ä¸»é¢˜</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>âœ… è¿™æ ·ï¼Œæ— è®º <code>ThemedButton</code> åœ¨ç»„ä»¶æ ‘çš„å“ªä¸€å±‚ï¼Œéƒ½èƒ½ç›´æ¥è®¿é—®å…±äº«çŠ¶æ€ <code>theme</code> å’Œ <code>setTheme</code>ï¼Œæ— éœ€çˆ¶ç»„ä»¶ä¼ é€’ propsã€‚</p><h2 id="ä¸‰ã€usecontext-ä¸ä¼ ç»Ÿ-props-ä¼ é€’å¯¹æ¯”" tabindex="-1">ä¸‰ã€useContext ä¸ä¼ ç»Ÿ props ä¼ é€’å¯¹æ¯” <a class="header-anchor" href="#ä¸‰ã€usecontext-ä¸ä¼ ç»Ÿ-props-ä¼ é€’å¯¹æ¯”" aria-label="Permalink to &quot;ä¸‰ã€useContext ä¸ä¼ ç»Ÿ props ä¼ é€’å¯¹æ¯”&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>å¯¹æ¯”ç‚¹</th><th>props ä¼ é€’</th><th>useContext</th></tr></thead><tbody><tr><td>æ•°æ®ä¼ é€’æ–¹å¼</td><td>é€å±‚ä¼ é€’</td><td>ä»»æ„ç»„ä»¶ç›´æ¥è®¿é—®</td></tr><tr><td>é€‚åˆåœºæ™¯</td><td>ç®€å•ç»„ä»¶æ ‘</td><td>æ·±å±‚ç»„ä»¶å…±äº«çŠ¶æ€</td></tr><tr><td>çµæ´»æ€§</td><td>å—é™</td><td>é«˜ï¼Œè·¨å±‚çº§è®¿é—®</td></tr><tr><td>å¯ç»´æŠ¤æ€§</td><td>å·®ï¼Œå±‚çº§æ·±æ—¶å¤æ‚</td><td>é«˜ï¼Œå‡å°‘ prop drilling</td></tr><tr><td>æ˜¯å¦è§¦å‘é‡æ¸²æŸ“</td><td>ä»…çˆ¶ç»„ä»¶çŠ¶æ€å˜æ›´</td><td>Context å€¼å˜åŒ–æ—¶é‡æ–°æ¸²æŸ“</td></tr></tbody></table><h2 id="å››ã€usecontext-ä¸-context-provider" tabindex="-1">å››ã€useContext ä¸ Context.Provider <a class="header-anchor" href="#å››ã€usecontext-ä¸-context-provider" aria-label="Permalink to &quot;å››ã€useContext ä¸ Context.Provider&quot;">â€‹</a></h2><ul><li>Context <strong>å¿…é¡»é…åˆ Provider</strong> æ‰èƒ½æä¾›æ•°æ®ï¼›</li><li>Provider å¯ä»¥åµŒå¥—ï¼Œæœ€è¿‘çš„ Provider çš„å€¼ä¼˜å…ˆï¼›</li></ul><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ThemeContext.Provider</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;light&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ThemeContext.Provider</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dark&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt; {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* è¿™é‡Œ useContext è®¿é—®åˆ°çš„æ˜¯ &quot;dark&quot; */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ThemeContext.Provider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ThemeContext.Provider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="äº”ã€usecontext-çš„æ³¨æ„äº‹é¡¹" tabindex="-1">äº”ã€useContext çš„æ³¨æ„äº‹é¡¹ <a class="header-anchor" href="#äº”ã€usecontext-çš„æ³¨æ„äº‹é¡¹" aria-label="Permalink to &quot;äº”ã€useContext çš„æ³¨æ„äº‹é¡¹&quot;">â€‹</a></h2><p>1ï¸âƒ£ <strong>åªè¯»å– context å€¼ï¼Œä¸ä¿®æ”¹ context æœ¬èº«</strong></p><ul><li>ä¿®æ”¹å€¼åº”è¯¥åœ¨ Provider å†…éƒ¨é€šè¿‡ <code>setState</code> æˆ–å…¶ä»–çŠ¶æ€ç®¡ç†å‡½æ•°ã€‚</li></ul><p>2ï¸âƒ£ <strong>Context å€¼å˜åŒ–ä¼šå¯¼è‡´ç»„ä»¶é‡æ–°æ¸²æŸ“</strong></p><ul><li>å¦‚æœä¼ å…¥å¯¹è±¡å­—é¢é‡ï¼Œå¦‚ <code>{ theme, setTheme }</code>ï¼Œå»ºè®®ç”¨ <code>useMemo</code> ä¼˜åŒ–ï¼š</li></ul><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useMemo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ theme, setTheme }), [theme]);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>3ï¸âƒ£ <strong>ä¸è¦åœ¨ render ä¸­åˆ›å»º Context</strong></p><ul><li>åº”åœ¨ç»„ä»¶å¤–éƒ¨æˆ– Provider ç»„ä»¶ä¸­åˆ›å»ºã€‚</li></ul><h2 id="å…­ã€å®æˆ˜åœºæ™¯" tabindex="-1">å…­ã€å®æˆ˜åœºæ™¯ <a class="header-anchor" href="#å…­ã€å®æˆ˜åœºæ™¯" aria-label="Permalink to &quot;å…­ã€å®æˆ˜åœºæ™¯&quot;">â€‹</a></h2><h3 id="_1ï¸âƒ£-å…¨å±€ä¸»é¢˜" tabindex="-1">1ï¸âƒ£ å…¨å±€ä¸»é¢˜ <a class="header-anchor" href="#_1ï¸âƒ£-å…¨å±€ä¸»é¢˜" aria-label="Permalink to &quot;1ï¸âƒ£ å…¨å±€ä¸»é¢˜&quot;">â€‹</a></h3><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ThemeContext</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>å­˜å‚¨ themeã€åˆ‡æ¢å‡½æ•°</li><li>ä»»æ„ç»„ä»¶é€šè¿‡ <code>useContext</code> è®¿é—®å’Œä¿®æ”¹</li></ul><h3 id="_2ï¸âƒ£-ç”¨æˆ·ç™»å½•ä¿¡æ¯" tabindex="-1">2ï¸âƒ£ ç”¨æˆ·ç™»å½•ä¿¡æ¯ <a class="header-anchor" href="#_2ï¸âƒ£-ç”¨æˆ·ç™»å½•ä¿¡æ¯" aria-label="Permalink to &quot;2ï¸âƒ£ ç”¨æˆ·ç™»å½•ä¿¡æ¯&quot;">â€‹</a></h3><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> UserContext</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ã€token</li><li>é¡µé¢å„å¤„ç›´æ¥è¯»å–</li></ul><h3 id="_3ï¸âƒ£-å¤šè¯­è¨€-i18n" tabindex="-1">3ï¸âƒ£ å¤šè¯­è¨€ i18n <a class="header-anchor" href="#_3ï¸âƒ£-å¤šè¯­è¨€-i18n" aria-label="Permalink to &quot;3ï¸âƒ£ å¤šè¯­è¨€ i18n&quot;">â€‹</a></h3><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> LocaleContext</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;zh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>å­˜å‚¨å½“å‰è¯­è¨€ã€åˆ‡æ¢å‡½æ•°</li><li>æ–‡æœ¬ç»„ä»¶ç›´æ¥è¯»å– locale</li></ul><h2 id="ä¸ƒã€usecontext-ä¸-redux-zustand-çš„å¯¹æ¯”" tabindex="-1">ä¸ƒã€useContext ä¸ Redux / Zustand çš„å¯¹æ¯” <a class="header-anchor" href="#ä¸ƒã€usecontext-ä¸-redux-zustand-çš„å¯¹æ¯”" aria-label="Permalink to &quot;ä¸ƒã€useContext ä¸ Redux / Zustand çš„å¯¹æ¯”&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>ç‰¹æ€§</th><th>useContext</th><th>Redux / Zustand</th></tr></thead><tbody><tr><td>ä½¿ç”¨æˆæœ¬</td><td>âœ… å†…ç½® Hook</td><td>âŒ éœ€é¢å¤–åº“</td></tr><tr><td>æ€§èƒ½ä¼˜åŒ–</td><td>âš ï¸ å®¹æ˜“å…¨ç»„ä»¶æ¸²æŸ“</td><td>âœ… å¯ç»†ç²’åº¦è®¢é˜…</td></tr><tr><td>æ•°æ®å…±äº«èŒƒå›´</td><td>å…¨å±€ / Provider èŒƒå›´</td><td>å…¨å±€å¯è·¨æ¨¡å—</td></tr><tr><td>é€‚åˆé¡¹ç›®</td><td>å°ä¸­å‹é¡¹ç›®</td><td>å¤§å‹å¤æ‚é¡¹ç›®</td></tr></tbody></table><p>ğŸ’¡ å»ºè®®ï¼š</p><ul><li>å°å‹é¡¹ç›®æˆ–å°‘é‡å…±äº«çŠ¶æ€ â†’ <code>useContext</code> è¶³å¤Ÿ</li><li>å¤æ‚çŠ¶æ€ç®¡ç†ã€å¤šæ¨¡å—å…±äº« â†’ è€ƒè™‘ Redux / Zustand</li></ul>`,41))])}const F=t(k,[["render",d]]);export{y as __pageData,F as default};
