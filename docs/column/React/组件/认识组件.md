# 认识组件

[[toc]]

## 一、为什么 React 选择组件化？

在传统 Web 开发中，我们常面临代码重复、维护困难等问题。React 引入组件化开发模式，从根本上改变了前端开发方式：

```jsx
// 传统的DOM操作方式
document.getElementById("app").innerHTML = `
  <div class="header">
    <h1>Hello World</h1>
  </div>
`;

// React组件化方式
function Header() {
  return (
    <div className="header">
      <h1>Hello World</h1>
    </div>
  );
}
```

## 二、组件的核心优势

### 1. 可复用性（Reusability）

```jsx
// 定义Button组件
function Button({ text, onClick }) {
  return <button onClick={onClick}>{text}</button>;
}

// 多处复用
<Button text="提交" onClick={handleSubmit} />
<Button text="取消" onClick={handleCancel} />
```

### 2. 可维护性（Maintainability）

- **隔离性**：每个组件维护自己的状态和逻辑
- **定位快速**：错误和修改可快速定位到具体组件
- **独立测试**：组件可单独测试验证

### 3. 组合性（Composability）

```jsx
function Card({ title, content }) {
  return (
    <div className="card">
      <Header title={title} />
      <Body content={content} />
      <Footer />
    </div>
  );
}
```

## 三、React 组件的哲学思考

### 1. 单一职责原则

每个组件应只关注一个特定功能，如：

- `Button`：处理点击交互
- `Input`：管理输入状态
- `Modal`：控制显示/隐藏

### 2. 声明式编程

```jsx
// 命令式（怎么做）
const div = document.createElement("div");
div.className = "success";
div.textContent = "操作成功";
parent.appendChild(div);

// 声明式（做什么）
<div className="success">操作成功</div>;
```

### 3. 自上而下的数据流

```jsx
function App() {
  const [count, setCount] = useState(0);

  return (
    <div>
      <CounterDisplay count={count} />
      <CounterButton setCount={setCount} />
    </div>
  );
}
```

## 四、组件化开发的实践演进

### 1. 类组件 vs 函数组件

```jsx
// 类组件
class Welcome extends React.Component {
  render() {
    return <h1>Hello, {this.props.name}</h1>;
  }
}

// 函数组件（现代推荐）
function Welcome({ name }) {
  return <h1>Hello, {name}</h1>;
}
```

### 2. 组件设计模式

| 模式        | 用途         | 示例          |
| ----------- | ------------ | ------------- |
| 展示组件    | 负责 UI 呈现 | Button, Card  |
| 容器组件    | 管理业务逻辑 | UserContainer |
| 高阶组件    | 组件复用逻辑 | withRouter    |
| 自定义 Hook | 状态逻辑复用 | useFetch      |

## 五、组件化思维的延伸价值

1. **设计系统构建**：基于组件搭建统一的设计语言
2. **微前端架构**：将组件思想扩展到应用级别
3. **跨平台开发**：React Native/React VR 等衍生方案

## 结语

React 组件化不仅是一种技术实现，更是一种软件开发哲学。它教会我们：

- **分而治之**：通过拆分降低复杂度
- **关注点分离**：让每个部分专注自己的职责
- **组合优于继承**：通过简单组件构建复杂系统

> [!TIP] 正如 React 官方文档所说： "React is all about building reusable components." 掌握组件化思维，是成为优秀 React 开发者的必经之路。
