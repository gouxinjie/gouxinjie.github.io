# 对象存储（Object Storage）

[[toc]]

> 对象存储已经成为云计算、互联网和企业数据存储的标配，  
> 从阿里云 OSS、AWS S3，到腾讯云 COS、七牛云存储，都是基于对象存储设计。

## 一、什么是对象存储？

对象存储是一种**以对象为单位进行存储和管理**的数据存储方式。它与传统文件存储和块存储不同，核心概念是：

```
对象 = 数据 + 元数据 + 唯一标识（Key）
```

- **数据（Data）**：实际存储的内容，比如图片、视频、文档等
- **元数据（Metadata）**：描述对象的附加信息，比如大小、类型、创建时间
- **唯一标识（Key）**：对象的唯一访问路径或名称

对象存储不再依赖传统的目录结构，而是通过**全局唯一的 Key**来访问每一个对象。

## 二、对象存储 vs 传统存储

| 存储类型                   | 数据单元 | 访问方式            | 优点                       | 缺点                             |
| -------------------------- | -------- | ------------------- | -------------------------- | -------------------------------- |
| 块存储（Block Storage）    | 块       | 类似硬盘，读写块    | 高性能，低延迟             | 不方便跨地域共享，需挂载文件系统 |
| 文件存储（File Storage）   | 文件     | 目录结构、路径访问  | 兼容性好，易迁移           | 扩展性差，性能随文件系统增长下降 |
| 对象存储（Object Storage） | 对象     | HTTP API（RESTful） | 高扩展性、海量存储、易管理 | 低延迟写入少，随机写不灵活       |

> 总结：对象存储适合**海量非结构化数据**，而非传统高性能数据库或块存储场景。

## 三、对象存储的核心特点

1️⃣ **海量扩展**

- 理论上可以存储 PB 级数据
- 通过分布式架构实现高扩展性

2️⃣ **数据通过 Key 唯一访问**

- 无需目录层级
- RESTful API 支持 CRUD 操作

3️⃣ **高可靠性与持久性**

- 数据冗余存储在多个节点或机房
- 保障数据不丢失

4️⃣ **支持元数据管理**

- 可以给对象添加自定义属性
- 方便数据检索和分类

5️⃣ **低成本**

- 按需存储、按量计费
- 适合备份、归档和 CDN 加速场景

## 四、对象存储的典型应用场景

| 场景           | 描述                         |
| -------------- | ---------------------------- |
| 图片、视频存储 | CDN + OSS/S3 提供全球访问    |
| 日志存储       | 备份、分析大数据             |
| 静态网站托管   | 将网站文件存入对象存储 + CDN |
| 数据归档       | 长期保存备份数据，低成本     |
| 机器学习/AI    | 存储训练数据集、模型文件     |

## 五、对象存储的基本操作

以 AWS S3 或阿里云 OSS 为例，操作主要通过 **HTTP API 或 SDK**：

1️⃣ **上传对象（PUT / UploadFile）**

```js
PUT / bucket - name / object - key;
```

- 上传文件并指定元数据
- 支持大文件分片上传

2️⃣ **下载对象（GET / DownloadFile）**

```js
GET / bucket - name / object - key;
```

- 通过 Key 获取对象数据
- 可设置 URL 过期时间（临时访问）

3️⃣ **删除对象（DELETE）**

```js
DELETE / bucket - name / object - key;
```

- 支持批量删除

4️⃣ **获取对象元数据（HEAD）**

```js
HEAD / bucket - name / object - key;
```

- 获取文件大小、类型、创建时间等信息

5️⃣ **权限管理**

- 可以设置公有读、私有读写
- 支持基于 IAM 的细粒度权限

## 六、对象存储常用概念

| 概念               | 说明                         |
| ------------------ | ---------------------------- |
| Bucket（桶）       | 存放对象的逻辑容器           |
| Object（对象）     | 数据 + 元数据 + Key          |
| Key                | 对象唯一标识                 |
| Metadata（元数据） | 文件类型、大小、自定义属性   |
| CDN                | 加速对象全球访问             |
| ACL                | 权限控制（公有/私有）        |
| Multipart Upload   | 大文件分片上传，支持断点续传 |

## 七、对象存储与 CDN 的组合

- 对象存储常配合 CDN 使用：

  1. 文件上传到对象存储
  2. CDN 分发节点缓存对象
  3. 用户访问直接从就近 CDN 节点获取

- 优势：

  - 减少源站压力
  - 全球访问低延迟
  - 静态资源加速

## 八、对象存储优缺点总结

| 优点                   | 缺点                                   |
| ---------------------- | -------------------------------------- |
| 高扩展性、几乎无限存储 | 随机写性能低，不适合高频写入数据库场景 |
| 易于管理，支持元数据   | 数据访问延迟略高于本地存储             |
| 支持海量非结构化数据   | 不适合作为主数据库                     |
| 与 CDN 完美结合        | 大量小文件可能增加管理开销             |
| 低成本                 | 需要理解 Bucket/Key/ACL 概念           |
